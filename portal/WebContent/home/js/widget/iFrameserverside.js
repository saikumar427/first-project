var Prototype=	{
					Version:"1.5.0",
					BrowserFeatures:{XPath:!!document.evaluate},
					ScriptFragment:"(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)",
					emptyFunction:function(){},K:function(a){return a}
				};
var Class=
				{
					create:function()
						{
							return function()
									{
										this.initialize.apply(this,arguments)
									}
						}
				};
var Abstract=new Object();
Object.extend=function(a,c)
				{
					for(var b in c){a[b]=c[b]}return a
				};
Object.extend(Object,
			  {inspect:function(a)
				{
					try
						{
							if(a===undefined){return"undefined"}if(a===null){return"null"}return a.inspect?a.inspect():a.toString()
						}
						catch(b)
						{
							if(b instanceof RangeError)
							{
								return"..."
							}
							throw b
						}
				},
				keys:function(a)
				{
					var b=[];
					for(var c in a)
						{
							b.push(c)
						}
					return b
				},
				values:function(b)
				{
					var a=[];
					for(var c in b)
						{
							a.push(b[c])
						}
					return a
				},
				clone:function(a)
				{
					return Object.extend({},a)
				}
			});
Function.prototype.bind=function()
						{
							var a=this,
							c=$A(arguments),
							b=c.shift();
							return function()
									{
										return a.apply(b,c.concat($A(arguments)))
									}
						};
Function.prototype.bindAsEventListener=function(c)
										{
											var a=this,
											b=$A(arguments),
											c=b.shift();
											return function(d)
													{
														return a.apply(c,[(d||window.event)].concat(b).concat($A(arguments)))
													}
										};
Object.extend(Number.prototype,{toColorPart:function()
											{
												var a=this.toString(16);
												if(this<16){return"0"+a}return a
											},
										succ:function()
										{
											return this+1
										},
										times:function(a)
										{
											$R(0,this,true).each(a);return this}
										}
			);
			var Try={these:function()
							{
								var c;
								for(var b=0,d=arguments.length;b<d;b++)
								{
									var a=arguments[b];
									try{c=a();break}catch(g){}
								}return c
							}
					};
			var PeriodicalExecuter=Class.create();
			PeriodicalExecuter.prototype={initialize:function(b,a)
														{
															this.callback=b;
															this.frequency=a;
															this.currentlyExecuting=false;
															this.registerCallback()
														},
										registerCallback:function()
														{
															this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000)
														},
										stop:function()
											{
												if(!this.timer){return}
												clearInterval(this.timer);
												this.timer=null
											},
										onTimerEvent:function()
														{
															if(!this.currentlyExecuting)
																{
																	try{this.currentlyExecuting=true;this.callback(this)}
																	finally{this.currentlyExecuting=false}
																}
														}
											};
			String.interpret=function(a){return a==null?"":String(a)};
							 Object.extend(String.prototype,{
								 gsub:function(e,c)
									{
										var a="",d=this,b;c=arguments.callee.prepareReplacement(c);
										while(d.length>0){
															if(b=d.match(e))
															{
																a+=d.slice(0,b.index);
																a+=String.interpret(c(b));
																d=d.slice(b.index+b[0].length)
															}
															else{a+=d,d=""}
														}return a
									},
								sub:function(c,a,b)
								{
										a=this.gsub.prepareReplacement(a);
										b=b===undefined?1:b;
										return this.gsub(c,function(d){if(--b<0){return d[0]}return a(d)})
								},
								scan:function(b,a)
										{
												this.gsub(b,a);return this
										},
								truncate:function(b,a)
										{
													b=b||30;a=a===undefined?"...":a;
													return this.length>b?this.slice(0,b-a.length)+a:this
										},
								strip:function()
										{
											return this.replace(/^\s+/,"").replace(/\s+$/,"")
										},
								stripTags:function()
										{
											return this.replace(/<\/?[^>]+>/gi,"")
										},
								stripScripts:function()
										{
											return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")
										},
								extractScripts:function()
										{
											var b=new RegExp(Prototype.ScriptFragment,"img");
											var a=new RegExp(Prototype.ScriptFragment,"im");
											return(this.match(b)||[]).map(function(c){return(c.match(a)||["",""])[1]})
										},
								evalScripts:function()
										{
											return this.extractScripts().map(function(script){return eval(script)})
										},
								escapeHTML:function()
										{
											var b=document.createElement("div");
											var a=document.createTextNode(this);
											b.appendChild(a);
											return b.innerHTML
										},
								unescapeHTML:function()
										{
											var a=document.createElement("div");
											a.innerHTML=this.stripTags();
											return a.childNodes[0]?(a.childNodes.length>1?$A(a.childNodes).inject("",function(b,c){return b+c.nodeValue}):a.childNodes[0].nodeValue):""
										},
								toQueryParams:function(b)
										{
											var a=this.strip().match(/([^?#]*)(#.*)?$/);
											if(!a){return{}}
											return a[1].split(b||"&").inject({},function(e,g)
																				{
																					if((g=g.split("="))[0])
																					{
																						var c=decodeURIComponent(g[0]);
																						var d=g[1]?decodeURIComponent(g[1]):undefined;
																						if(e[c]!==undefined)
																							{
																								if(e[c].constructor!=Array)
																								{
																									e[c]=[e[c]]
																								}
																								if(d){e[c].push(d)}
																							}
																							else{e[c]=d}
																					}return e
																				}
																			)
										},
								toArray:function()
										{
											return this.split("")
										},
								succ:function()
										{
											return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)
										},
								camelize:function()
										{
											var d=this.split("-"),a=d.length;
											if(a==1){return d[0]}
											var c=this.charAt(0)=="-"?d[0].charAt(0).toUpperCase()+d[0].substring(1):d[0];
											for(var b=1;b<a;b++){c+=d[b].charAt(0).toUpperCase()+d[b].substring(1)}
											return c
										},
								capitalize:function()
										{
											return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()
										},
								underscore:function()
										{
											return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase()
										},
								dasherize:function()
										{
											return this.gsub(/_/,"-")
										},
								inspect:function(b)
										{
											var a=this.replace(/\\/g,"\\\\");
											if(b){return'"'+a.replace(/"/g,'\\"')+'"'}else{return"'"+a.replace(/'/g,"\\'")+"'"}}});
											String.prototype.gsub.prepareReplacement=function(b)
																						{
																							if(typeof b=="function"){return b}
																							var a=new Template(b);
																							return function(c){return a.evaluate(c)}
																						};
																						String.prototype.parseQuery=String.prototype.toQueryParams;
																						var Template=Class.create();
																						Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;
																						Template.prototype={
																											initialize:function(a,b){this.template=a.toString();this.pattern=b||Template.Pattern},
																											evaluate:function(a){return this.template.gsub(this.pattern,function(b){var c=b[1];if(c=="\\"){return b[2]}return c+String.interpret(a[b[3]])})}
																											};
																											var $break=new Object();
																											var $continue=new Object();
																											var Enumerable={each:function(b){var a=0;try{this._each(function(d){try{b(d,a++)}catch(g){if(g!=$continue){throw g}}})}catch(c){if(c!=$break){throw c}}return this},findAll:function(b){var a=[];this.each(function(d,c){if(b(d,c)){a.push(d)}});return a},include:function(a){var b=false;this.each(function(c){if(c==a){b=true;throw $break}});return b}};
																											
var $A=Array.from=function(d){if(!d){return[]}if(d.toArray){return d.toArray()}else{var b=[];for(var a=0,c=d.length;a<c;a++){b.push(d[a])}return b}};
Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse}Object.extend(Array.prototype,{_each:function(b){for(var a=0,c=this.length;a<c;a++){b(this[a])}},clear:function(){this.length=0;return this},first:function(){return this[0]},last:function(){return this[this.length-1]},compact:function(){return this.select(function(a){return a!=null})},flatten:function(){return this.inject([],function(b,a){return b.concat(a&&a.constructor==Array?a.flatten():[a])})},without:function(){var a=$A(arguments);return this.select(function(b){return !a.include(b)})},indexOf:function(a){for(var b=0,c=this.length;b<c;b++){if(this[b]==a){return b}}return -1},uniq:function(){return this.inject([],function(b,a){return b.include(a)?b:b.concat([a])})},clone:function(){return[].concat(this)},size:function(){return this.length},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]"}});Array.prototype.toArray=Array.prototype.clone;function $w(a){a=a.strip();return a?a.split(/\s+/):[]}if(window.opera){Array.prototype.concat=function(){var e=[];for(var b=0,c=this.length;b<c;b++){e.push(this[b])}for(var b=0,c=arguments.length;b<c;b++){if(arguments[b].constructor==Array){for(var a=0,d=arguments[b].length;a<d;a++){e.push(arguments[b][a])}}else{e.push(arguments[b])}}return e}}var Hash=function(a){Object.extend(this,a||{})};Object.extend(Hash,{toQueryString:function(b){var a=[];this.prototype._each.call(b,function(d){if(!d.key){return}if(d.value&&d.value.constructor==Array){var c=d.value.compact();if(c.length<2){d.value=c.reduce()}else{key=encodeURIComponent(d.key);c.each(function(e){e=e!=undefined?encodeURIComponent(e):"";a.push(key+"="+encodeURIComponent(e))});return}}if(d.value==undefined){d[1]=""}a.push(d.map(encodeURIComponent).join("="))});return a.join("&")}});Object.extend(Hash.prototype,Enumerable);ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(c,a,b){this.start=c;this.end=a;this.exclusive=b},_each:function(a){var b=this.start;while(this.include(b)){a(b);b=b.succ()}},include:function(a){if(a<this.start){return false}if(this.exclusive){return a<this.end}return a<=this.end}});var $R=function(c,a,b){return new ObjectRange(c,a,b)};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(a){this.responders._each(a)},register:function(a){if(!this.include(a)){this.responders.push(a)}},unregister:function(a){this.responders=this.responders.without(a)},dispatch:function(d,b,c,a){this.each(function(g){if(typeof g[d]=="function"){try{g[d].apply(g,[b,c,a])}catch(j){}}})}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(a){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams()}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(b,a){this.transport=Ajax.getTransport();this.setOptions(a);this.request(b)},cancel:function(){this.transport.abort()},request:function(b){this.url=b;this.method=this.options.method;var d=this.options.parameters;if(!["get","post"].include(this.method)){d._method=this.method;this.method="post"}d=Hash.toQueryString(d);if(d&&/Konqueror|Safari|KHTML/.test(navigator.userAgent)){d+="&_="}if(this.method=="get"&&d){this.url+=(this.url.indexOf("?")>-1?"&":"?")+d}try{Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1)}.bind(this),10)}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();var a=this.method=="post"?(this.options.postBody||d):null;this.transport.send(a);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(c){this.dispatchException(c)}},onStateChange:function(){var a=this.transport.readyState;if(a>1&&!((a==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){e.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var c=this.options.requestHeaders;if(typeof c.push=="function"){for(var b=0,d=c.length;b<d;b+=2){e[c[b]]=c[b+1]}}else{$H(c).each(function(g){e[g.key]=g.value})}}for(var a in e){this.transport.setRequestHeader(a,e[a])}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300)},respondToReadyState:function(a){var c=Ajax.Request.Events[a];var g=this.transport,b=this.evalJSON();if(c=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(g,b)}catch(d){this.dispatchException(d)}if((this.getHeader("Content-type")||"text/javascript").strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse()}}try{(this.options["on"+c]||Prototype.emptyFunction)(g,b);Ajax.Responders.dispatch("on"+c,this,g,b)}catch(d){this.dispatchException(d)}if(c=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction}},getHeader:function(a){try{return this.transport.getResponseHeader(a)}catch(b){return null}},evalJSON:function(){try{var json=this.getHeader("X-JSON");return json?eval("("+json+")"):null}catch(e){return null}},evalResponse:function(){try{return eval(this.transport.responseText)}catch(e){this.dispatchException(e)}},dispatchException:function(a){(this.options.onException||Prototype.emptyFunction)(this,a);Ajax.Responders.dispatch("onException",this,a)}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(a,c,b){this.container={success:(a.success||a),failure:(a.failure||(a.success?null:a))};this.transport=Ajax.getTransport();this.setOptions(b);var d=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(g,e){this.updateContent();d(g,e)}).bind(this);this.request(c)},updateContent:function(){var b=this.container[this.success()?"success":"failure"];var a=this.transport.responseText;if(!this.options.evalScripts){a=a.stripScripts()}if(b=$(b)){if(this.options.insertion){new this.options.insertion(b,a)}else{b.update(a)}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10)}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(a,c,b){this.setOptions(b);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=a;this.url=c;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(a){if(this.options.decay){this.decay=(a.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=a.responseText}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});function $(b){if(arguments.length>1){for(var a=0,d=[],c=arguments.length;a<c;a++){d.push($(arguments[a]))}return d}if(typeof b=="string"){b=document.getElementById(b)}return Element.extend(b)}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(g,a){var c=[];var e=document.evaluate(g,$(a)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var b=0,d=e.snapshotLength;b<d;b++){c.push(e.snapshotItem(b))}return c}}document.getElementsByClassName=function(d,a){if(Prototype.BrowserFeatures.XPath){var j=".//*[contains(concat(' ', @class, ' '), ' "+d+" ')]";return document._getElementsByXPath(j,a)}else{var c=($(a)||document.body).getElementsByTagName("*");var g=[],k;for(var b=0,e=c.length;b<e;b++){k=c[b];if(Element.hasClassName(k,d)){g.push(Element.extend(k))}}return g}};if(!window.Element){var Element=new Object()}Element.extend=function(c){if(!c||_nativeExtensions||c.nodeType==3){return c}if(!c._extended&&c.tagName&&c!=window){var b=Object.clone(Element.Methods),a=Element.extend.cache;if(c.tagName=="FORM"){Object.extend(b,Form.Methods)}if(["INPUT","TEXTAREA","SELECT"].include(c.tagName)){Object.extend(b,Form.Element.Methods)}Object.extend(b,Element.Methods.Simulated);for(var e in b){var d=b[e];if(typeof d=="function"&&!(e in c)){c[e]=a.findOrStore(d)}}}c._extended=true;return c};Element.extend.cache={findOrStore:function(a){return this[a]=this[a]||function(){return a.apply(null,[this].concat($A(arguments)))}}};Element.Methods={visible:function(a){return $(a).style.display!="none"},match:function(b,a){if(typeof a=="string"){a=new Selector(a)}return a.match($(b))},up:function(b,c,a){return Selector.findElement($(b).ancestors(),c,a)},down:function(b,c,a){return Selector.findElement($(b).descendants(),c,a)},previous:function(b,c,a){return Selector.findElement($(b).previousSiblings(),c,a)},next:function(b,c,a){return Selector.findElement($(b).nextSiblings(),c,a)},getElementsBySelector:function(){var a=$A(arguments),b=$(a.shift());return Selector.findChildElements(b,a)},getElementsByClassName:function(a,b){return document.getElementsByClassName(b,a)},readAttribute:function(c,a){c=$(c);if(document.all&&!window.opera){var b=Element._attributeTranslations;if(b.values[a]){return b.values[a](c,a)}if(b.names[a]){a=b.names[a]}var d=c.attributes[a];if(d){return d.nodeValue}}return c.getAttribute(a)},getHeight:function(a){return $(a).getDimensions().height},getWidth:function(a){return $(a).getDimensions().width},classNames:function(a){return new Element.ClassNames(a)},hasClassName:function(a,b){if(!(a=$(a))){return}var c=a.className;if(c.length==0){return false}if(c==b||c.match(new RegExp("(^|\\s)"+b+"(\\s|$)"))){return true}return false},addClassName:function(a,b){if(!(a=$(a))){return}Element.classNames(a).add(b);return a},removeClassName:function(a,b){if(!(a=$(a))){return}Element.classNames(a).remove(b);return a},toggleClassName:function(a,b){if(!(a=$(a))){return}Element.classNames(a)[a.hasClassName(b)?"remove":"add"](b);return a},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first()},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first()},cleanWhitespace:function(b){b=$(b);var c=b.firstChild;while(c){var a=c.nextSibling;if(c.nodeType==3&&!/\S/.test(c.nodeValue)){b.removeChild(c)}c=a}return b},empty:function(a){return $(a).innerHTML.match(/^\s*$/)},descendantOf:function(b,a){b=$(b),a=$(a);while(b=b.parentNode){if(b==a){return true}}return false},scrollTo:function(a){a=$(a);var b=Position.cumulativeOffset(a);window.scrollTo(b[0],b[1]);return a},getStyle:function(b,c){b=$(b);if(["float","cssFloat"].include(c)){c=(typeof b.style.styleFloat!="undefined"?"styleFloat":"cssFloat")}c=c.camelize();var d=b.style[c];if(!d){if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(b,null);d=a?a[c]:null}else{if(b.currentStyle){d=b.currentStyle[c]}}}if((d=="auto")&&["width","height"].include(c)&&(b.getStyle("display")!="none")){d=b["offset"+c.capitalize()]+"px"}if(window.opera&&["left","top","right","bottom"].include(c)){if(Element.getStyle(b,"position")=="static"){d="auto"}}if(c=="opacity"){if(d){return parseFloat(d)}if(d=(b.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(d[1]){return parseFloat(d[1])/100}}return 1}return d=="auto"?null:d},setStyle:function(b,c){b=$(b);for(var a in c){var d=c[a];if(a=="opacity"){if(d==1){d=(/Gecko/.test(navigator.userAgent)&&!/Konqueror|Safari|KHTML/.test(navigator.userAgent))?0.999999:1;if(/MSIE/.test(navigator.userAgent)&&!window.opera){b.style.filter=b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")}}else{if(d==""){if(/MSIE/.test(navigator.userAgent)&&!window.opera){b.style.filter=b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")}}else{if(d<0.00001){d=0}if(/MSIE/.test(navigator.userAgent)&&!window.opera){b.style.filter=b.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+d*100+")"}}}}else{if(["float","cssFloat"].include(a)){a=(typeof b.style.styleFloat!="undefined")?"styleFloat":"cssFloat"}}b.style[a.camelize()]=d}return b},getDimensions:function(c){c=$(c);var j=$(c).getStyle("display");if(j!="none"&&j!=null){return{width:c.offsetWidth,height:c.offsetHeight}}var b=c.style;var g=b.visibility;var d=b.position;var a=b.display;b.visibility="hidden";b.position="absolute";b.display="block";var k=c.clientWidth;var e=c.clientHeight;b.display=a;b.position=d;b.visibility=g;return{width:k,height:e}},makePositioned:function(a){a=$(a);var b=Element.getStyle(a,"position");if(b=="static"||!b){a._madePositioned=true;a.style.position="relative";if(window.opera){a.style.top=0;a.style.left=0}}return a},undoPositioned:function(a){a=$(a);if(a._madePositioned){a._madePositioned=undefined;a.style.position=a.style.top=a.style.left=a.style.bottom=a.style.right=""}return a},makeClipping:function(a){a=$(a);if(a._overflow){return a}a._overflow=a.style.overflow||"auto";if((Element.getStyle(a,"overflow")||"visible")!="hidden"){a.style.overflow="hidden"}return a},undoClipping:function(a){a=$(a);if(!a._overflow){return a}a.style.overflow=a._overflow=="auto"?"":a._overflow;a._overflow=null;return a}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf});Element._attributeTranslations={};Element._attributeTranslations.names={colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"};Element._attributeTranslations.values={_getAttr:function(a,b){return a.getAttribute(b,2)},_flag:function(a,b){return $(a).hasAttribute(b)?b:null},style:function(a){return a.style.cssText.toLowerCase()},title:function(a){var b=a.getAttributeNode("title");return b.specified?b.nodeValue:null}};Object.extend(Element._attributeTranslations.values,{href:Element._attributeTranslations.values._getAttr,src:Element._attributeTranslations.values._getAttr,disabled:Element._attributeTranslations.values._flag,checked:Element._attributeTranslations.values._flag,readonly:Element._attributeTranslations.values._flag,multiple:Element._attributeTranslations.values._flag});Element.Methods.Simulated={hasAttribute:function(b,c){var a=Element._attributeTranslations;c=a.names[c]||c;return $(b).getAttributeNode(c).specified}};if(document.all&&!window.opera){Element.Methods.update=function(c,b){c=$(c);b=typeof b=="undefined"?"":b.toString();var a=c.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(a)){var d=document.createElement("div");switch(a){case"THEAD":case"TBODY":d.innerHTML="<table><tbody>"+b.stripScripts()+"</tbody></table>";depth=2;break;case"TR":d.innerHTML="<table><tbody><tr>"+b.stripScripts()+"</tr></tbody></table>";depth=3;break;case"TD":d.innerHTML="<table><tbody><tr><td>"+b.stripScripts()+"</td></tr></tbody></table>";depth=4}$A(c.childNodes).each(function(e){c.removeChild(e)});depth.times(function(){d=d.firstChild});$A(d.childNodes).each(function(e){c.appendChild(e)})}else{c.innerHTML=b.stripScripts()}setTimeout(function(){b.evalScripts()},10);return c}}Object.extend(Element,Element.Methods);var _nativeExtensions=false;if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){["","Form","Input","TextArea","Select"].each(function(b){var c="HTML"+b+"Element";if(window[c]){return}var a=window[c]={};a.prototype=document.createElement(b?b.toLowerCase():"div").__proto__})}Element.addMethods=function(a){Object.extend(Element.Methods,a||{});function b(g,d,c){c=c||false;var e=Element.extend.cache;for(var k in g){var j=g[k];if(!c||!(k in d)){d[k]=e.findOrStore(j)}}}if(typeof HTMLElement!="undefined"){b(Element.Methods,HTMLElement.prototype);b(Element.Methods.Simulated,HTMLElement.prototype,true);b(Form.Methods,HTMLFormElement.prototype);[HTMLInputElement,HTMLTextAreaElement,HTMLSelectElement].each(function(c){b(Form.Element.Methods,c.prototype)});_nativeExtensions=true}};var Toggle=new Object();Toggle.display=Element.toggle;Abstract.Insertion=function(a){this.adjacency=a};Abstract.Insertion.prototype={initialize:function(b,c){this.element=$(b);this.content=c.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content)}catch(d){var a=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(a)){this.insertContent(this.contentFromAnonymousTable())}else{throw d}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange()}this.insertContent([this.range.createContextualFragment(this.content)])}setTimeout(function(){c.evalScripts()},10)},contentFromAnonymousTable:function(){var a=document.createElement("div");a.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(a.childNodes[0].childNodes[0].childNodes)}};var Insertion=new Object();Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element)},insertContent:function(a){a.each((function(b){this.element.parentNode.insertBefore(b,this.element)}).bind(this))}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true)},insertContent:function(a){a.reverse(false).each((function(b){this.element.insertBefore(b,this.element.firstChild)}).bind(this))}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element)},insertContent:function(a){a.each((function(b){this.element.appendChild(b)}).bind(this))}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element)},insertContent:function(a){a.each((function(b){this.element.parentNode.insertBefore(b,this.element.nextSibling)}).bind(this))}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(a){this.element=$(a)},_each:function(a){this.element.className.split(/\s+/).select(function(b){return b.length>0})._each(a)},set:function(a){this.element.className=a},add:function(a){if(this.include(a)){return}this.set($A(this).concat(a).join(" "))},remove:function(a){if(!this.include(a)){return}this.set($A(this).without(a).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(a){this.params={classNames:[]};this.expression=a.toString().strip();this.parseExpression();this.compileMatcher()},parseExpression:function(){function j(k){throw"Parse error in selector: "+k}if(this.expression==""){j("empty expression")}var g=this.params,e=this.expression,b,a,d,c;while(b=e.match(/^(.*)\[([a-z0-9_:-]+?)(?:([~\|!]?=)(?:"([^"]*)"|([^\]\s]*)))?\]$/i)){g.attributes=g.attributes||[];g.attributes.push({name:b[2],operator:b[3],value:b[4]||b[5]||""});e=b[1]}if(e=="*"){return this.params.wildcard=true}while(b=e.match(/^([^a-z0-9_-])?([a-z0-9_-]+)(.*)/i)){a=b[1],d=b[2],c=b[3];switch(a){case"#":g.id=d;break;case".":g.classNames.push(d);break;case"":case undefined:g.tagName=d.toUpperCase();break;default:j(e.inspect())}e=c}if(e.length>0){j(e.inspect())}},buildMatchExpression:function(){var e=this.params,d=[],c;if(e.wildcard){d.push("true")}if(c=e.id){d.push('element.readAttribute("id") == '+c.inspect())}if(c=e.tagName){d.push("element.tagName.toUpperCase() == "+c.inspect())}if((c=e.classNames).length>0){for(var a=0,b=c.length;a<b;a++){d.push("element.hasClassName("+c[a].inspect()+")")}}if(c=e.attributes){c.each(function(j){var k="element.readAttribute("+j.name.inspect()+")";var g=function(l){return k+" && "+k+".split("+l.inspect()+")"};switch(j.operator){case"=":d.push(k+" == "+j.value.inspect());break;case"~=":d.push(g(" ")+".include("+j.value.inspect()+")");break;case"|=":d.push(g("-")+".first().toUpperCase() == "+j.value.toUpperCase().inspect());break;case"!=":d.push(k+" != "+j.value.inspect());break;case"":case undefined:d.push("element.hasAttribute("+j.name.inspect()+")");break;default:throw"Unknown operator "+j.operator+" in selector"}})}return d.join(" && ")},compileMatcher:function(){this.match=new Function("element","if (!element.tagName) return false;       element = $(element);       return "+this.buildMatchExpression())},findElements:function(d){var c;if(c=$(this.params.id)){if(this.match(c)){if(!d||Element.childOf(c,d)){return[c]}}}d=(d||document).getElementsByTagName(this.params.tagName||"*");var b=[];for(var a=0,e=d.length;a<e;a++){if(this.match(c=d[a])){b.push(Element.extend(c))}}return b},toString:function(){return this.expression}};Object.extend(Selector,{matchElements:function(b,c){var a=new Selector(c);return b.select(a.match.bind(a)).map(Element.extend)},findElement:function(b,c,a){if(typeof c=="number"){a=c,c=false}return Selector.matchElements(b,c||"*")[a||0]},findChildElements:function(a,b){return b.map(function(c){return c.match(/[^\s"]+(?:"[^"]*"[^\s"]+)*/g).inject([null],function(e,g){var d=new Selector(g);return e.inject([],function(k,j){return k.concat(d.findElements(j||a))})})}).flatten()}});function $$(){return Selector.findChildElements(document,$A(arguments))}var Form={reset:function(a){$(a).reset();return a},serializeElements:function(c,a){var b=c.inject({},function(d,g){if(!g.disabled&&g.name){var e=g.name,j=$(g).getValue();if(j!=undefined){if(d[e]){if(d[e].constructor!=Array){d[e]=[d[e]]}d[e].push(j)}else{d[e]=j}}}return d});return a?b:Hash.toQueryString(b)}};Form.Methods={serialize:function(b,a){return Form.serializeElements(Form.getElements(b),a)},getElements:function(a){return $A($(a).getElementsByTagName("*")).inject([],function(b,c){if(Form.Element.Serializers[c.tagName.toLowerCase()]){b.push(Element.extend(c))}return b})},getInputs:function(j,c,d){j=$(j);var a=j.getElementsByTagName("input");if(!c&&!d){return $A(a).map(Element.extend)}for(var e=0,k=[],g=a.length;e<g;e++){var b=a[e];if((c&&b.type!=c)||(d&&b.name!=d)){continue}k.push(Element.extend(b))}return k},disable:function(a){a=$(a);a.getElements().each(function(b){b.blur();b.disabled="true"});return a},enable:function(a){a=$(a);a.getElements().each(function(b){b.disabled=""});return a},findFirstElement:function(a){return $(a).getElements().find(function(b){return b.type!="hidden"&&!b.disabled&&["input","select","textarea"].include(b.tagName.toLowerCase())})},focusFirstElement:function(a){a=$(a);a.findFirstElement().activate();return a}};Object.extend(Form,Form.Methods);Form.Element={focus:function(a){$(a).focus();return a},select:function(a){$(a).select();return a}};Form.Element.Methods={serialize:function(a){a=$(a);if(!a.disabled&&a.name){var b=a.getValue();if(b!=undefined){var c={};c[a.name]=b;return Hash.toQueryString(c)}}return""},getValue:function(a){a=$(a);var b=a.tagName.toLowerCase();return Form.Element.Serializers[b](a)},clear:function(a){$(a).value="";return a},present:function(a){return $(a).value!=""},activate:function(a){a=$(a);a.focus();if(a.select&&(a.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(a.type))){a.select()}return a},disable:function(a){a=$(a);a.disabled=true;return a},enable:function(a){a=$(a);a.blur();a.disabled=false;return a}};Object.extend(Form.Element,Form.Element.Methods);var Field=Form.Element;var $F=Form.Element.getValue;Form.Element.Serializers={input:function(a){switch(a.type.toLowerCase()){case"checkbox":case"radio":return Form.Element.Serializers.inputSelector(a);default:return Form.Element.Serializers.textarea(a)}},inputSelector:function(a){return a.checked?a.value:null},textarea:function(a){return a.value},select:function(a){return this[a.type=="select-one"?"selectOne":"selectMany"](a)},selectOne:function(b){var a=b.selectedIndex;return a>=0?this.optionValue(b.options[a]):null},selectMany:function(d){var a,e=d.length;if(!e){return null}for(var c=0,a=[];c<e;c++){var b=d.options[c];if(b.selected){a.push(this.optionValue(b))}}return a},optionValue:function(a){return Element.extend(a).hasAttribute("value")?a.value:a.text}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(a,b,c){this.frequency=b;this.element=$(a);this.callback=c;this.lastValue=this.getValue();this.registerCallback()},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000)},onTimerEvent:function(){var a=this.getValue();var b=("string"==typeof this.lastValue&&"string"==typeof a?this.lastValue!=a:String(this.lastValue)!=String(a));if(b){this.callback(this.element,a);this.lastValue=a}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element)}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element)}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(a,b){this.element=$(a);this.callback=b;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks()}else{this.registerCallback(this.element)}},onElementEvent:function(){var a=this.getValue();if(this.lastValue!=a){this.callback(this.element,a);this.lastValue=a}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this))},registerCallback:function(a){if(a.type){switch(a.type.toLowerCase()){case"checkbox":case"radio":Event.observe(a,"click",this.onElementEvent.bind(this));break;default:Event.observe(a,"change",this.onElementEvent.bind(this));break}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element)}});if(!window.Event){var Event=new Object()}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(a){return a.target||a.srcElement},isLeftClick:function(a){return(((a.which)&&(a.which==1))||((a.button)&&(a.button==1)))},pointerX:function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(a){return a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},stop:function(a){if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}},findElement:function(c,b){var a=Event.element(c);while(a.parentNode&&(!a.tagName||(a.tagName.toUpperCase()!=b.toUpperCase()))){a=a.parentNode}return a},observers:false,_observeAndCache:function(d,c,b,a){if(!this.observers){this.observers=[]}if(d.addEventListener){this.observers.push([d,c,b,a]);d.addEventListener(c,b,a)}else{if(d.attachEvent){this.observers.push([d,c,b,a]);d.attachEvent("on"+c,b)}}},unloadCache:function(){if(!Event.observers){return}for(var a=0,b=Event.observers.length;a<b;a++){Event.stopObserving.apply(this,Event.observers[a]);Event.observers[a][0]=null}Event.observers=false},observe:function(d,c,b,a){d=$(d);a=a||false;if(c=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||d.attachEvent)){c="keydown"}Event._observeAndCache(d,c,b,a)},stopObserving:function(d,c,b,a){d=$(d);a=a||false;if(c=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||d.detachEvent)){c="keydown"}if(d.removeEventListener){d.removeEventListener(c,b,a)}else{if(d.detachEvent){try{d.detachEvent("on"+c,b)}catch(g){}}}}});if(navigator.appVersion.match(/\bMSIE\b/)){Event.observe(window,"unload",Event.unloadCache,false)}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},realOffset:function(b){var a=0,c=0;do{a+=b.scrollTop||0;c+=b.scrollLeft||0;b=b.parentNode}while(b);return[c,a]},cumulativeOffset:function(b){var a=0,c=0;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;b=b.offsetParent}while(b);return[c,a]},positionedOffset:function(b){var a=0,d=0;do{a+=b.offsetTop||0;d+=b.offsetLeft||0;b=b.offsetParent;if(b){if(b.tagName=="BODY"){break}var c=Element.getStyle(b,"position");if(c=="relative"||c=="absolute"){break}}}while(b);return[d,a]},offsetParent:function(a){if(a.offsetParent){return a.offsetParent}if(a==document.body){return a}while((a=a.parentNode)&&a!=document.body){if(Element.getStyle(a,"position")!="static"){return a}}return document.body},within:function(b,a,c){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(b,a,c)}this.xcomp=a;this.ycomp=c;this.offset=this.cumulativeOffset(b);return(c>=this.offset[1]&&c<this.offset[1]+b.offsetHeight&&a>=this.offset[0]&&a<this.offset[0]+b.offsetWidth)},withinIncludingScrolloffsets:function(b,a,d){var c=this.realOffset(b);this.xcomp=a+c[0]-this.deltaX;this.ycomp=d+c[1]-this.deltaY;this.offset=this.cumulativeOffset(b);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+b.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+b.offsetWidth)},overlap:function(b,a){if(!b){return 0}if(b=="vertical"){return((this.offset[1]+a.offsetHeight)-this.ycomp)/a.offsetHeight}if(b=="horizontal"){return((this.offset[0]+a.offsetWidth)-this.xcomp)/a.offsetWidth}},page:function(d){var a=0,c=0;var b=d;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;if(b.offsetParent==document.body){if(Element.getStyle(b,"position")=="absolute"){break}}}while(b=b.offsetParent);b=d;do{if(!window.opera||b.tagName=="BODY"){a-=b.scrollTop||0;c-=b.scrollLeft||0}}while(b=b.parentNode);return[c,a]},clone:function(c,e){var a=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});c=$(c);var d=Position.page(c);e=$(e);var g=[0,0];var b=null;if(Element.getStyle(e,"position")=="absolute"){b=Position.offsetParent(e);g=Position.page(b)}if(b==document.body){g[0]-=document.body.offsetLeft;g[1]-=document.body.offsetTop}if(a.setLeft){e.style.left=(d[0]-g[0]+a.offsetLeft)+"px"}if(a.setTop){e.style.top=(d[1]-g[1]+a.offsetTop)+"px"}if(a.setWidth){e.style.width=c.offsetWidth+"px"}if(a.setHeight){e.style.height=c.offsetHeight+"px"}},absolutize:function(b){b=$(b);if(b.style.position=="absolute"){return}Position.prepare();var d=Position.positionedOffset(b);var g=d[1];var e=d[0];var c=b.clientWidth;var a=b.clientHeight;b._originalLeft=e-parseFloat(b.style.left||0);b._originalTop=g-parseFloat(b.style.top||0);b._originalWidth=b.style.width;b._originalHeight=b.style.height;b.style.position="absolute";b.style.top=g+"px";b.style.left=e+"px";b.style.width=c+"px";b.style.height=a+"px"},relativize:function(a){a=$(a);if(a.style.position=="relative"){return}Position.prepare();a.style.position="relative";var c=parseFloat(a.style.top||0)-(a._originalTop||0);var b=parseFloat(a.style.left||0)-(a._originalLeft||0);a.style.top=c+"px";a.style.left=b+"px";a.style.height=a._originalHeight;a.style.width=a._originalWidth}};if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){Position.cumulativeOffset=function(b){var a=0,c=0;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;if(b.offsetParent==document.body){if(Element.getStyle(b,"position")=="absolute"){break}}b=b.offsetParent}while(b);return[c,a]}}Element.addMethods();var MONTH_NAMES=new Array("Januar","Februar","M&auml;rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");var DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");function LZ(a){return(a<0||a>9?"":"0")+a}function isDate(c,b){var a=getDateFromFormat(c,b);if(a==0){return false}return true}function compareDates(e,g,c,d){var b=getDateFromFormat(e,g);var a=getDateFromFormat(c,d);if(b==0||a==0){return -1}else{if(b>a){return 1}}return 0}function formatDate(Q,N){N=N+"";var o="";var z=0;var P="";var g="";var n=Q.getYear()+"";var j=Q.getMonth()+1;var O=Q.getDate();var q=Q.getDay();var p=Q.getHours();var D=Q.getMinutes();var t=Q.getSeconds();var v,x,b,u,R,e,L,J,G,r,T,p,S,l,a,I;var B=new Object();if(n.length<4){n=""+(n-0+1900)}B.y=""+n;B.yyyy=n;B.yy=n.substring(2,4);B.M=j;B.MM=LZ(j);B.MMM=MONTH_NAMES[j-1];B.NNN=MONTH_NAMES[j+11];B.d=O;B.dd=LZ(O);B.E=DAY_NAMES[q+7];B.EE=DAY_NAMES[q];B.H=p;B.HH=LZ(p);if(p==0){B.h=12}else{if(p>12){B.h=p-12}else{B.h=p}}B.hh=LZ(B.h);if(p>11){B.K=p-12}else{B.K=p}B.k=p+1;B.KK=LZ(B.K);B.kk=LZ(B.k);if(p>11){B.a="PM"}else{B.a="AM"}B.m=D;B.mm=LZ(D);B.s=t;B.ss=LZ(t);while(z<N.length){P=N.charAt(z);g="";while((N.charAt(z)==P)&&(z<N.length)){g+=N.charAt(z++)}if(B[g]!=null){o=o+B[g]}else{o=o+g}}return o}function _isInteger(c){var b="1234567890";for(var a=0;a<c.length;a++){if(b.indexOf(c.charAt(a))==-1){return false}}return true}function _getInt(g,d,e,c){for(var a=c;a>=e;a--){var b=g.substring(d,d+a);if(b.length<e){return null}if(_isInteger(b)){return b}}return null}function getDateFromFormat(E,r){E=E+"";r=r+"";var D=0;var n=0;var u="";var g="";var B="";var k,j;var b=new Date();var l=b.getYear();var z=b.getMonth()+1;var v=1;var d=b.getHours();var t=b.getMinutes();var p=b.getSeconds();var m="";while(n<r.length){u=r.charAt(n);g="";while((r.charAt(n)==u)&&(n<r.length)){g+=r.charAt(n++)}alert(g);if(g=="yyyy"||g=="yy"||g=="y"){if(g=="yyyy"){k=4;j=4}if(g=="yy"){k=2;j=2}if(g=="y"){k=2;j=4}l=_getInt(E,D,k,j);if(l==null){return 0}D+=l.length;if(l.length==2){if(l>70){l=1900+(l-0)}else{l=2000+(l-0)}}}else{if(g=="MMM"||g=="NNN"){z=0;for(var q=0;q<MONTH_NAMES.length;q++){var e=MONTH_NAMES[q];if(E.substring(D,D+e.length).toLowerCase()==e.toLowerCase()){if(g=="MMM"||(g=="NNN"&&q>11)){z=q+1;if(z>12){z-=12}D+=e.length;break}}}if((z<1)||(z>12)){return 0}}else{if(g=="EE"||g=="E"){for(var q=0;q<DAY_NAMES.length;q++){var o=DAY_NAMES[q];if(E.substring(D,D+o.length).toLowerCase()==o.toLowerCase()){D+=o.length;break}}}else{if(g=="MM"||g=="M"){z=_getInt(E,D,g.length,2);if(z==null||(z<1)||(z>12)){return 0}D+=z.length}else{if(g=="dd"||g=="d"){v=_getInt(E,D,g.length,2);if(v==null||(v<1)||(v>31)){return 0}D+=v.length}else{if(g=="hh"||g=="h"){d=_getInt(E,D,g.length,2);if(d==null||(d<1)||(d>12)){return 0}D+=d.length}else{if(g=="HH"||g=="H"){d=_getInt(E,D,g.length,2);if(d==null||(d<0)||(d>23)){return 0}D+=d.length}else{if(g=="KK"||g=="K"){d=_getInt(E,D,g.length,2);if(d==null||(d<0)||(d>11)){return 0}D+=d.length}else{if(g=="kk"||g=="k"){d=_getInt(E,D,g.length,2);if(d==null||(d<1)||(d>24)){return 0}D+=d.length;d--}else{if(g=="mm"||g=="m"){t=_getInt(E,D,g.length,2);if(t==null||(t<0)||(t>59)){return 0}D+=t.length}else{if(g=="ss"||g=="s"){p=_getInt(E,D,g.length,2);if(p==null||(p<0)||(p>59)){return 0}D+=p.length}else{if(g=="a"){if(E.substring(D,D+2).toLowerCase()=="am"){m="AM"}else{if(E.substring(D,D+2).toLowerCase()=="pm"){m="PM"}else{return 0}}D+=2}else{if(E.substring(D,D+g.length)!=g){return 0}else{D+=g.length}}}}}}}}}}}}}}if(D!=E.length){return 0}if(z==2){if(((l%4==0)&&(l%100!=0))||(l%400==0)){if(v>29){return 0}}else{if(v>28){return 0}}}if((z==4)||(z==6)||(z==9)||(z==11)){if(v>30){return 0}}if(d<12&&m=="PM"){d=d-0+12}else{if(d>11&&m=="AM"){d-=12}}var a=new Date(l,z-1,v,d,t,p);return a.getTime()}function parseDate(m){var g=(arguments.length==2)?arguments[1]:false;generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d");monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d");dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");var b=new Array("generalFormats",g?"dateFirst":"monthFirst",g?"monthFirst":"dateFirst");var k=null;for(var e=0;e<b.length;e++){var a=window[b[e]];for(var c=0;c<a.length;c++){k=getDateFromFormat(m,a[c]);if(k!=0){return new Date(k)}}}return null}function formatJavascriptDate(a){return formatDate(a,"NNN d, yyyy HH:mm")}function formatDisplayDate(a,b){if(!b){return formatDate(a,"d. MMM y")+" um "+formatDate(a,"HH:mm")}return formatDate(a,"dd.MM.y")}var Base=function(){if(arguments.length){if(this==window){Base.prototype.extend.call(arguments[0],arguments.callee.prototype)}else{this.extend(arguments[0])}}};Base.version="1.0.2";Base.prototype={extend:function(b,k){var j=Base.prototype.extend;if(arguments.length==2){var g=this[b];if((g instanceof Function)&&(k instanceof Function)&&g.valueOf()!=k.valueOf()&&/\bbase\b/.test(k)){var a=k;k=function(){var n=this.base;this.base=g;var m=a.apply(this,arguments);this.base=n;return m};k.valueOf=function(){return a};k.toString=function(){return String(a)}}return this[b]=k}else{if(b){var l={toSource:null};var d=["toString","valueOf"];if(Base._prototyping){d[2]="constructor"}for(var e=0;(c=d[e]);e++){if(b[c]!=l[c]){j.call(this,c,b[c])}}for(var c in b){if(!l[c]){j.call(this,c,b[c])}}}}return this},base:function(){}};Base.extend=function(b,g){var j=Base.prototype.extend;if(!b){b={}}Base._prototyping=true;var e=new this;j.call(e,b);var d=e.constructor;e.constructor=this;delete Base._prototyping;var a=function(){if(!Base._prototyping){d.apply(this,arguments)}this.constructor=a};a.prototype=e;a.extend=this.extend;a.implement=this.implement;a.toString=function(){return String(d)};j.call(a,g);var c=d?a:e;if(c.init instanceof Function){c.init()}return c};Base.implement=function(a){if(a instanceof Function){a=a.prototype}this.prototype.extend(a)};var detect=navigator.userAgent.toLowerCase();var OS,browser,version,total,thestring;var lockDepth;Object.extend(Element,{getWidth:function(a){a=$(a);return a.offsetWidth},setWidth:function(b,a){if(a==null){return}b=$(b);b.style.width=a+"px"},setHeight:function(a,b){if(b==null){return}a=$(a);a.style.height=b+"px"},setTop:function(b,a){if(a==null){return}b=$(b);b.style.top=a+"px"},show:function(a){a=$(a);a.style.display="block"},hide:function(a){a=$(a);a.style.display="none"}});function getPageScroll(){var a;if(self.pageYOffset){a=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop}else{if(document.body){a=document.body.scrollTop}}}arrayPageScroll=new Array("",a);return arrayPageScroll}function getPageSize(){var d,a;if(window.innerHeight&&window.scrollMaxY){d=document.body.scrollWidth;a=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){d=document.body.scrollWidth;a=document.body.scrollHeight}else{d=document.body.offsetWidth;a=document.body.offsetHeight}}var c,e;if(self.innerHeight){c=self.innerWidth;e=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){c=document.documentElement.clientWidth;e=document.documentElement.clientHeight}else{if(document.body){c=document.body.clientWidth;e=document.body.clientHeight}}}if(a<e){pageHeight=e}else{pageHeight=a}if(d<c){pageWidth=c}else{pageWidth=d}var b=new Array(pageWidth,pageHeight,c,e);return b}function getBrowserInfo(){if(checkIt("konqueror")){browser="Konqueror";OS="Linux"}else{if(checkIt("safari")){browser="Safari"}else{if(checkIt("omniweb")){browser="OmniWeb"}else{if(checkIt("opera")){browser="Opera"}else{if(checkIt("webtv")){browser="WebTV"}else{if(checkIt("icab")){browser="iCab"}else{if(checkIt("msie")){browser="Internet Explorer"}else{if(!checkIt("compatible")){browser="Netscape Navigator";version=detect.charAt(8)}else{browser="An unknown browser"}}}}}}}}if(!version){version=detect.charAt(place+thestring.length)}if(!OS){if(checkIt("linux")){OS="Linux"}else{if(checkIt("x11")){OS="Unix"}else{if(checkIt("mac")){OS="Mac"}else{if(checkIt("win")){OS="Windows"}else{OS="an unknown operating system"}}}}}}function checkIt(a){place=detect.indexOf(a)+1;thestring=a;return place}Event.observe(window,"load",getBrowserInfo,false);Event.observe(window,"unload",Event.unloadCache,false);var PAJObject=Base.extend({settings:{},constructor:function(a){this.settings=a},_def:function(d,b,c){var a=this._getParam(d,b);a=c?a.replace(/\s+/g,""):a;this.settings[d]=a},_getParam:function(b,a){var c=(typeof(this.settings[b])=="undefined")?a:this.settings[b];if(c=="true"||c=="false"){return(c=="true")}return c},_hasParam:function(a){return(typeof(this.settings[a])=="undefined")}});function randomString(e){var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz";var c="";for(var b=0;b<e;b++){var a=Math.floor(Math.random()*d.length);c+=d.substring(a,a+1)}return c}function helpOverLib(a){return overlib(a,CAPTION,VAUTO,HAUTO,BGCOLOR,"#95cb29")}function helpOverLibCardType(d){var c=langMap.cardTypeHelpIcon+"<br /> ";var a=document.getElementById("cardType");var b=a.options[a.selectedIndex].value;if(b=="CREDITCARD_TYPE_AMEX"){return overlib(c,CAPTION,langMap.helpexplanation,VAUTO,HAUTO,BGCOLOR,"#95cb29")}else{return overlib(d,CAPTION,langMap.helpexplanation,VAUTO,HAUTO,BGCOLOR,"#95cb29")}}function templatePreviewOverLib(a){return overlib("<center><img border='1' hspace='5' vspace='5' src='/resources/templates/"+a+"/thumb_large.jpg'></center>",BGCOLOR,"#FFFFFF",VAUTO,HAUTO)}function SetCookie(e,d,c){var b=new Date();var a=new Date();if(c==null||c==0){c=1}a.setTime(b.getTime()+3600000*24*c);document.cookie=e+"="+escape(d)+";expires="+a.toGMTString()}function onError(a){alert(a.status+" "+a.statusText)}function deleteEvent(b){var a=confirm(langMap.attention);if(a==true){url="/event/deleteEvent.html?eventId="+b;location.href=url}}function showAddressbook(){adr="/mycenter/addressbook/showContacts.html?mode=wizardList";verifyContactWindow=window.open(adr,"addressbook","width=600,height=500,left=200,top=100,scrollbars=yes");verifyContactWindow.focus()}function openVerifyContactWindow(b){var a="/mycenter/addressbook/verifyContactRequest.html?userId="+b;verifyContactWindow=window.open(a,"submit_contact","width=420,height=280,left=350,top=280");verifyContactWindow.focus()}function ReadCookie(d){var b=""+document.cookie;var c=b.indexOf(d);if(c==-1||d==""){return""}var a=b.indexOf(";",c);if(a==-1){a=b.length}return unescape(b.substring(c+d.length+1,a))}function userPictureOverLib(b,a){return overlib("<center><img border='1' hspace='15' vspace='5' src='"+b+"' width='140' height='185' /><p><font size='2'><b>"+a+"</b></font></p></center>",BGCOLOR,"#FFFFFF")}function flickrPictureOverLib(b,a){return overlib("<center><img border='1' hspace='15' vspace='5' src='"+b+"' /><p><font size='2'><b>"+a+"</b></font></p></center>",BGCOLOR,"#FFFFFF")}function deleteMessage(b,c){var a=confirm(langMap.deletemessage);if(a==true){window.location.href="/message/setMessageStatus.html?mode="+c+"&setDeleted=true&deleted=true&messageId="+b}}function showhide(b){var a="item"+b.substring(5);if(document.getElementById(b).style.display=="none"){document.getElementById(b).style.display="block";document.getElementById(a).style.backgroundImage="url(/images/design/list_arrow_disclosed.gif)"}else{document.getElementById(b).style.display="none";document.getElementById(a).style.backgroundImage="url(/images/design/list_arrow.gif)"}}function openWindowByImageSize(c,b,a){w=b+37;h=a+37;myWindow=window.open(c,"","width="+w+", height="+h);myWindow.focus()}function openWindowBySize(c,b,a){myWindow=window.open(""+c+"","windowPopup","width="+b+",height="+a+",scrollbars=yes,location=no,menubar=no,toolbar=no,status=no,resizable=no,screenX=100,screenY=100");myWindow.focus()}function postToURL(c,k,b){b=b||{};var e=Builder.node("form",{action:c,method:"POST",style:"display: none",target:k});for(var j in b){if(b.hasOwnProperty(j)){var g=b[j];if(g instanceof Array){for(var d=0,a=g.length;d<a;d++){e.appendChild(Builder.node("input",{type:"hidden",name:j,value:g[d]}))}}else{e.appendChild(Builder.node("input",{type:"hidden",name:j,value:g}))}}}document.body.appendChild(e);e.submit();document.body.removeChild(e)}function getParentNodeWithTagName(b,a){if(typeof b=="undefined"||(b.tagName&&b.tagName.toLowerCase()==a.toLowerCase())){return b}return getParentNodeWithTagName(b.parentNode,a)}var PAJCalendar=PAJObject.extend({constructor:function(a){this.base(a);this._def("showTime",true);this._def("useDefaultDate",true);Calendar.setup({inputField:(this._getParam("hiddenField")!=undefined)?this._getParam("hiddenField"):this._getParam("inputField"),ifFormat:"%b %e, %Y %H:%M",showsTime:this._getParam("showTime"),singleClick:true,step:1,button:this._getParam("buttonDiv"),onSelect:this._onSelect.bindAsEventListener(this),firstDay:1,flat:(this._getParam("flat")!=undefined)?this._getParam("flat"):null});this.updateDropdowns();this.updateField(true)},updateField:function(m){var b=new Date();b.setTime(0);var g=false;var a=undefined;if(this._getParam("hiddenField")!=undefined){var c=$F(this._getParam("hiddenField"));if(c&&c.size!=0){a=new Date();a.setTime(Date.parse(c))}else{if(this._getParam("yearDropDown")==undefined&&this._getParam("useDefaultDate")==false){return}}}if(this._getParam("yearDropDown")!=undefined){var k=this._selectedAsInt($(this._getParam("yearDropDown")));if(isNaN(k)){g=true}b.setFullYear(k)}else{if(a!=undefined){b.setFullYear(a.getFullYear())}}if(this._getParam("monthDropDown")!=undefined){var j=this._selectedAsInt($(this._getParam("monthDropDown")));if(isNaN(j)){g=true}b.setMonth(j)}else{if(a!=undefined){b.setMonth(a.getMonth())}}if(this._getParam("dayDropDown")!=undefined){var l=this._selectedAsInt($(this._getParam("dayDropDown")));if(isNaN(l)){g=true}b.setDate(l)}else{if(a!=undefined){b.setDate(a.getDate())}}if(this._getParam("hourDropDown")!=undefined){var e=$(this._getParam("hourDropDown")).selectedIndex;b.setHours(e)}else{if(a!=undefined){b.setHours(a.getHours())}}if(this._getParam("minuteDropDown")!=undefined){var d=this._selectedAsInt($(this._getParam("minuteDropDown")));b.setMinutes(d)}else{if(a!=undefined){b.setMinutes(a.getMinutes())}}if(this._getParam("hiddenField")!=undefined){$(this._getParam("hiddenField")).value=(g==true?"":formatJavascriptDate(b))}if(this._getParam("displayField")!=undefined){$(this._getParam("displayField")).value=(g==true?"":formatDisplayDate(b).unescapeHTML())}if(this._getParam("dateInput")!=undefined){$(this._getParam("dateInput")).value=formatDisplayDate(b,true).unescapeHTML()}if(!m&&this._getParam("changeCallback")){this._getParam("changeCallback")()}},updateDropdowns:function(){if(this._getParam("hiddenField")==undefined){return}var c=$F(this._getParam("hiddenField"));var e=new Date();if(c&&c.size!=0){e.setTime(Date.parse(c))}else{if(this._getParam("useDefaultDate")==false){return}}var g=e.getMonth().toString();var d=e.getFullYear().toString();var b=e.getDate().toString();var a=e.getHours();var j=parseInt(e.getMinutes()/5);if(this._getParam("yearDropDown")!=undefined){this._selectOptions($(this._getParam("yearDropDown")),d)}if(this._getParam("monthDropDown")!=undefined){this._selectOptions($(this._getParam("monthDropDown")),g)}if(this._getParam("dayDropDown")!=undefined){this._selectOptions($(this._getParam("dayDropDown")),b)}if(this._getParam("hourDropDown")!=undefined){$(this._getParam("hourDropDown")).selectedIndex=a}if(this._getParam("minuteDropDown")!=undefined){$(this._getParam("minuteDropDown")).selectedIndex=j}},_selectOptions:function(c,a){for(var b=0;b<c.length;b++){if(c.options[b].value==a){c.selectedIndex=b;break}}},_selectedAsInt:function(b){var a=b.selectedIndex;return parseInt(b.options[a].value)},_onSelect:function(b,a){if(this._getParam("hiddenField")!=undefined){$(this._getParam("hiddenField")).value=formatJavascriptDate(b.date)}if(this._getParam("inputField")!=undefined){$(this._getParam("inputField")).value=formatDisplayDate(b.date).unescapeHTML()}if(this._getParam("dateInput")!=undefined){$(this._getParam("dateInput")).value=formatDisplayDate(b.date,true).unescapeHTML()}this.updateDropdowns();if(b.dateClicked){b.callCloseHandler();if(this._getParam("changeCallback")){this._getParam("changeCallback")()}}}});var PAJResponse=PAJObject.extend({exceptions:{},results:{},constructor:function(c){this.exceptions=new Array();var b=c.responseXML.documentElement;var g=b.getElementsByTagName("exception");if(g.length>0){this.exceptions.push(g[0].getAttribute("message").unescapeHTML())}var k=b.getElementsByTagName("result");if(k.length>0){for(var e=0;e<k.length;e++){var a=k[e];var d=a.getAttribute("key");var j=a.getAttribute("value");this.results[d]=j}}},hasExceptions:function(){return(this.exceptions.length>0)}});var ProgressInfo=PAJObject.extend({status:"start",totalSize:0,bytesRead:0,directory:"",identifier:"",constructor:function(b){var a=b.responseXML.documentElement;var c=a.getElementsByTagName("fileUpload");if(c.length>0){this.status=c[0].getAttribute("status");this.totalSize=parseInt(c[0].getAttribute("totalSize"));this.bytesRead=parseInt(c[0].getAttribute("bytesRead"));this.directory=c[0].getAttribute("directory");this.identifier=c[0].getAttribute("identifier")}},getPercentComplete:function(){if(this.totalSize==0){return 0}return((this.bytesRead*100)/this.totalSize).toFixed(0)},inProgress:function(){return(this.status=="progress")},isDone:function(){return(this.status=="done")},isProcessing:function(){return(this.status=="processing")},getDirectory:function(){return this.directory},getIdentifier:function(){return this.identifier}});function loginAndForward(j,k,a){try{var d=new Ajax.Request("/userxml/ajaxSecurityCheck.xml",{method:"post",asynchronous:false,parameters:"j_username="+encodeURIComponent(k)+"&j_password="+encodeURIComponent(a)+"&_acegi_security_remember_me=on"});var b=new PAJResponse(d.transport);if(b.hasExceptions()){var g=new Error(b.exceptions[0]);throw (g)}location.href="/login/forward.html"}catch(c){alert(c.message)}}var FileUploader=PAJObject.extend({periodical:{},requestId:"",uploadFile:function(){requestId=randomString(16);var a=$("asdasd");this.periodical=new Ajax.PeriodicalUpdater(a,"/userxml/uploadProgress.xml",{method:"post",asynchronous:true,parameters:"requestId="+requestId,onSuccess:this._uploadProgress.bind(this),onError:this._error.bind(this),frequency:1});$(this._getParam("requestId")).name=requestId;$(this._getParam("formName")).submit();return false},_error:function(){this.periodical.updater.options.onComplete=undefined;this.periodical.stop();var a=this._getParam("errorCallback");a(PAJResponse.exceptions[0])},_uploadProgress:function(a){try{var b=new ProgressInfo(a);var c=new PAJResponse(a);if(b.isDone()){var e=this._getParam("successCallback");e(b);this.periodical.updater.options.onComplete=undefined;this.periodical.stop()}else{if(b.isProcessing()){var e=this._getParam("processingCallback");e()}else{var e=this._getParam("progressCallback");e(""+b.getPercentComplete())}}if(c.hasExceptions()){this.periodical.updater.options.onComplete=undefined;this.periodical.stop();var e=this._getParam("errorCallback");e(c.exceptions[0])}}catch(d){this.periodical.updater.options.onComplete=undefined;this.periodical.stop();var e=this._getParam("errorCallback");e(d)}}});function setupOverlay(){if(browser=="Internet Explorer"){bod=document.getElementsByTagName("body")[0];bod.style.height="100%";bod.style.overflow="hidden";htm=document.getElementsByTagName("html")[0];htm.style.height="100%";htm.style.overflow="auto";selects=document.getElementsByTagName("select");for(i=0;i<selects.length;i++){selects[i].style.visibility="hidden"}}}function deactivateOverlay(){if(browser=="Internet Explorer"){selects=document.getElementsByTagName("select");for(i=0;i<selects.length;i++){selects[i].style.visibility="visible"}bod=document.getElementsByTagName("body")[0];bod.style.height="auto";bod.style.overflow="auto";htm=document.getElementsByTagName("html")[0];htm.style.height="auto";htm.style.overflow="auto"}}var PAJPopup=PAJObject.extend({stackID:0,opened:false,formValue:"",activate:function(b,a){if(this.opened==true){return false}this._def("size","Small");this.opened=true;PAJPopup.stackDepth++;PAJPopup.currentStackID++;this.stackID=PAJPopup.currentStackID;this.popupSettings=a;setupOverlay();this._displayPopup(b);return false},save:function(){if(!this._getParam("saveSource")){return}this.formValue=Form.serialize(this._getParam("saveSource"));var b=Form.getElements(this._getParam("saveSource"));if(!$(this._getParam("saveSource")+"Fields")){new Insertion.Top(this._getParam("saveTarget"),'<div id="'+this._getParam("saveSource")+'Fields"></div>')}$(this._getParam("saveSource")+"Fields").innerHTML="";for(var a=0;a<b.length;++a){if(b[a].name&&b[a].name!=""&&b[a].value&&b[a].value!=""){new Insertion.Top(this._getParam("saveSource")+"Fields",'<input type="hidden" name="'+b[a].name+'" value="'+b[a].value+'"/>')}}return this.deactivate()},deactivate:function(){this.opened=false;if(this.teardown){this.teardown()}Element.remove($("PAJPopup"+this.stackID));if(PAJPopup.stackDepth==1){deactivateOverlay();Element.hide("PAJPopupOverlay")}PAJPopup.stackDepth--;return false},_displayPopup:function(e){info="<div class='PAJPopup' id='PAJPopup"+this.stackID+"'><div class='PAJPopupContainer' id='PAJPopupContainer"+this.stackID+"'><div class='PAJLoadMessage' id='PAJLoadMessage"+this.stackID+"'>Loading...</div><div class='PAJPopupContent' id='PAJPopupContent"+this.stackID+"'></div></div></div>";new Insertion.After($("PAJPopupOverlay"),info);Element.setWidth($("PAJPopupContainer"+this.stackID),this._getParam("loadWidth"));Element.setHeight($("PAJPopupContainer"+this.stackID),this._getParam("loadHeight"));var c=getPageSize();Element.setHeight("PAJPopupOverlay",c[1]);var c=getPageSize();var b=getPageScroll();var d=b[1]+(c[3]/15);Element.setTop("PAJPopup"+this.stackID,d);$("PAJPopup"+this.stackID).style.zIndex=2000+this.stackID;Element.show("PAJPopupOverlay");Element.show("PAJPopupContainer"+this.stackID);var a=this._getParam("url");if(e){a=e.href}var g=new Ajax.Request(a,{method:"post",parameters:"popupName="+this._getParam("name")+(this.getUrlParameters?"&"+this.getUrlParameters():"")+(this.formValue!=""?"&"+this.formValue:""),onComplete:this._processInfo.bindAsEventListener(this),evalScripts:true})},_processInfo:function(a){try{if(a.status==401){window.location.href="/login";return}var c=this._getParam("name");var e="<div class='popupContainer popup"+this._getParam("size")+" "+c+"'> 			<div class='popupTopBarLeft'>&nbsp;</div> 			<div class='popupTopBarRight'>&nbsp;</div>";if(!this._getParam("hideCloseButton")){e+="<a href='#' onclick='return "+this._getParam("name")+".deactivate();'></a>"}e+="<h1>"+this._getParam("title")+"</h1> 			"+a.responseText+" 			<div class='popupBtmBarLeft'>&nbsp;</div> 			<div class='popupBtmBarRight'>&nbsp;</div> 			</div>";$("PAJPopup"+this.stackID).innerHTML=e;if(this.setup){this.setup()}if(typeof(urchinTracker)!="undefined"){_uff=0;var b=this._getParam("url");if(this.getAnalyticsUrl){b=this.getAnalyticsUrl()}urchinTracker(b)}}catch(d){alert(d)}},closeSuccess:function(){return this.deactivate()},_showSuccess:function(){if(this.showSuccess){this.showSuccess()}if(this._getParam("successMessage")==null){this.deactivate();return}var a="<div class='popupContainer popupSmall' style='width:200px;'> 			<div class='popupTopBarLeft'>&nbsp;</div> 			<div class='popupTopBarRight'>&nbsp;</div> 			"+this._getParam("successMessage")+"<br/> 			<a href='#' style='color: #000; text-decoration: underline;' onclick='return "+this._getParam("name")+".closeSuccess();'>";a+=langMap.popupClose;a+="</a> 			<div class='popupBtmBarLeft'>&nbsp;</div> 			<div class='popupBtmBarRight'>&nbsp;</div> 			</div>";$("PAJPopup"+this.stackID).innerHTML=a},_getScroll:function(){if(self.pageYOffset){this.yPos=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){this.yPos=document.documentElement.scrollTop}else{if(document.body){this.yPos=document.body.scrollTop}}}},_setScroll:function(a,b){window.scrollTo(a,b)},_sendSuccess:function(a){var b=new PAJResponse(a);if(b.hasExceptions()){alert(b.exceptions[0])}else{this._showSuccess()}return b},_sendError:function(a){alert(langMap.error)}},{stackDepth:0,currentStackID:0});var PAJCustomEmail=PAJObject.extend({customEmailBodyChangedFlag:false,setChanged:function(){this.customEmailBodyChangedFlag=true},updateEmail:function(a){if(a==undefined){a=$("customEmailTemplates").value}if(this.customEmailBodyChangedFlag==true){var b=confirm(langMap.TemplateOverwrite.unescapeHTML());if(b==false){return false}}var c=new Ajax.Request("/messagexml/customEmail.xml",{method:"post",parameters:"customEmailId="+a,onSuccess:this._getSuccess.bindAsEventListener(this),onFailure:this._sendError.bindAsEventListener(this)})},_sendError:function(a){alert("Es trat ein Fehler auf")},_selectOptions:function(c,a){for(var b=0;b<c.length;b++){if(c.options[b].value==a){c.selectedIndex=b;break}}},_getSuccess:function(d){try{this.customEmailBodyChangedFlag=false;var a=d.responseXML.documentElement;var g=a.getElementsByTagName("exception");if(g.length>0){alert(g[0].getAttribute("message").unescapeHTML())}else{var e=a.getElementsByTagName("customEmailSubject");if(e.length>0){$("customEmailSubject").value=e[0].lastChild.nodeValue.unescapeHTML()}var c=a.getElementsByTagName("customEmailBody");if(c.length>0){$("customEmailBody").value=c[0].lastChild.nodeValue.unescapeHTML()}var b=a.getElementsByTagName("customEmailSalutation");if(b.length>0){this._selectOptions($("customEmailSalutation"),b[0].lastChild.nodeValue)}}}catch(j){alert(j.message)}}});var PAJCustomEmail=new PAJCustomEmail({});var EditorPopup=PAJPopup.extend({editorAdded:false,showSuccess:function(){if(this.editorAdded){tinyMCE.execCommand("mceRemoveControl",false,this._getParam("name")+this._getParam("textAreaPostfix"))}this.editorAdded=false},teardown:function(){if(this.editorAdded){tinyMCE.execCommand("mceRemoveControl",false,this._getParam("name")+this._getParam("textAreaPostfix"))}this.editorAdded=false},setup:function(){this.editorAdded=true}});var ComposePopup=EditorPopup.extend({constructor:function(a){this.base(a);this._def("className","composePopup");this._def("formPostfix","Form");this._def("textAreaPostfix","TextArea");this._def("width",500);this._def("loadWidth",500);this._def("successMessage",langMap.MessageSent);this._def("title",langMap.WriteMessage);this._def("size","Big");this._def("url","/popup/composeMessage.html")},getUrlParameters:function(){var a="";if(this.popupSettings.eventId!=null){a+="&eventId="+this.popupSettings.eventId}if(this.popupSettings.user!=null){a+="&userId="+this.popupSettings.user}return a},sendMessage:function(){try{tinyMCE.triggerSave();var b="";if(this.popupSettings.eventId!=null){b+="eventId="+this.popupSettings.eventId+"&"}if(this.popupSettings.user!=null){b+="recipientId="+this.popupSettings.user+"&"}var c=new Ajax.Request("/messagexml/sendPrivateMessage.xml",{method:"post",parameters:b+Form.serialize(this._getParam("name")+this._getParam("formPostfix")),onSuccess:this._sendSuccess.bindAsEventListener(this),onFailure:this._sendError.bindAsEventListener(this)})}catch(a){alert(a)}return false},setup:function(){var a=this._getParam("name")+this._getParam("textAreaPostfix");tinyMCE.execCommand("mceAddControl",false,a);this.base()}});var composePopup=new ComposePopup({name:"composePopup"});var AddressbookImportPopup=PAJPopup.extend({usePopup:true,afterUploadCallback:null,importURL:"/addressbookxml/addressbookImport.xml",aditionalImportParams:"",constructor:function(a){this.base(a);this._def("className","addressbookImportPopup");this._def("title",langMap.addressbookImport);this._def("size","Big");this._def("url","/popup/addressbookImport.html");this._def("save",false);this.usePopup=this._getParam("usePopup");this.afterUploadCallback=this._getParam("afterUploadCallback");this.importURL=this._getParam("importURL");this.aditionalImportParams=this._getParam("aditionalImportParams")},importContacts:function(d,j,g,a){var e=null;if(typeof j=="string"){e=j}else{for(var b=0;b<j.length;b++){if(j[b].checked==true){e=j[b].value;break}}}var c=new Ajax.Request(this.importURL,{method:"post",parameters:"provider="+e+"&username="+g+"&password="+a+this.aditionalImportParams,asynchronous:true,onSuccess:this._uploadSuccess.bind(this),onError:this._error.bind(this)});if($("loadingImage")){$("loadingImage").style.visibility="visible"}},saveContacts:function(d,c){var a=null;if(this.settings.save){a="/addressbookxml/addressbookImportSave.xml"}else{a="/eventxml/addressbookImportUpload.xml"}var e="";for(i=0;i<c.length;i++){if(c[i].checked==true){e+=("selectedContacts[]="+c[i].value+"&")}}var b=new Ajax.Request(a,{method:"post",parameters:e,asynchronous:true,onSuccess:this._saveSuccess.bind(this),onError:this._error.bind(this)})},_error:function(){if($("loadingImage")){$("loadingImage").style.visibility="hidden"}alert(langMap.error)},_saveSuccess:function(a){var b=new PAJResponse(a);if(b.hasExceptions()){alert(b.exceptions[0]);return}if(this.settings.save){window.location.reload()}else{$("addGuests").value="false";$("stepForm").submit()}this.deactivate()},_uploadSuccess:function(a){if(this.afterUploadCallback){this.afterUploadCallback(a)}},addressbookImportSelect:function(b,a){if(b.checked){for(i=0;i<a.length;i++){a[i].checked=true}}else{for(i=0;i<a.length;i++){a[i].checked=false}}}});var addressbookImportPopup=new AddressbookImportPopup({name:"addressbookImportPopup"});var FeedbackPopup=PAJPopup.extend({constructor:function(a){this.base(a);this._def("className","feedbackPopup");this._def("name","feedbackPopup");this._def("successMessage",langMap.ThankYou);this._def("title",langMap.feedback);this._def("size","Big")},getUrlParameters:function(){return"origQuery="+escape(this.popupSettings.query)},sendFeedback:function(){var a=new Ajax.Request("/messagexml/submitFeedback.xml",{method:"post",postBody:Form.serialize(this._getParam("name")+this._getParam("formPostfix")),onSuccess:this._sendSuccess.bind(this),onFailure:this._sendError.bind(this)});return false},setup:function(){}});var feedbackPopup=new FeedbackPopup({name:"feedbackPopup",formPostfix:"Form"});var NewEventPopup=PAJPopup.extend({constructor:function(a){this.base(a);this._def("className","newEventPopup");this._def("title",langMap.newEvent);this._def("size","Big");this._def("url","/popup/newEvent.html")}});var newEventPopup=new NewEventPopup({name:"newEventPopup"});var SendTestEmailPopup=PAJPopup.extend({constructor:function(a){this.base(a);this._def("className","SendTestEmailPopup");this._def("title",langMap.testEmail);this._def("size","Small");this._def("successMessage",langMap.successEmail)},sendTestEmail:function(){try{var c="eventId="+this.popupSettings.eventId+"&customEmailSalutation="+$("customEmailSalutation").value+"&customEmailSubject="+encodeURIComponent($("customEmailSubject").value)+"&customEmailBody="+encodeURIComponent($("customEmailBody").value)+"&email="+$("testEmail").value;var b=new Ajax.Request("/messagexml/sendTestEmail.xml",{method:"post",parameters:c,onSuccess:this._sendSuccess.bindAsEventListener(this),onFailure:this._sendError.bindAsEventListener(this)})}catch(a){alert(a)}return false}});var sendTestEmailPopup=new SendTestEmailPopup({name:"sendTestEmailPopup"});var VerifyContactPopup=PAJPopup.extend({constructor:function(a){this.base(a);this._def("className","VerifyContactPopup");this._def("name","VerifyContactPopup");this._def("successMessage",langMap.verifyContactRequestSend);this._def("title",langMap.verifyContactPopup);this._def("size","Big")},getUrlParameters:function(){return"&userId="+this.popupSettings.userId},sendRequest:function(){var a=new Ajax.Request("/addressbookxml/sendContactRequest.xml",{method:"post",postBody:Form.serialize(this._getParam("formname")),onSuccess:this._sendSuccess.bind(this),onFailure:this._sendError.bind(this)});return false}});var verifyContactPopup=new VerifyContactPopup({name:"verifyContactPopup",formname:"contactRequest"});var PAJColorChooser=PAJObject.extend({maxValue:{h:360,s:100,v:100},HSV:{0:360,1:100,2:100},hSV:166,wSV:166,heightHueArea:167,slideHSV:{0:360,1:100,2:100},zINDEX:15,stop:1,changeColorCallback:null,updateColorCallback:null,nameOfChooser:"",showChooserIn:"",showCurrentColorIn:"",showHEXValueIn:"",sliderColorRange:"",left:0,top:0,tX:0,tY:0,oo:0,ds:null,oX:0,oY:0,eX:0,eY:0,z:"",d:"",color:"FFFFFF",positionObject:null,o:null,svTarget:null,originalColor:"",innerYSliderOffset:"",innerXSliderOffset:"",init:function(){this.changeColorCallback=this._getParam("changeColorCallback");this.nameOfChooser=this._getParam("nameOfChooser");this.showChooserIn=this._getParam("showChooserIn");this.updateColorCallback=this._getParam("updateColorCallback");this.showCurrentColorIn=this._getParam("showCurrentColorIn");this.showHEXValueIn=this._getParam("showHEXValueIn");this.positionObject=Position;this.originalColor=this._getParam("originalColor");this.innerYSliderOffset=this._getParam("innerYSliderOffset");this.innerXSliderOffset=this._getParam("innerXSliderOffset");var b=0;for(var a=this.hSV;a>=0;a--){b=360/this.hSV;this.sliderColorRange+='<div style="background-color: #'+this.hsv2hex([Math.round(b*a),100,100])+';"><br /></div>'}$(this.showChooserIn).innerHTML=this.sliderColorRange;if(typeof(this.originalColor)!="undefined"){this.HEXupdate(this.originalColor);if($(this.showHEXValueIn)!=null){$(this.showHEXValueIn).value=this.originalColor}}},hex2hsv:function(a){rgb=this.hex2rgb(a);return this.rgb2hsv(rgb)},hex2rgb:function(a){return({0:parseInt(a.substr(0,2),16),1:parseInt(a.substr(2,2),16),2:parseInt(a.substr(4,2),16)})},rgb2hsv:function(e){var a=Math.max(e[0],e[1],e[2]),g=a-Math.min(e[0],e[1],e[2]),d,c,b;if(a!=0){c=Math.round(g/a*100);if(e[0]==a){d=(e[1]-e[2])/g}else{if(e[1]==a){d=2+(e[2]-e[0])/g}else{if(e[2]==a){d=4+(e[0]-e[1])/g}}}var d=Math.min(Math.round(d*60),360);if(d<0){d+=360}}return({0:d?d:0,1:c?c:0,2:Math.round((a/255)*100)})},cancel:function(){if(this.changeColorCallback!=null){var a=this.changeColorCallback;a(this.originalColor)}this.HEXupdate(this.originalColor);if($(this.showHEXValueIn)!=null){$(this.showHEXValueIn).value=this.originalColor}this.hide()},show:function(){$(this.nameOfChooser).style.display="block"},hide:function(){$(this.nameOfChooser).style.display="none"},toHex:function(a){a=Math.round(Math.min(Math.max(0,a),255));return("0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16))},rgb2hex:function(a){return(this.toHex(a[0])+this.toHex(a[1])+this.toHex(a[2]))},hsv2hex:function(a){return(this.rgb2hex(this.hsv2rgb(a)))},HSVupdate:function(a){a=this.hsv2hex(this.HSV=a?a:this.slideHSV);if($(this.showHEXValueIn)!=null){$(this.showHEXValueIn).value=a}if($(this.showCurrentColorIn)!=null){$(this.showCurrentColorIn).background="#"+a}if(this.changeColorCallback!=null){var b=this.changeColorCallback;b(a)}this.color=a;return a},mkValue:function(a,d,b){var c=(a*(b*100/d))/100;return Math.round(c)},HEXupdate:function(a){if($(this.showHEXValueIn)!=null){$(this.showHEXValueIn).value=a}if($(this.showCurrentColorIn)!=null){$(this.showCurrentColorIn).style.backgroundColor="#"+a}if(this.changeColorCallback!=null){var b=this.changeColorCallback;b(a)}$("Hslide_"+this._getParam("trigger")).style.top=(this.mkValue(this.heightHueArea,360,360-this.hex2hsv(a)[0])-7)+"px";$("SVslide_"+this._getParam("trigger")).style.top=(this.mkValue(this.hSV,100,(100-this.hex2hsv(a)[2]))-4)+"px";$("SVslide_"+this._getParam("trigger")).style.left=(this.mkValue(this.wSV,100,this.hex2hsv(a)[1])-4)+"px";$("SV_"+this._getParam("trigger")).style.backgroundColor="#"+this.hsv2hex([this.hex2hsv(a)[0],100,100]);this.slideHSV=this.hex2hsv(a);this.HSV=this.hex2hsv(a);this.color=a;return a},hsv2rgb:function(g){var e,j,d;var c=g[1]/100;var a=g[2]/100;var b=g[0]/360;if(c>0){if(b>=1){b=0}b=6*b;F=b-Math.floor(b);A=Math.round(255*a*(1-c));j=Math.round(255*a*(1-(c*F)));C=Math.round(255*a*(1-(c*(1-F))));a=Math.round(255*a);switch(Math.floor(b)){case 0:e=a;d=C;j=A;break;case 1:e=j;d=a;j=A;break;case 2:e=A;d=a;j=C;break;case 3:e=A;d=j;j=a;break;case 4:e=C;d=A;j=a;break;case 5:e=a;d=A;j=j;break}return([e?e:0,d?d:0,j?j:0])}else{return([(a=Math.round(a*255)),a,a])}},useCurrentColor:function(){this.originalColor=this.color;if(this.updateColorCallback!=null){var a=this.updateColorCallback;a(this.color)}if(this.changeColorCallback!=null){var a=this.changeColorCallback;a(this.color)}this.hide()},agent:function(a){return(Math.max(navigator.userAgent.toLowerCase().indexOf(a),0))},XY:function(b,a){this.z=this.agent("msie")?[event.clientX+document.body.scrollLeft,event.clientY+document.body.scrollTop]:[b.pageX,b.pageY];if(a==1){return(this.z[1])}else{return(this.z[0])}},XYwin:function(a){this.z=this.agent("msie")?[document.body.clientHeight,document.body.clientWidth]:[window.innerHeight,window.innerWidth];return(!isNaN(a)?this.z[a]:this.z)},zero:function(a){a=parseInt(a);return(!isNaN(a)?a:0)},tXY:function(a){var b=this.positionObject.cumulativeOffset($(this.o));this.tY=this.XY(a,1)-b[1]-this.innerYSliderOffset;this.tX=this.XY(a)-b[0]-this.innerXSliderOffset;if(navigator.appName=="Microsoft Internet Explorer"){this.tY=this.tY+document.documentElement.scrollTop}},mkHSV:function(b,a,c){c=parseInt(c);return(Math.min(b,Math.max(0,Math.ceil((c/a)*b))))},within:function(c,b,d){return((c>=b&&c<=d)?true:false)},ckHSV:function(d,c){if(this.within(d,0,c)){return(d)}else{if(d>c){return(c)}else{if(d<0){return("-"+this.oo)}}}},drag:function(l){if(!this.stop){this.tXY(l);if(this.type=="SVslide"){var k=this.ckHSV(this.tX,this.wSV);var g=this.ckHSV(this.tY,this.hSV);this.ds.left=(k-4)+"px";this.ds.top=(g-4)+"px";this.slideHSV[1]=this.mkHSV(100,this.wSV,k);this.slideHSV[2]=100-this.mkHSV(100,this.wSV,g);this.HSVupdate()}else{if(this.type=="Hslide"){var a=this.ckHSV(this.tY+4,this.heightHueArea);var b;var d="hsv";this.z={};this.ds.top=(a-7)+"px";this.slideHSV[0]=this.mkHSV(360,this.heightHueArea,a);for(var c=0;c<=d.length-1;c++){b=d.substr(c,1);this.z[c]=(b=="h")?this.maxValue[b]-this.mkHSV(this.maxValue[b],this.heightHueArea,a):this.HSV[c]}this.HSVupdate(this.z);$(this.svTarget).style.backgroundColor="#"+this.hsv2hex([this.HSV[0],100,100])}}}},onMouseUpFct:function(){this.stop=1;document.onmousemove="";document.onmouseup=""},HSVslide:function(b,j,g,c,a){this.stop=1;this.d=j;this.o=g;this.type=b;this.svTarget=a;if(this.stop){this.stop="";this.ds=$(j).style;this.left=($(g).offsetLeft);this.top=($(g).offsetTop);this.oo=((b=="Hslide")?0:0);if(b=="SVslide"){this.slideHSV[0]=this.HSV[0]}document.onmousemove=this.drag.bind(this);document.onmouseup=this.onMouseUpFct.bind(this);this.drag(c)}}});function EMail(g){var d=false;var e=false;if(typeof(RegExp)=="function"){var c=new RegExp("abc");if(c.test("abc")==true){d=true}}if(d==true){reg=new RegExp("^([a-zA-Z0-9\\-\\.\\_]+)(\\@)([a-zA-Z0-9\\-\\.]+)(\\.)([a-zA-Z]{2,4})$");e=(reg.test(g))}else{e=(g.search("@")>=1&&g.lastIndexOf(".")>g.search("@")&&g.lastIndexOf(".")>=g.length-5)}return(e)}var InvitationHandler=PAJObject.extend({alphabeticalEntries:{},invitedItemsCount:0,invitedIDs:{},adresspoolIDs:{},adressbookImporter:null,flowId:"",secureServer:"",inputErrors:{},preloadImagesList:{},adresspoolList:{},noEntriesText:"",adresspoolDivList:{},invitationsDivList:{},invitationTarget:"",preloadImages:function(){for(var b=0;b<this.preloadImagesList.length;b++){var a=new Image();a.src=this.preloadImagesList[b]}},_loadAdresspoolEntriesToArray:function(){if($("contactEntryList")){var d="";var b=null;this.adresspoolList=new Array();var c=$("contactEntryList").getElementsByTagName("li").length;for(var a=0;a<c;a++){d=$("contactEntryList").getElementsByTagName("li")[a].getAttribute("id");if(d!="invited"){this.adresspoolList.push(new Array($("contactEntryList").getElementsByTagName("li")[a].getElementsByTagName("a")[0].getAttribute("id"),d.replace(/o_/,"")))}}}},updateAdressPoolForDropdown:function(a,c,b){if($(b).value=="0"){return}Element.show($("pLoader"));a="/contactsource/"+a+".html";params="flowId="+this.flowId+"&"+c+"="+$(b).value;new Ajax.Request(a,{method:"post",parameters:params,onComplete:this._loadResponseToAdressPool.bind(this)})},adaptSourceBar:function(d){if(this.loadSourceRequest!=null){this.loadSourceRequest.cancel()}for(var b=0;b<this.sourceList.length;b++){$(this.sourceList[b]).removeClassName("active");if($(this.sourceList[b]+"Content")){Element.hide(this.sourceList[b]+"Content")}if($(this.sourceList[b]+"Help")){$(this.sourceList[b]+"Help").style.display="none"}Element.hide(this.sourceList[b]+"Arrow")}$(d).className="active";if($(d+"Content")){Element.show(d+"Content")}if($(d+"Help")){$(d+"Help").style.display="inline"}Element.show(d+"Arrow");$(d).blur();$("inviteAllLink").style.display="none";var a="";var c="flowId="+this.flowId;if(d=="sourceAdressbook"){a="/contactsource/adressbook.html";Element.show($("pLoader"));$("inviteAllLink").style.display="inline"}else{if(d=="sourceSingleEmail"){this._showDiv(this.adresspoolDivList,"invitationSingleMailDiv");$("singlemailEmail").value="";$("singlemailLastname").value="";$("singlemailFirstname").value="";$("inviteAllLink").style.display="none"}else{if(d=="sourceGroups"){if(!$("sourceGroup")){this._showDiv(this.adresspoolDivList,"invitationNoGroupEntriesDiv");return}else{this._showDiv(this.adresspoolDivList,"invitationEmptyDiv")}$("sourceGroup").value="0"}else{if(d=="sourceEvents"){if(!$("sourceEvent")){this._showDiv(this.adresspoolDivList,"invitationNoEventEntriesDiv");return}else{this._showDiv(this.adresspoolDivList,"invitationEmptyDiv")}$("sourceEvent").value="0"}else{if(d=="sourceOutlook"){this._showDiv(this.adresspoolDivList,"invitationCSVDiv")}else{if(d=="sourceWebmail"){this._showDiv(this.adresspoolDivList,"invitationEmptyDiv")}}}}}}if(a!=""){this.loadSourceRequest=new Ajax.Request(a,{method:"post",parameters:c,onComplete:this._loadResponseToAdressPool.bind(this)})}},inviteUser:function(b,a){if(this.invitedIDs.indexOf(b)<0){$("o_"+b).className="grey";new Ajax.Request("/contactsource/addcontact.html",{method:"post",parameters:"cpId="+b+"&flowId="+this.flowId,onComplete:this._loadResponseToInvitedList.bindAsEventListener(this,a),asynchronous:false});this._addInvitedEntry(b,a)}else{this.disinviteUser(b)}},inviteAllUsers:function(){if(this.adresspoolList.length==0){return}Element.show($("pLoader"));new Ajax.Request("/contactsource/inviteall.html",{method:"post",parameters:"flowId="+this.flowId,onComplete:this._loadInviteAllResponseToInvitedList.bind(this)});for(var a=0;a<this.adresspoolList.length;a++){if(this.invitedIDs.indexOf(this.adresspoolList[a][1])<0){$("o_"+this.adresspoolList[a][1]).className="grey";this._addInvitedEntry(this.adresspoolList[a][1],this.adresspoolList[a][0])}}Element.hide($("pLoader"))},disinviteUser:function(a){Element.removeClassName("o_"+a,"grey");Element.remove("i_"+a);this._deleteInvitedEntry(a);new Ajax.Request("/contactsource/removecontact.html",{method:"post",parameters:"cpId="+a+"&flowId="+this.flowId});if(this.invitedItemsCount==0){this._showDiv(this.invitationsDivList,"inviteInvitationsNoEntries")}},disinviteAllUsers:function(){if(this.invitedItemsCount>0){var a=confirm(langMap.inviteDisinviteAll);if(a==true){new Ajax.Request("/contactsource/removeall.html",{method:"post",parameters:"flowId="+this.flowId});var c=this.invitedItemsCount;for(var b=0;b<c;b++){Element.removeClassName("o_"+this.invitedIDs[0],"grey");Element.remove("i_"+this.invitedIDs[0]);this._deleteInvitedEntry(this.invitedIDs[0])}this._showDiv(this.invitationsDivList,"inviteInvitationsNoEntries")}}},_updateFrame:function(){$("countInvitationsSpan").innerHTML=this.invitedItemsCount},_addInvitedEntry:function(b,a){this.alphabeticalEntries.push(new Array(a.toLowerCase(),b));this.invitedIDs.push(b);this.invitedItemsCount++;this._updateFrame()},_deleteInvitedEntry:function(a){for(i=0;i<this.invitedItemsCount;i++){if(this.alphabeticalEntries[i][1]==a){this.alphabeticalEntries.splice(i,1);break}}for(i=0;i<this.invitedItemsCount;i++){if(this.invitedIDs[i]==a){this.invitedIDs.splice(i,1)}}this.invitedItemsCount--;this._updateFrame()},performWebMailAdressbookImport:function(){Element.show($("pLoader"));this.adressbookImporter.importContacts(this.secureServer,$("webmailprovider").value,$("webmailusername").value,encodeURIComponent($("webmailpassword").value))},_ownSort:function(d,c){return(d[0]==c[0])?0:((d[0]>c[0])?1:(-1))},_getNewInvitationPosition:function(a){var b=a.toLowerCase();this.alphabeticalEntries.sort(this._ownSort);for(i=0;i<this.invitedItemsCount;i++){if(this.alphabeticalEntries[i][0]>b){if(i==0){return"top"}else{return this.alphabeticalEntries[i-1][1]}}}return this.alphabeticalEntries[this.invitedItemsCount-1][1]},_participantsSearchListener:function(){if($("participantsSearchInput").value.length>3){this.participantsSearch()}},_participantsSearch:function(){for(var a=0;a<this.adresspoolIDs.length;a++){}return false},inviteSingleMail:function(){Element.removeClassName($("singlemailEmail"),"inputError");Element.show($("pLoader"));url="/contactsource/addsingleemailaddress.html";params="flowId="+this.flowId+"&email="+$("singlemailEmail").value+"&lastname="+$("singlemailLastname").value+"&firstname="+$("singlemailFirstname").value;new Ajax.Request(url,{method:"post",parameters:params,onComplete:this._afterInviteSingleEmail.bindAsEventListener(this,$("singlemailEmail").value,(($("singlemailLastname").value!="")?$("singlemailLastname").value:$("singlemailEmail").value)),asynchronous:false})},_afterInviteSingleEmail:function(a,e,d){try{var b=new PAJResponse(a);if(b.hasExceptions()){$("singlemailEmail").addClassName("inputError");Element.hide($("pLoader"));$("singlemailEmail").focus()}return}catch(c){this._loadResponseToInvitedList(a,d);this._addInvitedEntry(e,d);Element.hide($("pLoader"));this.adaptSourceBar("sourceSingleEmail");$("singlemailEmail").focus()}},importCSV:function(){Element.show($("pLoader"));fileUploader=new FileUploader({requestId:"requestId",formName:"uploadForm",progressCallback:this._importCSVProgress.bind(this),processingCallback:this._importCSVProgessing.bind(this),successCallback:this._importCSVSuccess.bind(this),errorCallback:this._importCSVError.bind(this)});fileUploader.uploadFile()},inviteChoosenItems:function(c){if(c==undefined||c==false){$("sendMail").value="0";c=false}else{$("sendMail").value="1"}var b=new Ajax.Request("/contactsource/"+this.invitationTarget+".html",{method:"post",parameters:Form.serialize("inviteForm"),asynchronous:false});var a=new PAJResponse(b.transport);if(a.hasExceptions()){alert(a.exceptions[0]);return false}if(c){alert(langMap.invitationCompleted)}else{alert(langMap.invitationCompletedWithoutMail)}return true},_importCSVProgress:function(a){Element.hide("csvUpload");Element.show("csvUploadProgress");$("csvUploadProgress").innerHTML=a+langMap.invitePercentage},_importCSVProgessing:function(){$("csvUploadProgress").innerHTML=langMap.inviteWait},_importCSVSuccess:function(a){Element.show("csvUpload");Element.hide("csvUploadProgress");$("requestId").value="";$("invitationPoolDiv").innerHTML=window.frames.uploadIframe.document.body.innerHTML;this._loadAdresspoolEntriesToArray();this._showDiv(this.adresspoolDivList,"invitationPoolDiv");$("inviteAllLink").style.display="inline";Element.hide($("pLoader"))},_importCSVError:function(a){alert(a);Element.hide($("pLoader"))}});Calendar._C=null;Calendar.is_ie=(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent));Calendar.is_ie5=(Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent));Calendar.is_ie7=(Calendar.is_ie&&/msie 7\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(e){var a=0,d=0;var c=/^div$/i.test(e.tagName);if(c&&e.scrollLeft){a=e.scrollLeft}if(c&&e.scrollTop){d=e.scrollTop}var g={x:e.offsetLeft-a,y:e.offsetTop-d};if(e.offsetParent){var b=this.getAbsolutePos(e.offsetParent);g.x+=b.x;g.y+=b.y}return g};Calendar.isRelated=function(c,a){var d=a.relatedTarget;if(!d){var b=a.type;if(b=="mouseover"){d=a.fromElement}else{if(b=="mouseout"){d=a.toElement}}}while(d){if(d==c){return true}d=d.parentNode}return false};Calendar.removeClass=function(e,d){if(!(e&&e.className)){return}var a=e.className.split(" ");var b=new Array();for(var c=a.length;c>0;){if(a[--c]!=d){b[b.length]=a[c]}}e.className=b.join(" ")};Calendar.addClass=function(b,a){Calendar.removeClass(b,a);b.className+=" "+a};Calendar.getElement=function(a){var b=Calendar.is_ie?window.event.srcElement:a.currentTarget;while(b.nodeType!=1||/^div$/i.test(b.tagName)){b=b.parentNode}return b};Calendar.getTargetElement=function(a){var b=Calendar.is_ie?window.event.srcElement:a.target;while(b.nodeType!=1){b=b.parentNode}return b};Calendar.stopEvent=function(a){a||(a=window.event);if(Calendar.is_ie){a.cancelBubble=true;a.returnValue=false}else{a.preventDefault();a.stopPropagation()}return false};Calendar.addEvent=function(a,c,b){if(a.attachEvent){a.attachEvent("on"+c,b)}else{if(a.addEventListener){a.addEventListener(c,b,true)}else{a["on"+c]=b}}};Calendar.removeEvent=function(a,c,b){if(a.detachEvent){a.detachEvent("on"+c,b)}else{if(a.removeEventListener){a.removeEventListener(c,b,true)}else{a["on"+c]=null}}};Calendar.createElement=function(c,b){var a=null;if(document.createElementNS){a=document.createElementNS("http://www.w3.org/1999/xhtml",c)}else{a=document.createElement(c)}if(typeof b!="undefined"){b.appendChild(a)}return a};Calendar._add_evs=function(el){with(Calendar){addEvent(el,"mouseover",dayMouseOver);addEvent(el,"mousedown",dayMouseDown);addEvent(el,"mouseout",dayMouseOut);if(is_ie){addEvent(el,"dblclick",dayMouseDblClick);el.setAttribute("unselectable",true)}}};Calendar.findMonth=function(a){if(typeof a.month!="undefined"){return a}else{if(typeof a.parentNode.month!="undefined"){return a.parentNode}}return null};Calendar.findYear=function(a){if(typeof a.year!="undefined"){return a}else{if(typeof a.parentNode.year!="undefined"){return a.parentNode}}return null};Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e){return false}var e=e;var g=e.activeDiv;var d=e.monthsCombo;if(e.hilitedMonth){Calendar.removeClass(e.hilitedMonth,"hilite")}if(e.activeMonth){Calendar.removeClass(e.activeMonth,"active")}var c=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(c,"active");e.activeMonth=c;var b=d.style;b.display="block";if(g.navtype<0){b.left=g.offsetLeft+"px"}else{var a=d.offsetWidth;if(typeof a=="undefined"){a=50}b.left=(g.offsetLeft+g.offsetWidth-a)+"px"}b.top=(g.offsetTop+g.offsetHeight)+"px"};Calendar.showYearsCombo=function(d){var a=Calendar._C;if(!a){return false}var a=a;var c=a.activeDiv;var g=a.yearsCombo;if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}if(a.activeYear){Calendar.removeClass(a.activeYear,"active")}a.activeYear=null;var b=a.date.getFullYear()+(d?1:-1);var l=g.firstChild;var k=false;for(var e=12;e>0;--e){if(b>=a.minYear&&b<=a.maxYear){l.innerHTML=b;l.year=b;l.style.display="block";k=true}else{l.style.display="none"}l=l.nextSibling;b+=d?a.yearStep:-a.yearStep}if(k){var m=g.style;m.display="block";if(c.navtype<0){m.left=c.offsetLeft+"px"}else{var j=g.offsetWidth;if(typeof j=="undefined"){j=50}m.left=(c.offsetLeft+c.offsetWidth-j)+"px"}m.top=(c.offsetTop+c.offsetHeight)+"px"}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false}if(cal.timeout){clearTimeout(cal.timeout)}var el=cal.activeDiv;if(!el){return false}var target=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,"active");if(target==el||target.parentNode==el){Calendar.cellClick(el,ev)}var mon=Calendar.findMonth(target);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev)}};Calendar.tableMouseOver=function(p){var a=Calendar._C;if(!a){return}var c=a.activeDiv;var l=Calendar.getTargetElement(p);if(l==c||l.parentNode==c){Calendar.addClass(c,"hilite active");Calendar.addClass(c.parentNode,"rowhilite")}else{if(typeof c.navtype=="undefined"||(c.navtype!=50&&(c.navtype==0||Math.abs(c.navtype)>2))){Calendar.removeClass(c,"active")}Calendar.removeClass(c,"hilite");Calendar.removeClass(c.parentNode,"rowhilite")}p||(p=window.event);if(c.navtype==50&&l!=c){var o=Calendar.getAbsolutePos(c);var r=c.offsetWidth;var q=p.clientX;var t;var n=true;if(q>o.x+r){t=q-o.x-r;n=false}else{t=o.x-q}if(t<0){t=0}var g=c._range;var k=c._current;var j=Math.floor(t/10)%g.length;for(var e=g.length;--e>=0;){if(g[e]==k){break}}while(j-->0){if(n){if(--e<0){e=g.length-1}}else{if(++e>=g.length){e=0}}}var b=g[e];c.innerHTML=b;a.onUpdateTime()}var d=Calendar.findMonth(l);if(d){if(d.month!=a.date.getMonth()){if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}Calendar.addClass(d,"hilite");a.hilitedMonth=d}else{if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}}}else{if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}var m=Calendar.findYear(l);if(m){if(m.year!=a.date.getFullYear()){if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}Calendar.addClass(m,"hilite");a.hilitedYear=m}else{if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}}}else{if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}}}return Calendar.stopEvent(p)};Calendar.tableMouseDown=function(a){if(Calendar.getTargetElement(a)==Calendar.getElement(a)){return Calendar.stopEvent(a)}};Calendar.calDragIt=function(b){var c=Calendar._C;if(!(c&&c.dragging)){return false}var e;var d;if(Calendar.is_ie){d=window.event.clientY+document.body.scrollTop;e=window.event.clientX+document.body.scrollLeft}else{e=b.pageX;d=b.pageY}c.hideShowCovered();var a=c.element.style;a.left=(e-c.xOffs)+"px";a.top=(d-c.yOffs)+"px";return Calendar.stopEvent(b)};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false}cal.dragging=false;with(Calendar){removeEvent(document,"mousemove",calDragIt);removeEvent(document,"mouseup",calDragEnd);tableMouseUp(ev)}cal.hideShowCovered()};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300){with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver)}else{addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver)}addClass(el,"hilite active");addEvent(document,"mouseup",tableMouseUp)}}else{if(cal.isPopup){cal._dragStart(ev)}}if(el.navtype==-1||el.navtype==1){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)}else{if(el.navtype==-2||el.navtype==2){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout((el.navtype>0)?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)}else{cal.timeout=null}}return Calendar.stopEvent(ev)};Calendar.dayMouseDblClick=function(a){Calendar.cellClick(Calendar.getElement(a),a||window.event);if(Calendar.is_ie){document.selection.empty()}};Calendar.dayMouseOver=function(b){var a=Calendar.getElement(b);if(Calendar.isRelated(a,b)||Calendar._C||a.disabled){return false}if(a.ttip){if(a.ttip.substr(0,1)=="_"){a.ttip=a.caldate.print(a.calendar.ttDateFormat)+a.ttip.substr(1)}a.calendar.tooltips.innerHTML=a.ttip}if(a.navtype!=300){Calendar.addClass(a,"hilite");if(a.caldate){Calendar.addClass(a.parentNode,"rowhilite")}}return Calendar.stopEvent(b)};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled){return false}removeClass(el,"hilite");if(el.caldate){removeClass(el.parentNode,"rowhilite")}if(el.calendar){el.calendar.tooltips.innerHTML=_TT.SEL_DATE}return stopEvent(ev)}};Calendar.cellClick=function(e,q){var c=e.calendar;var k=false;var n=false;var g=null;if(typeof e.navtype=="undefined"){if(c.currentDateEl){Calendar.removeClass(c.currentDateEl,"selected");Calendar.addClass(e,"selected");k=(c.currentDateEl==e);if(!k){c.currentDateEl=e}}c.date.setDateOnly(e.caldate);g=c.date;var b=!(c.dateClicked=!e.otherMonth);if(!b&&!c.currentDateEl){c._toggleMultipleDate(new Date(g))}else{n=!e.disabled}if(b){c._init(c.firstDayOfWeek,g)}}else{if(e.navtype==200){Calendar.removeClass(e,"hilite");c.callCloseHandler();return}g=new Date(c.date);if(e.navtype==0){g.setDateOnly(new Date())}c.dateClicked=false;var p=g.getFullYear();var j=g.getMonth();function a(u){var v=g.getDate();var t=g.getMonthDays(u);if(v>t){g.setDate(t)}g.setMonth(u)}switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var r=Calendar._TT.ABOUT;if(typeof r!="undefined"){r+=c.showsTime?Calendar._TT.ABOUT_TIME:""}else{r='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n'}return;case -2:if(p>c.minYear){g.setFullYear(p-1)}break;case -1:if(j>0){a(j-1)}else{if(p-->c.minYear){g.setFullYear(p);a(11)}}break;case 1:if(j<11){a(j+1)}else{if(p<c.maxYear){g.setFullYear(p+1);a(0)}}break;case 2:if(p<c.maxYear){g.setFullYear(p+1)}break;case 100:c.setFirstDayOfWeek(e.fdow);return;case 50:var m=e._range;var o=e.innerHTML;for(var l=m.length;--l>=0;){if(m[l]==o){break}}if(q&&q.shiftKey){if(--l<0){l=m.length-1}}else{if(++l>=m.length){l=0}}var d=m[l];e.innerHTML=d;c.onUpdateTime();return;case 0:if((typeof c.getDateStatus=="function")&&c.getDateStatus(g,g.getFullYear(),g.getMonth(),g.getDate())){return false}break}if(!g.equalsTo(c.date)){c.setDate(g);n=true}else{if(e.navtype==0){n=k=true}}}if(n){q&&c.callHandler()}if(k){Calendar.removeClass(e,"hilite");q&&c.callCloseHandler()}};Calendar.prototype.create=function(p){var o=null;if(!p){o=document.getElementsByTagName("body")[0];this.isPopup=true}else{o=p;this.isPopup=false}this.date=this.dateStr?new Date(this.dateStr):new Date();var t=Calendar.createElement("table");this.table=t;t.cellSpacing=0;t.cellPadding=0;t.calendar=this;Calendar.addEvent(t,"mousedown",Calendar.tableMouseDown);var a=Calendar.createElement("div");this.element=a;a.className="calendar";if(this.isPopup){a.style.position="absolute";a.style.display="none"}a.appendChild(t);var m=Calendar.createElement("thead",t);var q=null;var u=null;var b=this;var e=function(x,v,j){q=Calendar.createElement("td",u);q.colSpan=v;q.className="button";if(j!=0&&Math.abs(j)<=2){q.className+=" nav"}Calendar._add_evs(q);q.calendar=b;q.navtype=j;q.innerHTML="<div unselectable='on'>"+x+"</div>";return q};u=Calendar.createElement("tr",m);var c=6;(this.isPopup)&&--c;(this.weekNumbers)&&++c;e("?",1,400).ttip=Calendar._TT.INFO;this.title=e("",c,300);this.title.className="title";if(this.isPopup){this.title.ttip=Calendar._TT.DRAG_TO_MOVE;this.title.style.cursor="move";e("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE}u=Calendar.createElement("tr",m);u.className="headrow";this._nav_py=e("&#x00ab;",1,-2);this._nav_py.ttip=Calendar._TT.PREV_YEAR;this._nav_pm=e("&#x2039;",1,-1);this._nav_pm.ttip=Calendar._TT.PREV_MONTH;this._nav_now=e(Calendar._TT.TODAY,this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT.GO_TODAY;this._nav_nm=e("&#x203a;",1,1);this._nav_nm.ttip=Calendar._TT.NEXT_MONTH;this._nav_ny=e("&#x00bb;",1,2);this._nav_ny.ttip=Calendar._TT.NEXT_YEAR;u=Calendar.createElement("tr",m);u.className="daynames";if(this.weekNumbers){q=Calendar.createElement("td",u);q.className="name wn";q.innerHTML=Calendar._TT.WK}for(var l=7;l>0;--l){q=Calendar.createElement("td",u);if(!l){q.navtype=100;q.calendar=this;Calendar._add_evs(q)}}this.firstdayname=(this.weekNumbers)?u.firstChild.nextSibling:u.firstChild;this._displayWeekdays();var k=Calendar.createElement("tbody",t);this.tbody=k;for(l=6;l>0;--l){u=Calendar.createElement("tr",k);if(this.weekNumbers){q=Calendar.createElement("td",u)}for(var g=7;g>0;--g){q=Calendar.createElement("td",u);q.calendar=this;Calendar._add_evs(q)}}if(this.showsTime){u=Calendar.createElement("tr",k);u.className="time";q=Calendar.createElement("td",u);q.className="time";q.colSpan=2;q.innerHTML=Calendar._TT.TIME||"&nbsp;";q=Calendar.createElement("td",u);q.className="time";q.colSpan=this.weekNumbers?4:3;(function(){function y(K,M,L,N){var I=Calendar.createElement("span",q);I.className=K;I.innerHTML=M;I.calendar=b;I.ttip=Calendar._TT.TIME_PART;I.navtype=50;I._range=[];if(typeof L!="number"){I._range=L}else{for(var J=L;J<=N;++J){var H;if(J<10&&N>=10){H="0"+J}else{H=""+J}I._range[I._range.length]=H}}Calendar._add_evs(I);return I}var E=b.date.getHours();var j=b.date.getMinutes();var G=!b.time24;var v=(E>12);if(G&&v){E-=12}var B=y("hour",E,G?1:0,G?12:23);var z=Calendar.createElement("span",q);z.innerHTML=":";z.className="colon";var x=y("minute",j,0,59);var D=null;q=Calendar.createElement("td",u);q.className="time";q.colSpan=2;if(G){D=y("ampm",v?"pm":"am",["am","pm"])}else{q.innerHTML="&nbsp;"}b.onSetTime=function(){var I,H=this.date.getHours(),J=this.date.getMinutes();if(G){I=(H>=12);if(I){H-=12}if(H==0){H=12}D.innerHTML=I?"pm":"am"}B.innerHTML=(H<10)?("0"+H):H;x.innerHTML=(J<10)?("0"+J):J};b.onUpdateTime=function(){var I=this.date;var J=parseInt(B.innerHTML,10);if(G){if(/pm/i.test(D.innerHTML)&&J<12){J+=12}else{if(/am/i.test(D.innerHTML)&&J==12){J=0}}}var K=I.getDate();var H=I.getMonth();var L=I.getFullYear();I.setHours(J);I.setMinutes(parseInt(x.innerHTML,10));I.setFullYear(L);I.setMonth(H);I.setDate(K);this.dateClicked=false;this.callHandler()}})()}else{this.onSetTime=this.onUpdateTime=function(){}}var n=Calendar.createElement("tfoot",t);u=Calendar.createElement("tr",n);u.className="footrow";q=e(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300);q.className="ttip";if(this.isPopup){q.ttip=Calendar._TT.DRAG_TO_MOVE;q.style.cursor="move"}this.tooltips=q;a=Calendar.createElement("div",this.element);this.monthsCombo=a;a.className="combo";for(l=0;l<Calendar._MN.length;++l){var d=Calendar.createElement("div");d.className=Calendar.is_ie?"label-IEfix":"label";d.month=l;d.innerHTML=Calendar._SMN[l];a.appendChild(d)}a=Calendar.createElement("div",this.element);this.yearsCombo=a;a.className="combo";for(l=12;l>0;--l){var r=Calendar.createElement("div");r.className=Calendar.is_ie?"label-IEfix":"label";a.appendChild(r)}this._init(this.firstDayOfWeek,this.date);o.appendChild(this.element)};Calendar._keyEvent=function(n){var a=window._dynarch_popupCalendar;if(!a||a.multiple){return false}(Calendar.is_ie)&&(n=window.event);var l=(Calendar.is_ie||n.type=="keypress"),o=n.keyCode;if(n.ctrlKey){switch(o){case 37:l&&Calendar.cellClick(a._nav_pm);break;case 38:l&&Calendar.cellClick(a._nav_py);break;case 39:l&&Calendar.cellClick(a._nav_nm);break;case 40:l&&Calendar.cellClick(a._nav_ny);break;default:return false}}else{switch(o){case 32:Calendar.cellClick(a._nav_now);break;case 27:l&&a.callCloseHandler();break;case 37:case 38:case 39:case 40:if(l){var e,p,m,j,c,d;e=o==37||o==38;d=(o==37||o==39)?1:7;function b(){c=a.currentDateEl;var q=c.pos;p=q&15;m=q>>4;j=a.ar_days[m][p]}b();function g(){var q=new Date(a.date);q.setDate(q.getDate()-d);a.setDate(q)}function k(){var q=new Date(a.date);q.setDate(q.getDate()+d);a.setDate(q)}while(1){switch(o){case 37:if(--p>=0){j=a.ar_days[m][p]}else{p=6;o=38;continue}break;case 38:if(--m>=0){j=a.ar_days[m][p]}else{g();b()}break;case 39:if(++p<7){j=a.ar_days[m][p]}else{p=0;o=40;continue}break;case 40:if(++m<a.ar_days.length){j=a.ar_days[m][p]}else{k();b()}break}break}if(j){if(!j.disabled){Calendar.cellClick(j)}else{if(e){g()}else{k()}}}}break;case 13:if(l){Calendar.cellClick(a.currentDateEl,n)}break;default:return false}}return Calendar.stopEvent(n)};Calendar.prototype._init=function(p,D){var B=new Date(),u=B.getFullYear(),G=B.getMonth(),b=B.getDate();this.table.style.visibility="hidden";var l=D.getFullYear();if(l<this.minYear){l=this.minYear;D.setFullYear(l)}else{if(l>this.maxYear){l=this.maxYear;D.setFullYear(l)}}this.firstDayOfWeek=p;this.date=new Date(D);var E=D.getMonth();var I=D.getDate();var H=D.getMonthDays();D.setDate(1);var v=(D.getDay()-this.firstDayOfWeek)%7;if(v<0){v+=7}D.setDate(-v);D.setDate(D.getDate()+1);var e=this.tbody.firstChild;var n=Calendar._SMN[E];var r=this.ar_days=new Array();var q=Calendar._TT.WEEKEND;var d=this.multiple?(this.datesCells={}):null;for(var y=0;y<6;++y,e=e.nextSibling){var a=e.firstChild;if(this.weekNumbers){a.className="day wn";a.innerHTML=D.getWeekNumber();a=a.nextSibling}e.className="daysrow";var z=false,g,c=r[y]=[];for(var x=0;x<7;++x,a=a.nextSibling,D.setDate(g+1)){g=D.getDate();var k=D.getDay();a.className="day";a.pos=y<<4|x;c[x]=a;var o=(D.getMonth()==E);if(!o){if(this.showsOtherMonths){a.className+=" othermonth";a.otherMonth=true}else{a.className="emptycell";a.innerHTML="&nbsp;";a.disabled=true;continue}}else{a.otherMonth=false;z=true}a.disabled=false;a.innerHTML=this.getDateText?this.getDateText(D,g):g;if(d){d[D.print("%Y%m%d")]=a}if(this.getDateStatus){var t=this.getDateStatus(D,l,E,g);if(this.getDateToolTip){var m=this.getDateToolTip(D,l,E,g);if(m){a.title=m}}if(t===true){a.className+=" disabled";a.disabled=true}else{if(/disabled/i.test(t)){a.disabled=true}a.className+=" "+t}}if(!a.disabled){a.caldate=new Date(D);a.ttip="_";if(!this.multiple&&o&&g==I&&this.hiliteToday){a.className+=" selected";this.currentDateEl=a}if(D.getFullYear()==u&&D.getMonth()==G&&g==b){a.className+=" today";a.ttip+=Calendar._TT.PART_TODAY}if(q.indexOf(k.toString())!=-1){a.className+=a.otherMonth?" oweekend":" weekend"}}}if(!(z||this.showsOtherMonths)){e.className="emptyrow"}}this.title.innerHTML=Calendar._MN[E]+", "+l;this.onSetTime();this.table.style.visibility="visible";this._initMultipleDates()};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var b in this.multiple){var a=this.datesCells[b];var c=this.multiple[b];if(!c){continue}if(a){a.className+=" selected"}}}};Calendar.prototype._toggleMultipleDate=function(b){if(this.multiple){var c=b.print("%Y%m%d");var a=this.datesCells[c];if(a){var e=this.multiple[c];if(!e){Calendar.addClass(a,"selected");this.multiple[c]=b}else{Calendar.removeClass(a,"selected");delete this.multiple[c]}}}};Calendar.prototype.setDateToolTipHandler=function(a){this.getDateToolTip=a};Calendar.prototype.setDate=function(a){if(!a.equalsTo(this.date)){this._init(this.firstDayOfWeek,a)}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)};Calendar.prototype.setFirstDayOfWeek=function(a){this._init(a,this.date);this._displayWeekdays()};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(a){this.getDateStatus=a};Calendar.prototype.setRange=function(b,c){this.minYear=b;this.maxYear=c};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat))}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this)}this.hideShowCovered()};Calendar.prototype.destroy=function(){var a=this.element.parentNode;a.removeChild(this.element);Calendar._C=null;window._dynarch_popupCalendar=null};Calendar.prototype.reparent=function(b){var a=this.element;a.parentNode.removeChild(a);b.appendChild(a)};Calendar._checkCalendar=function(b){var c=window._dynarch_popupCalendar;if(!c){return false}var a=Calendar.is_ie?Calendar.getElement(b):Calendar.getTargetElement(b);for(;a!=null&&a!=c.element;a=a.parentNode){}if(a==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(b)}};Calendar.prototype.show=function(){var e=this.table.getElementsByTagName("tr");for(var d=e.length;d>0;){var g=e[--d];Calendar.removeClass(g,"rowhilite");var c=g.getElementsByTagName("td");for(var b=c.length;b>0;){var a=c[--b];Calendar.removeClass(a,"hilite");Calendar.removeClass(a,"active")}}this.element.style.display="block";this.hidden=false;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"keypress",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar)}this.hideShowCovered()};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"keypress",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)}this.element.style.display="none";this.hidden=true;this.hideShowCovered()};Calendar.prototype.showAt=function(a,c){var b=this.element.style;b.left=a+"px";b.top=c+"px";this.show()};Calendar.prototype.showAtElement=function(c,d){var a=this;var e=Calendar.getAbsolutePos(c);if(!d||typeof d!="string"){this.showAt(e.x,e.y+c.offsetHeight);return true}function b(m){if(m.x<0){m.x=0}if(m.y<0){m.y=0}var n=document.createElement("div");var k=n.style;k.position="absolute";k.right=k.bottom=k.width=k.height="0px";document.body.appendChild(n);var j=Calendar.getAbsolutePos(n);document.body.removeChild(n);var l=0;if(a.pageYOffset){l=a.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){l=document.documentElement.scrollTop}else{if(document.body){l=document.body.scrollTop}}}j.y+=l;if(Calendar.is_ie){j.x+=document.body.scrollLeft}else{j.x+=window.scrollX}var g=m.x+m.width-j.x;if(g>0){m.x-=g}g=m.y+m.height-j.y;if(g>0){m.y-=g}}this.element.style.display="block";Calendar.continuation_for_the_fucking_khtml_browser=function(){var g=a.element.offsetWidth;var k=a.element.offsetHeight;a.element.style.display="none";var j=d.substr(0,1);var l="l";if(d.length>1){l=d.substr(1,1)}switch(j){case"T":e.y-=k;break;case"B":e.y+=c.offsetHeight;break;case"C":e.y+=(c.offsetHeight-k)/2;break;case"t":e.y+=c.offsetHeight-k;break;case"b":break}switch(l){case"L":e.x-=g;break;case"R":e.x+=c.offsetWidth;break;case"C":e.x+=(c.offsetWidth-g)/2;break;case"l":e.x+=c.offsetWidth-g;break;case"r":break}e.width=g;e.height=k+40;a.monthsCombo.style.display="none";b(e);a.showAt(e.x,e.y)};if(Calendar.is_khtml){setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10)}else{Calendar.continuation_for_the_fucking_khtml_browser()}};Calendar.prototype.setDateFormat=function(a){this.dateFormat=a};Calendar.prototype.setTtDateFormat=function(a){this.ttDateFormat=a};Calendar.prototype.parseDate=function(b,a){if(!a){a=this.dateFormat}this.setDate(Date.parseDate(b,a))};Calendar.prototype.hideShowCovered=function(){if(!Calendar.is_ie&&!Calendar.is_opera){return}function b(p){var k=p.style.visibility;if(!k){if(document.defaultView&&typeof(document.defaultView.getComputedStyle)=="function"){if(!Calendar.is_khtml){k=document.defaultView.getComputedStyle(p,"").getPropertyValue("visibility")}else{k=""}}else{if(p.currentStyle){k=p.currentStyle.visibility}else{k=""}}}return k}var v=new Array("applet","iframe","select");var c=this.element;var a=Calendar.getAbsolutePos(c);var g=a.x;var d=c.offsetWidth+g;var u=a.y;var t=c.offsetHeight+u;for(var l=v.length;l>0;){var j=document.getElementsByTagName(v[--l]);var e=null;for(var n=j.length;n>0;){e=j[--n];a=Calendar.getAbsolutePos(e);var r=a.x;var q=e.offsetWidth+r;var o=a.y;var m=e.offsetHeight+o;if(this.hidden||(r>d)||(q<g)||(o>t)||(m<u)){if(!e.__msh_save_visibility){e.__msh_save_visibility=b(e)}e.style.visibility=e.__msh_save_visibility}else{if(!e.__msh_save_visibility){e.__msh_save_visibility=b(e)}e.style.visibility="hidden"}}}};Calendar.prototype._displayWeekdays=function(){var b=this.firstDayOfWeek;var a=this.firstdayname;var d=Calendar._TT.WEEKEND;for(var c=0;c<7;++c){a.className="day name";var e=(c+b)%7;if(c){a.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[e]);a.navtype=100;a.calendar=this;a.fdow=e;Calendar._add_evs(a)}if(d.indexOf(e.toString())!=-1){Calendar.addClass(a,"weekend")}a.innerHTML=Calendar._SDN[(c+b)%7];a=a.nextSibling}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none"};Calendar.prototype._dragStart=function(ev){if(this.dragging){return}this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,"mousemove",calDragIt);addEvent(document,"mouseup",calDragEnd)}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(o,c){var p=new Date();var q=0;var e=-1;var n=0;var u=o.split(/\W+/);var r=c.match(/%./g);var l=0,k=0;var v=0;var g=0;for(l=0;l<u.length;++l){if(!u[l]){continue}switch(r[l]){case"%d":case"%e":n=parseInt(u[l],10);break;case"%m":e=parseInt(u[l],10)-1;break;case"%Y":case"%y":q=parseInt(u[l],10);(q<100)&&(q+=(q>29)?1900:2000);break;case"%b":case"%B":for(k=0;k<12;++k){if(Calendar._MN[k].substr(0,u[l].length).toLowerCase()==u[l].toLowerCase()){e=k;break}}break;case"%H":case"%I":case"%k":case"%l":v=parseInt(u[l],10);break;case"%P":case"%p":if(/pm/i.test(u[l])&&v<12){v+=12}else{if(/am/i.test(u[l])&&v>=12){v-=12}}break;case"%M":g=parseInt(u[l],10);break}}if(isNaN(q)){q=p.getFullYear()}if(isNaN(e)){e=p.getMonth()}if(isNaN(n)){n=p.getDate()}if(isNaN(v)){v=p.getHours()}if(isNaN(g)){g=p.getMinutes()}if(q!=0&&e!=-1&&n!=0){return new Date(q,e,n,v,g,0)}q=0;e=-1;n=0;for(l=0;l<u.length;++l){if(u[l].search(/[a-zA-Z\\0-4]+/)!=-1){var x=-1;for(k=0;k<12;++k){if(Calendar._MN[k].substr(0,u[l].length).toLowerCase()==u[l].toLowerCase()){x=k;break}}if(x!=-1){if(e!=-1){n=e+1}e=x}}else{if(parseInt(u[l],10)<=12&&e==-1){e=u[l]-1}else{if(parseInt(u[l],10)>31&&q==0){q=parseInt(u[l],10);(q<100)&&(q+=(q>29)?1900:2000)}else{if(n==0){n=u[l]}}}}}if(q==0){q=p.getFullYear()}if(e!=-1&&n!=0){return new Date(q,e,n,v,g,0)}return p};Date.prototype.getMonthDays=function(b){var a=this.getFullYear();if(typeof b=="undefined"){b=this.getMonth()}if(((0==(a%4))&&((0!=(a%100))||(0==(a%400))))&&b==1){return 29}else{return Date._MD[b]}};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var c=new Date(this.getFullYear(),0,0,0,0,0);var b=a-c;return Math.floor(b/Date.DAY)};Date.prototype.getWeekNumber=function(){var c=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var b=c.getDay();c.setDate(c.getDate()-(b+6)%7+3);var a=c.valueOf();c.setMonth(0);c.setDate(4);return Math.round((a-c.valueOf())/(7*86400000))+1};Date.prototype.equalsTo=function(a){return((this.getFullYear()==a.getFullYear())&&(this.getMonth()==a.getMonth())&&(this.getDate()==a.getDate())&&(this.getHours()==a.getHours())&&(this.getMinutes()==a.getMinutes()))};Date.prototype.setDateOnly=function(a){var b=new Date(a);this.setDate(1);this.setFullYear(b.getFullYear());this.setMonth(b.getMonth());this.setDate(b.getDate())};Date.prototype.print=function(o){var b=this.getMonth();var n=this.getDate();var p=this.getFullYear();var r=this.getWeekNumber();var t=this.getDay();var z={};var u=this.getHours();var c=(u>=12);var k=(c)?(u-12):u;var x=this.getDayOfYear();if(k==0){k=12}var e=this.getMinutes();var l=this.getSeconds();z["%a"]=Calendar._SDN[t];z["%A"]=Calendar._DN[t];z["%b"]=Calendar._SMN[b];z["%B"]=Calendar._MN[b];z["%C"]=1+Math.floor(p/100);z["%d"]=(n<10)?("0"+n):n;z["%e"]=n;z["%H"]=(u<10)?("0"+u):u;z["%I"]=(k<10)?("0"+k):k;z["%j"]=(x<100)?((x<10)?("00"+x):("0"+x)):x;z["%k"]=u;z["%l"]=k;z["%m"]=(b<9)?("0"+(1+b)):(1+b);z["%M"]=(e<10)?("0"+e):e;z["%n"]="\n";z["%p"]=c?"PM":"AM";z["%P"]=c?"pm":"am";z["%s"]=Math.floor(this.getTime()/1000);z["%S"]=(l<10)?("0"+l):l;z["%t"]="\t";z["%U"]=z["%W"]=z["%V"]=(r<10)?("0"+r):r;z["%u"]=t+1;z["%w"]=t;z["%y"]=(""+p).substr(2,2);z["%Y"]=p;z["%%"]="%";var v=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml){return o.replace(v,function(a){return z[a]||a})}var q=o.match(v);for(var j=0;j<q.length;j++){var g=z[q[j]];if(g){v=new RegExp(q[j],"g");o=o.replace(v,g)}}return o};if(!Date.prototype.__msh_oldSetFullYear){Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(b){var a=new Date(this);a.__msh_oldSetFullYear(b);if(a.getMonth()!=this.getMonth()){this.setDate(28)}this.__msh_oldSetFullYear(b)}}window._dynarch_popupCalendar=null;Calendar.setup=function(j){function g(k,l){if(typeof j[k]=="undefined"){j[k]=l}}g("inputField",null);g("displayArea",null);g("button",null);g("eventName","click");g("ifFormat","%Y/%m/%d");g("daFormat","%Y/%m/%d");g("singleClick",true);g("disableFunc",null);g("dateStatusFunc",j.disableFunc);g("dateText",null);g("firstDay",null);g("align","Br");g("range",[2009,2020]);g("weekNumbers",false);g("flat",null);g("flatCallback",null);g("onSelect",null);g("onClose",null);g("onUpdate",null);g("date",null);g("showsTime",false);g("timeFormat","24");g("electric",true);g("step",2);g("position",null);g("cache",false);g("showOthers",false);g("multiple",null);var c=["inputField","displayArea","button"];for(var b in c){if(typeof j[c[b]]=="string"){j[c[b]]=document.getElementById(j[c[b]])}}if(!(j.flat||j.multiple||j.inputField||j.displayArea||j.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function a(l){var k=l.params;var m=(l.dateClicked||k.electric);if(m&&k.inputField){k.inputField.value=l.date.print(k.ifFormat);if(typeof k.inputField.onchange=="function"){k.inputField.onchange()}}if(m&&k.displayArea){k.displayArea.innerHTML=l.date.print(k.daFormat)}if(m&&typeof k.onUpdate=="function"){k.onUpdate(l)}if(m&&k.flat){if(typeof k.flatCallback=="function"){k.flatCallback(l)}}if(m&&k.singleClick&&l.dateClicked){l.callCloseHandler()}}if(j.flat!=null){if(typeof j.flat=="string"){j.flat=document.getElementById(j.flat)}if(!j.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var e=new Calendar(j.firstDay,j.date,j.onSelect||a);e.showsOtherMonths=j.showOthers;e.showsTime=j.showsTime;e.time24=(j.timeFormat=="24");e.params=j;e.weekNumbers=j.weekNumbers;e.setRange(j.range[0],j.range[1]);e.setDateStatusHandler(j.dateStatusFunc);e.getDateText=j.dateText;if(j.ifFormat){e.setDateFormat(j.ifFormat)}if(j.inputField&&typeof j.inputField.value=="string"){e.parseDate(j.inputField.value)}e.create(j.flat);e.show();return false}var d=j.button||j.displayArea||j.inputField;d["on"+j.eventName]=function(){var k=j.inputField||j.displayArea;var m=j.inputField?j.ifFormat:j.daFormat;var q=false;var o=window.calendar;if(k){j.date=Date.parseDate(k.value||k.innerHTML,m)}if(!(o&&j.cache)){window.calendar=o=new Calendar(j.firstDay,j.date,j.onSelect||a,j.onClose||function(r){r.hide()});o.showsTime=j.showsTime;o.time24=(j.timeFormat=="24");o.weekNumbers=j.weekNumbers;q=true}else{if(j.date){o.setDate(j.date)}o.hide()}if(j.multiple){o.multiple={};for(var l=j.multiple.length;--l>=0;){var p=j.multiple[l];var n=p.print("%Y%m%d");o.multiple[n]=p}}o.showsOtherMonths=j.showOthers;o.yearStep=j.step;o.setRange(j.range[0],j.range[1]);o.params=j;o.setDateStatusHandler(j.dateStatusFunc);o.getDateText=j.dateText;o.setDateFormat(m);if(q){o.create()}o.refresh();if(!j.position){o.showAtElement(j.button||j.displayArea||j.inputField,j.align)}else{o.showAt(j.position[0],j.position[1])}return false};return e};String.prototype.parseColor=function(){var a="#";if(this.slice(0,4)=="rgb("){var c=this.slice(4,this.length-1).split(",");var b=0;do{a+=parseInt(c[b]).toColorPart()}while(++b<3)}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var b=1;b<4;b++){a+=(this.charAt(b)+this.charAt(b)).toLowerCase()}}if(this.length==7){a=this.toLowerCase()}}}return(a.length==7?a:(arguments[0]||this))};Element.collectTextNodes=function(a){return $A($(a).childNodes).collect(function(b){return(b.nodeType==3?b.nodeValue:(b.hasChildNodes()?Element.collectTextNodes(b):""))}).flatten().join("")};Element.collectTextNodesIgnoreClass=function(a,b){return $A($(a).childNodes).collect(function(c){return(c.nodeType==3?c.nodeValue:((c.hasChildNodes()&&!Element.hasClassName(c,b))?Element.collectTextNodesIgnoreClass(c,b):""))}).flatten().join("")};Element.setContentZoom=function(a,b){a=$(a);a.setStyle({fontSize:(b/100)+"em"});if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}return a};Element.getOpacity=function(a){return $(a).getStyle("opacity")};Element.setOpacity=function(a,b){return $(a).setStyle({opacity:b})};Element.getInlineOpacity=function(a){return $(a).style.opacity||""};Element.forceRerendering=function(a){try{a=$(a);var c=document.createTextNode(" ");a.appendChild(c);a.removeChild(c)}catch(b){}};Array.prototype.call=function(){var a=arguments;this.each(function(b){b.apply(this,a)})};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},tagifyText:function(a){if(typeof Builder=="undefined"){throw ("Effect.tagifyText requires including script.aculo.us' builder.js library")}var b="position:relative";if(/MSIE/.test(navigator.userAgent)&&!window.opera){b+=";zoom:1"}a=$(a);$A(a.childNodes).each(function(c){if(c.nodeType==3){c.nodeValue.toArray().each(function(d){a.insertBefore(Builder.node("span",{style:b},d==" "?String.fromCharCode(160):d),c)});Element.remove(c)}})},multiple:function(b,c){var e;if(((typeof b=="object")||(typeof b=="function"))&&(b.length)){e=b}else{e=$(b).childNodes}var a=Object.extend({speed:0.1,delay:0},arguments[2]||{});var d=a.delay;$A(e).each(function(j,g){new c(j,Object.extend(a,{delay:g*a.speed+d}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(b,c){b=$(b);c=(c||"appear").toLowerCase();var a=Object.extend({queue:{position:"end",scope:(b.id||"global"),limit:1}},arguments[2]||{});Effect[b.visible()?Effect.PAIRS[c][1]:Effect.PAIRS[c][0]](b,a)}};var Effect2=Effect;Effect.Transitions={linear:Prototype.K,sinoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5},reverse:function(a){return 1-a},flicker:function(a){return((-Math.cos(a*Math.PI)/4)+0.75)+Math.random()/4},wobble:function(a){return(-Math.cos(a*Math.PI*(9*a))/2)+0.5},pulse:function(b,a){a=a||5;return(Math.round((b%(1/a))*a)==0?((b*a*2)-Math.floor(b*a*2)):1-((b*a*2)-Math.floor(b*a*2)))},none:function(a){return 0},full:function(a){return 1}};Effect.ScopedQueue=Class.create();Object.extend(Object.extend(Effect.ScopedQueue.prototype,Enumerable),{initialize:function(){this.effects=[];this.interval=null},_each:function(a){this.effects._each(a)},add:function(b){var c=new Date().getTime();var a=(typeof b.options.queue=="string")?b.options.queue:b.options.queue.position;switch(a){case"front":this.effects.findAll(function(d){return d.state=="idle"}).each(function(d){d.startOn+=b.finishOn;d.finishOn+=b.finishOn});break;case"with-last":c=this.effects.pluck("startOn").max()||c;break;case"end":c=this.effects.pluck("finishOn").max()||c;break}b.startOn+=c;b.finishOn+=c;if(!b.options.queue.limit||(this.effects.length<b.options.queue.limit)){this.effects.push(b)}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15)}},remove:function(a){this.effects=this.effects.reject(function(b){return b==a});if(this.effects.length==0){clearInterval(this.interval);this.interval=null}},loop:function(){var c=new Date().getTime();for(var b=0,a=this.effects.length;b<a;b++){if(this.effects[b]){this.effects[b].loop(c)}}}});Effect.Queues={instances:$H(),get:function(a){if(typeof a!="string"){return a}if(!this.instances[a]){this.instances[a]=new Effect.ScopedQueue()}return this.instances[a]}};Effect.Queue=Effect.Queues.get("global");Effect.DefaultOptions={transition:Effect.Transitions.sinoidal,duration:1,fps:60,sync:false,from:0,to:1,delay:0,queue:"parallel"};Effect.Base=function(){};Effect.Base.prototype={position:null,start:function(a){this.options=Object.extend(Object.extend({},Effect.DefaultOptions),a||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).add(this)}},loop:function(c){if(c>=this.startOn){if(c>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish()}this.event("afterFinish");return}var b=(c-this.startOn)/(this.finishOn-this.startOn);var a=Math.round(b*this.options.fps*this.options.duration);if(a>this.currentFrame){this.render(b);this.currentFrame=a}}},render:function(a){if(this.state=="idle"){this.state="running";this.event("beforeSetup");if(this.setup){this.setup()}this.event("afterSetup")}if(this.state=="running"){if(this.options.transition){a=this.options.transition(a)}a*=(this.options.to-this.options.from);a+=this.options.from;this.position=a;this.event("beforeUpdate");if(this.update){this.update(a)}this.event("afterUpdate")}},cancel:function(){if(!this.options.sync){Effect.Queues.get(typeof this.options.queue=="string"?"global":this.options.queue.scope).remove(this)}this.state="finished"},event:function(a){if(this.options[a+"Internal"]){this.options[a+"Internal"](this)}if(this.options[a]){this.options[a](this)}},inspect:function(){var a=$H();for(property in this){if(typeof this[property]!="function"){a[property]=this[property]}}return"#<Effect:"+a.inspect()+",options:"+$H(this.options).inspect()+">"}};Effect.Parallel=Class.create();Object.extend(Object.extend(Effect.Parallel.prototype,Effect.Base.prototype),{initialize:function(a){this.effects=a||[];this.start(arguments[1])},update:function(a){this.effects.invoke("render",a)},finish:function(a){this.effects.each(function(b){b.render(1);b.cancel();b.event("beforeFinish");if(b.finish){b.finish(a)}b.event("afterFinish")})}});Effect.Event=Class.create();Object.extend(Object.extend(Effect.Event.prototype,Effect.Base.prototype),{initialize:function(){var a=Object.extend({duration:0},arguments[0]||{});this.start(a)},update:Prototype.emptyFunction});Effect.Opacity=Class.create();Object.extend(Object.extend(Effect.Opacity.prototype,Effect.Base.prototype),{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}var a=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(a)},update:function(a){this.element.setOpacity(a)}});Effect.Move=Class.create();Object.extend(Object.extend(Effect.Move.prototype,Effect.Base.prototype),{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(a)},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop}},update:function(a){this.element.setStyle({left:Math.round(this.options.x*a+this.originalLeft)+"px",top:Math.round(this.options.y*a+this.originalTop)+"px"})}});Effect.MoveBy=function(b,a,c){return new Effect.Move(b,Object.extend({x:c,y:a},arguments[3]||{}))};Effect.Scale=Class.create();Object.extend(Object.extend(Effect.Scale.prototype,Effect.Base.prototype),{initialize:function(b,c){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:c},arguments[2]||{});this.start(a)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(b){this.originalStyle[b]=this.element.style[b]}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var a=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(b){if(a.indexOf(b)>0){this.fontSize=parseFloat(a);this.fontSizeType=b}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth]}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth]}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth]}},update:function(a){var b=(this.options.scaleFrom/100)+(this.factor*a);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*b+this.fontSizeType})}this.setDimensions(this.dims[0]*b,this.dims[1]*b)},finish:function(a){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle)}},setDimensions:function(a,e){var g={};if(this.options.scaleX){g.width=Math.round(e)+"px"}if(this.options.scaleY){g.height=Math.round(a)+"px"}if(this.options.scaleFromCenter){var c=(a-this.dims[0])/2;var b=(e-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){g.top=this.originalTop-c+"px"}if(this.options.scaleX){g.left=this.originalLeft-b+"px"}}else{if(this.options.scaleY){g.top=-c+"px"}if(this.options.scaleX){g.left=-b+"px"}}}this.element.setStyle(g)}});Effect.Highlight=Class.create();Object.extend(Object.extend(Effect.Highlight.prototype,Effect.Base.prototype),{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(a)},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"})}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color")}this._base=$R(0,2).map(function(a){return parseInt(this.options.startcolor.slice(a*2+1,a*2+3),16)}.bind(this));this._delta=$R(0,2).map(function(a){return parseInt(this.options.endcolor.slice(a*2+1,a*2+3),16)-this._base[a]}.bind(this))},update:function(a){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(b,c,d){return b+(Math.round(this._base[d]+(this._delta[d]*a)).toColorPart())}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}});Effect.ScrollTo=Class.create();Object.extend(Object.extend(Effect.ScrollTo.prototype,Effect.Base.prototype),{initialize:function(a){this.element=$(a);this.start(arguments[1]||{})},setup:function(){Position.prepare();var b=Position.cumulativeOffset(this.element);if(this.options.offset){b[1]+=this.options.offset}var a=window.innerHeight?window.height-window.innerHeight:document.body.scrollHeight-(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight);this.scrollStart=Position.deltaY;this.delta=(b[1]>a?a:b[1])-this.scrollStart},update:function(a){Position.prepare();window.scrollTo(Position.deltaX,this.scrollStart+(a*this.delta))}});Effect.Fade=function(c){c=$(c);var a=c.getInlineOpacity();var b=Object.extend({from:c.getOpacity()||1,to:0,afterFinishInternal:function(d){if(d.options.to!=0){return}d.element.hide().setStyle({opacity:a})}},arguments[1]||{});return new Effect.Opacity(c,b)};Effect.Appear=function(b){b=$(b);var a=Object.extend({from:(b.getStyle("display")=="none"?0:b.getOpacity()||0),to:1,afterFinishInternal:function(c){c.element.forceRerendering()},beforeSetup:function(c){c.element.setOpacity(c.options.from).show()}},arguments[1]||{});return new Effect.Opacity(b,a)};Effect.Puff=function(b){b=$(b);var a={opacity:b.getInlineOpacity(),position:b.getStyle("position"),top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};return new Effect.Parallel([new Effect.Scale(b,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(c){Position.absolutize(c.effects[0].element)},afterFinishInternal:function(c){c.effects[0].element.hide().setStyle(a)}},arguments[1]||{}))};Effect.BlindUp=function(a){a=$(a);a.makeClipping();return new Effect.Scale(a,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(b){b.element.hide().undoClipping()}},arguments[1]||{}))};Effect.BlindDown=function(b){b=$(b);var a=b.getDimensions();return new Effect.Scale(b,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:a.height,originalWidth:a.width},restoreAfterFinish:true,afterSetup:function(c){c.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(c){c.element.undoClipping()}},arguments[1]||{}))};Effect.SwitchOff=function(b){b=$(b);var a=b.getInlineOpacity();return new Effect.Appear(b,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(c){new Effect.Scale(c.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(d){d.element.makePositioned().makeClipping()},afterFinishInternal:function(d){d.element.hide().undoClipping().undoPositioned().setStyle({opacity:a})}})}},arguments[1]||{}))};Effect.DropOut=function(b){b=$(b);var a={top:b.getStyle("top"),left:b.getStyle("left"),opacity:b.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(b,{x:0,y:100,sync:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(c){c.effects[0].element.makePositioned()},afterFinishInternal:function(c){c.effects[0].element.hide().undoPositioned().setStyle(a)}},arguments[1]||{}))};Effect.Shake=function(b){b=$(b);var a={top:b.getStyle("top"),left:b.getStyle("left")};return new Effect.Move(b,{x:20,y:0,duration:0.05,afterFinishInternal:function(c){new Effect.Move(c.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(d){new Effect.Move(d.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-40,y:0,duration:0.1,afterFinishInternal:function(g){new Effect.Move(g.element,{x:40,y:0,duration:0.1,afterFinishInternal:function(j){new Effect.Move(j.element,{x:-20,y:0,duration:0.05,afterFinishInternal:function(k){k.element.undoPositioned().setStyle(a)}})}})}})}})}})}})};Effect.SlideDown=function(c){c=$(c).cleanWhitespace();var a=c.down().getStyle("bottom");var b=c.getDimensions();return new Effect.Scale(c,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makePositioned();d.element.down().makePositioned();if(window.opera){d.element.setStyle({top:""})}d.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(d){d.element.down().setStyle({bottom:(d.dims[0]-d.element.clientHeight)+"px"})},afterFinishInternal:function(d){d.element.undoClipping().undoPositioned();d.element.down().undoPositioned().setStyle({bottom:a})}},arguments[1]||{}))};Effect.SlideUp=function(b){b=$(b).cleanWhitespace();var a=b.down().getStyle("bottom");return new Effect.Scale(b,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,restoreAfterFinish:true,beforeStartInternal:function(c){c.element.makePositioned();c.element.down().makePositioned();if(window.opera){c.element.setStyle({top:""})}c.element.makeClipping().show()},afterUpdateInternal:function(c){c.element.down().setStyle({bottom:(c.dims[0]-c.element.clientHeight)+"px"})},afterFinishInternal:function(c){c.element.hide().undoClipping().undoPositioned().setStyle({bottom:a});c.element.down().undoPositioned()}},arguments[1]||{}))};Effect.Squish=function(a){return new Effect.Scale(a,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(b){b.element.makeClipping()},afterFinishInternal:function(b){b.element.hide().undoClipping()}})};Effect.Grow=function(c){c=$(c);var b=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var a={top:c.style.top,left:c.style.left,height:c.style.height,width:c.style.width,opacity:c.getInlineOpacity()};var j=c.getDimensions();var k,g;var e,d;switch(b.direction){case"top-left":k=g=e=d=0;break;case"top-right":k=j.width;g=d=0;e=-j.width;break;case"bottom-left":k=e=0;g=j.height;d=-j.height;break;case"bottom-right":k=j.width;g=j.height;e=-j.width;d=-j.height;break;case"center":k=j.width/2;g=j.height/2;e=-j.width/2;d=-j.height/2;break}return new Effect.Move(c,{x:k,y:g,duration:0.01,beforeSetup:function(l){l.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(l){new Effect.Parallel([new Effect.Opacity(l.element,{sync:true,to:1,from:0,transition:b.opacityTransition}),new Effect.Move(l.element,{x:e,y:d,sync:true,transition:b.moveTransition}),new Effect.Scale(l.element,100,{scaleMode:{originalHeight:j.height,originalWidth:j.width},sync:true,scaleFrom:window.opera?1:0,transition:b.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(m){m.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(m){m.effects[0].element.undoClipping().undoPositioned().setStyle(a)}},b))}})};Effect.Shrink=function(c){c=$(c);var b=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var a={top:c.style.top,left:c.style.left,height:c.style.height,width:c.style.width,opacity:c.getInlineOpacity()};var g=c.getDimensions();var e,d;switch(b.direction){case"top-left":e=d=0;break;case"top-right":e=g.width;d=0;break;case"bottom-left":e=0;d=g.height;break;case"bottom-right":e=g.width;d=g.height;break;case"center":e=g.width/2;d=g.height/2;break}return new Effect.Parallel([new Effect.Opacity(c,{sync:true,to:0,from:1,transition:b.opacityTransition}),new Effect.Scale(c,window.opera?1:0,{sync:true,transition:b.scaleTransition,restoreAfterFinish:true}),new Effect.Move(c,{x:e,y:d,sync:true,transition:b.moveTransition})],Object.extend({beforeStartInternal:function(j){j.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(j){j.effects[0].element.hide().undoClipping().undoPositioned().setStyle(a)}},b))};Effect.Pulsate=function(c){c=$(c);var b=arguments[1]||{};var a=c.getInlineOpacity();var e=b.transition||Effect.Transitions.sinoidal;var d=function(g){return e(1-Effect.Transitions.pulse(g,b.pulses))};d.bind(e);return new Effect.Opacity(c,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(g){g.element.setStyle({opacity:a})}},b),{transition:d}))};Effect.Fold=function(b){b=$(b);var a={top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};b.makeClipping();return new Effect.Scale(b,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(c){new Effect.Scale(b,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(d){d.element.hide().undoClipping().setStyle(a)}})}},arguments[1]||{}))};Effect.Morph=Class.create();Object.extend(Object.extend(Effect.Morph.prototype,Effect.Base.prototype),{initialize:function(c){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}var b=Object.extend({style:{}},arguments[1]||{});if(typeof b.style=="string"){if(b.style.indexOf(":")==-1){var d="",a="."+b.style;$A(document.styleSheets).reverse().each(function(e){if(e.cssRules){cssRules=e.cssRules}else{if(e.rules){cssRules=e.rules}}$A(cssRules).reverse().each(function(g){if(a==g.selectorText){d=g.style.cssText;throw $break}});if(d){throw $break}});this.style=d.parseStyle();b.afterFinishInternal=function(e){e.element.addClassName(e.options.style);e.transforms.each(function(g){if(g.style!="opacity"){e.element.style[g.style.camelize()]=""}})}}else{this.style=b.style.parseStyle()}}else{this.style=$H(b.style)}this.start(b)},setup:function(){function a(b){if(!b||["rgba(0, 0, 0, 0)","transparent"].include(b)){b="#ffffff"}b=b.parseColor();return $R(0,2).map(function(c){return parseInt(b.slice(c*2+1,c*2+3),16)})}this.transforms=this.style.map(function(j){var g=j[0].underscore().dasherize(),e=j[1],d=null;if(e.parseColor("#zzzzzz")!="#zzzzzz"){e=e.parseColor();d="color"}else{if(g=="opacity"){e=parseFloat(e);if(/MSIE/.test(navigator.userAgent)&&!window.opera&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}}else{if(Element.CSS_LENGTH.test(e)){var c=e.match(/^([\+\-]?[0-9\.]+)(.*)$/),e=parseFloat(c[1]),d=(c.length==3)?c[2]:null}}}var b=this.element.getStyle(g);return $H({style:g,originalValue:d=="color"?a(b):parseFloat(b||0),targetValue:d=="color"?a(e):e,unit:d})}.bind(this)).reject(function(b){return((b.originalValue==b.targetValue)||(b.unit!="color"&&(isNaN(b.originalValue)||isNaN(b.targetValue))))})},update:function(a){var b=$H(),c=null;this.transforms.each(function(d){c=d.unit=="color"?$R(0,2).inject("#",function(e,g,j){return e+(Math.round(d.originalValue[j]+(d.targetValue[j]-d.originalValue[j])*a)).toColorPart()}):d.originalValue+Math.round(((d.targetValue-d.originalValue)*a)*1000)/1000+d.unit;b[d.style]=c});this.element.setStyle(b)}});Effect.Transform=Class.create();Object.extend(Effect.Transform.prototype,{initialize:function(a){this.tracks=[];this.options=arguments[1]||{};this.addTracks(a)},addTracks:function(a){a.each(function(b){var c=$H(b).values().first();this.tracks.push($H({ids:$H(b).keys().first(),effect:Effect.Morph,options:{style:c}}))}.bind(this));return this},play:function(){return new Effect.Parallel(this.tracks.map(function(a){var b=[$(a.ids)||$$(a.ids)].flatten();return b.map(function(c){return new a.effect(c,Object.extend({sync:true},a.options))})}).flatten(),this.options)}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.prototype.parseStyle=function(){var b=Element.extend(document.createElement("div"));b.innerHTML='<div style="'+this+'"></div>';var c=b.down().style,a=$H();Element.CSS_PROPERTIES.each(function(d){if(c[d]){a[d]=c[d]}});if(/MSIE/.test(navigator.userAgent)&&!window.opera&&this.indexOf("opacity")>-1){a.opacity=this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]}return a};Element.morph=function(a,b){new Effect.Morph(a,Object.extend({style:b},arguments[2]||{}));return a};["setOpacity","getOpacity","getInlineOpacity","forceRerendering","setContentZoom","collectTextNodes","collectTextNodesIgnoreClass","morph"].each(function(a){Element.Methods[a]=Element[a]});Element.Methods.visualEffect=function(b,c,a){s=c.gsub(/_/,"-").camelize();effect_class=s.charAt(0).toUpperCase()+s.substring(1);new Effect[effect_class](b,a);return $(b)};Element.addMethods();if(typeof Effect=="undefined"){throw ("dragdrop.js requires including script.aculo.us' effects.js library")}var Droppables={drops:[],remove:function(a){this.drops=this.drops.reject(function(b){return b.element==$(a)})},add:function(b){b=$(b);var a=Object.extend({greedy:true,hoverclass:null,tree:false},arguments[1]||{});if(a.containment){a._containers=[];var c=a.containment;if((typeof c=="object")&&(c.constructor==Array)){c.each(function(d){a._containers.push($(d))})}else{a._containers.push($(c))}}if(a.accept){a.accept=[a.accept].flatten()}Element.makePositioned(b);a.element=b;this.drops.push(a)},findDeepestChild:function(a){deepest=a[0];for(i=1;i<a.length;++i){if(Element.isParent(a[i].element,deepest.element)){deepest=a[i]}}return deepest},isContained:function(b,a){var c;if(a.tree){c=b.treeNode}else{c=b.parentNode}return a._containers.detect(function(d){return c==d})},isAffected:function(a,c,b){return((b.element!=c)&&((!b._containers)||this.isContained(c,b))&&((!b.accept)||(Element.classNames(c).detect(function(d){return b.accept.include(d)})))&&Position.within(b.element,a[0],a[1]))},deactivate:function(a){if(a.hoverclass){Element.removeClassName(a.element,a.hoverclass)}this.last_active=null},activate:function(a){if(a.hoverclass){Element.addClassName(a.element,a.hoverclass)}this.last_active=a},show:function(a,b){if(!this.drops.length){return}var c=[];if(this.last_active){this.deactivate(this.last_active)}this.drops.each(function(d){if(Droppables.isAffected(a,b,d)){c.push(d)}});if(c.length>0){drop=Droppables.findDeepestChild(c);Position.within(drop.element,a[0],a[1]);if(drop.onHover){drop.onHover(b,drop.element,Position.overlap(drop.overlap,drop.element))}Droppables.activate(drop)}},fire:function(b,a){if(!this.last_active){return}Position.prepare();if(this.isAffected([Event.pointerX(b),Event.pointerY(b)],a,this.last_active)){if(this.last_active.onDrop){this.last_active.onDrop(a,this.last_active.element,b)}}},reset:function(){if(this.last_active){this.deactivate(this.last_active)}}};var Draggables={drags:[],observers:[],register:function(a){if(this.drags.length==0){this.eventMouseUp=this.endDrag.bindAsEventListener(this);this.eventMouseMove=this.updateDrag.bindAsEventListener(this);this.eventKeypress=this.keyPress.bindAsEventListener(this);Event.observe(document,"mouseup",this.eventMouseUp);Event.observe(document,"mousemove",this.eventMouseMove);Event.observe(document,"keypress",this.eventKeypress)}this.drags.push(a)},unregister:function(a){this.drags=this.drags.reject(function(b){return b==a});if(this.drags.length==0){Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(document,"mousemove",this.eventMouseMove);Event.stopObserving(document,"keypress",this.eventKeypress)}},activate:function(a){if(a.options.delay){this._timeout=setTimeout(function(){Draggables._timeout=null;window.focus();Draggables.activeDraggable=a}.bind(this),a.options.delay)}else{window.focus();this.activeDraggable=a}},deactivate:function(){this.activeDraggable=null},updateDrag:function(a){if(!this.activeDraggable){return}var b=[Event.pointerX(a),Event.pointerY(a)];if(this._lastPointer&&(this._lastPointer.inspect()==b.inspect())){return}this._lastPointer=b;this.activeDraggable.updateDrag(a,b)},endDrag:function(a){if(this._timeout){clearTimeout(this._timeout);this._timeout=null}if(!this.activeDraggable){return}this._lastPointer=null;this.activeDraggable.endDrag(a);this.activeDraggable=null},keyPress:function(a){if(this.activeDraggable){this.activeDraggable.keyPress(a)}},addObserver:function(a){this.observers.push(a);this._cacheObserverCallbacks()},removeObserver:function(a){this.observers=this.observers.reject(function(b){return b.element==a});this._cacheObserverCallbacks()},notify:function(b,a,c){if(this[b+"Count"]>0){this.observers.each(function(d){if(d[b]){d[b](b,a,c)}})}if(a.options[b]){a.options[b](a,c)}},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(a){Draggables[a+"Count"]=Draggables.observers.select(function(b){return b[a]}).length})}};var Draggable=Class.create();Draggable._dragging={};Draggable.prototype={initialize:function(b){var c={handle:false,reverteffect:function(g,e,d){var j=Math.sqrt(Math.abs(e^2)+Math.abs(d^2))*0.02;new Effect.Move(g,{x:-d,y:-e,duration:j,queue:{scope:"_draggable",position:"end"}})},endeffect:function(d){},zindex:1000,revert:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,snap:false,delay:0,callbackFinishDrag:null,callbackUpdateDrag:null,lastYValue:0,currentYMoveDirection:0};if(!arguments[1]||typeof arguments[1].endeffect=="undefined"){Object.extend(c,{starteffect:function(d){}})}var a=Object.extend(c,arguments[1]||{});this.element=$(b);if(a.handle&&(typeof a.handle=="string")){this.handle=this.element.down("."+a.handle,0)}if(!this.handle){this.handle=$(a.handle)}if(!this.handle){this.handle=this.element}if(a.scroll&&!a.scroll.scrollTo&&!a.scroll.outerHTML){a.scroll=$(a.scroll);this._isScrollChild=Element.childOf(this.element,a.scroll)}Element.makePositioned(this.element);this.delta=this.currentDelta();this.options=a;this.dragging=false;this.eventMouseDown=this.initDrag.bindAsEventListener(this);Event.observe(this.handle,"mousedown",this.eventMouseDown);Draggables.register(this)},destroy:function(){Event.stopObserving(this.handle,"mousedown",this.eventMouseDown);Draggables.unregister(this)},currentDelta:function(){return([parseInt(Element.getStyle(this.element,"left")||"0"),parseInt(Element.getStyle(this.element,"top")||"0")])},initDrag:function(a){if(typeof Draggable._dragging[this.element]!="undefined"&&Draggable._dragging[this.element]){return}if(Event.isLeftClick(a)){var c=Event.element(a);if((tag_name=c.tagName.toUpperCase())&&(tag_name=="INPUT"||tag_name=="SELECT"||tag_name=="OPTION"||tag_name=="BUTTON"||tag_name=="TEXTAREA")){return}var b=[Event.pointerX(a),Event.pointerY(a)];var d=Position.cumulativeOffset(this.element);this.offset=[0,1].map(function(e){return(b[e]-d[e])});Draggables.activate(this);Event.stop(a)}},startDrag:function(b){this.dragging=true;if(this.options.zindex){this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0);this.element.style.zIndex=this.options.zindex}if(this.options.ghosting){this._clone=this.element.cloneNode(true);Position.absolutize(this.element);this.element.parentNode.insertBefore(this._clone,this.element)}if(this.options.scroll){if(this.options.scroll==window){var a=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=a.left;this.originalScrollTop=a.top}else{this.originalScrollLeft=this.options.scroll.scrollLeft;this.originalScrollTop=this.options.scroll.scrollTop}}Draggables.notify("onStart",this,b);this.lastYValue=parseInt(Element.getStyle(this.element,"top"));if(this.options.starteffect){this.options.starteffect(this.element)}},getDraggingDirection:function(){return this.currentYMoveDirection},updateDrag:function(event,pointer){if(!this.dragging){this.startDrag(event)}Position.prepare();Droppables.show(pointer,this.element);Draggables.notify("onDrag",this,event);this.draw(pointer);if(this.options.change){this.options.change(this)}if(this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){p=[left,top,left+width,top+height]}}else{p=Position.page(this.options.scroll);p[0]+=this.options.scroll.scrollLeft+Position.deltaX;p[1]+=this.options.scroll.scrollTop+Position.deltaY;p.push(p[0]+this.options.scroll.offsetWidth);p.push(p[1]+this.options.scroll.offsetHeight)}var speed=[0,0];if(pointer[0]<(p[0]+this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity)}if(pointer[1]<(p[1]+this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity)}if(pointer[0]>(p[2]-this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity)}if(pointer[1]>(p[3]-this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity)}this.startScrolling(speed)}if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}var currentYValue=parseInt(Element.getStyle(this.element,"top"));if(this.lastYValue>currentYValue){this.currentYMoveDirection=-1}else{if(this.lastYValue<currentYValue){this.currentYMoveDirection=1}else{this.currentYMoveDirection=0}}this.lastYValue=currentYValue;if(this.options.callbackUpdateDrag!=null){this.options.callbackUpdateDrag(this)}Event.stop(event)},finishDrag:function(b,e){this.dragging=false;if(this.options.ghosting){Position.relativize(this.element);Element.remove(this._clone);this._clone=null}if(e){Droppables.fire(b,this.element)}Draggables.notify("onEnd",this,b);var a=this.options.revert;if(a&&typeof a=="function"){a=a(this.element)}var c=this.currentDelta();if(a&&this.options.reverteffect){this.options.reverteffect(this.element,c[1]-this.delta[1],c[0]-this.delta[0])}else{this.delta=c}if(this.options.zindex){this.element.style.zIndex=this.originalZ}if(this.options.endeffect){this.options.endeffect(this.element)}if(this.options.callbackFinishDrag!=null){this.options.callbackFinishDrag(this)}Draggables.deactivate(this);Droppables.reset()},keyPress:function(a){if(a.keyCode!=Event.KEY_ESC){return}this.finishDrag(a,false);Event.stop(a)},endDrag:function(a){if(!this.dragging){return}this.stopScrolling();this.finishDrag(a,true);Event.stop(a)},draw:function(a){var j=Position.cumulativeOffset(this.element);if(this.options.ghosting){var c=Position.realOffset(this.element);j[0]+=c[0]-Position.deltaX;j[1]+=c[1]-Position.deltaY}var g=this.currentDelta();j[0]-=g[0];j[1]-=g[1];if(this.options.scroll&&(this.options.scroll!=window&&this._isScrollChild)){j[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft;j[1]-=this.options.scroll.scrollTop-this.originalScrollTop}var e=[0,1].map(function(d){return(a[d]-j[d]-this.offset[d])}.bind(this));if(this.options.snap){if(typeof this.options.snap=="function"){e=this.options.snap(e[0],e[1],this)}else{if(this.options.snap instanceof Array){e=e.map(function(d,k){return Math.round(d/this.options.snap[k])*this.options.snap[k]}.bind(this))}else{e=e.map(function(d){return Math.round(d/this.options.snap)*this.options.snap}.bind(this))}}}var b=this.element.style;if((!this.options.constraint)||(this.options.constraint=="horizontal")){b.left=e[0]+"px"}if((!this.options.constraint)||(this.options.constraint=="vertical")){b.top=e[1]+"px"}if(b.visibility=="hidden"){b.visibility=""}},stopScrolling:function(){if(this.scrollInterval){clearInterval(this.scrollInterval);this.scrollInterval=null;Draggables._lastScrollPointer=null}},startScrolling:function(a){if(!(a[0]||a[1])){return}this.scrollSpeed=[a[0]*this.options.scrollSpeed,a[1]*this.options.scrollSpeed];this.lastScrolled=new Date();this.scrollInterval=setInterval(this.scroll.bind(this),10)},scroll:function(){var current=new Date();var delta=current-this.lastScrolled;this.lastScrolled=current;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1000;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}}else{this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1000;this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1000}Position.prepare();Droppables.show(Draggables._lastPointer,this.element);Draggables.notify("onDrag",this);if(this._isScrollChild){Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer);Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1000;Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1000;if(Draggables._lastScrollPointer[0]<0){Draggables._lastScrollPointer[0]=0}if(Draggables._lastScrollPointer[1]<0){Draggables._lastScrollPointer[1]=0}this.draw(Draggables._lastScrollPointer)}if(this.options.change){this.options.change(this)}},_getWindowScroll:function(w){var T,L,W,H;with(w.document){if(w.document.documentElement&&documentElement.scrollTop){T=documentElement.scrollTop;L=documentElement.scrollLeft}else{if(w.document.body){T=body.scrollTop;L=body.scrollLeft}}if(w.innerWidth){W=w.innerWidth;H=w.innerHeight}else{if(w.document.documentElement&&documentElement.clientWidth){W=documentElement.clientWidth;H=documentElement.clientHeight}else{W=body.offsetWidth;H=body.offsetHeight}}}return{top:T,left:L,width:W,height:H}}};var SortableObserver=Class.create();SortableObserver.prototype={initialize:function(b,a){this.element=$(b);this.observer=a;this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(){Sortable.unmark();if(this.lastValue!=Sortable.serialize(this.element)){this.observer(this.element)}}};var Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(a){while(a.tagName.toUpperCase()!="BODY"){if(a.id&&Sortable.sortables[a.id]){return a}a=a.parentNode}},options:function(a){a=Sortable._findRootElement($(a));if(!a){return}return Sortable.sortables[a.id]},destroy:function(a){var b=Sortable.options(a);if(b){Draggables.removeObserver(b.element);b.droppables.each(function(c){Droppables.remove(c)});b.draggables.invoke("destroy");delete Sortable.sortables[b.element.id]}},create:function(c){c=$(c);var b=Object.extend({element:c,tag:"li",dropOnEmpty:false,tree:false,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:c,handle:false,only:false,delay:0,hoverclass:null,ghosting:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(c);var a={revert:true,scroll:b.scroll,scrollSpeed:b.scrollSpeed,scrollSensitivity:b.scrollSensitivity,delay:b.delay,ghosting:b.ghosting,constraint:b.constraint,handle:b.handle};if(b.starteffect){a.starteffect=b.starteffect}if(b.reverteffect){a.reverteffect=b.reverteffect}else{if(b.ghosting){a.reverteffect=function(g){g.style.top=0;g.style.left=0}}}if(b.endeffect){a.endeffect=b.endeffect}if(b.zindex){a.zindex=b.zindex}var d={overlap:b.overlap,containment:b.containment,tree:b.tree,hoverclass:b.hoverclass,onHover:Sortable.onHover};var e={onHover:Sortable.onEmptyHover,overlap:b.overlap,containment:b.containment,hoverclass:b.hoverclass};Element.cleanWhitespace(c);b.draggables=[];b.droppables=[];if(b.dropOnEmpty||b.tree){Droppables.add(c,e);b.droppables.push(c)}(this.findElements(c,b)||[]).each(function(j){var g=b.handle?$(j).down("."+b.handle,0):j;b.draggables.push(new Draggable(j,Object.extend(a,{handle:g})));Droppables.add(j,d);if(b.tree){j.treeNode=c}b.droppables.push(j)});if(b.tree){(Sortable.findTreeElements(c,b)||[]).each(function(g){Droppables.add(g,e);g.treeNode=c;b.droppables.push(g)})}this.sortables[c.id]=b;Draggables.addObserver(new SortableObserver(c,b.onUpdate))},findElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.tag)},findTreeElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.treeTag)},onHover:function(e,d,a){if(Element.isParent(d,e)){return}if(a>0.33&&a<0.66&&Sortable.options(d).tree){return}else{if(a>0.5){Sortable.mark(d,"before");if(d.previousSibling!=e){var b=e.parentNode;e.style.visibility="hidden";d.parentNode.insertBefore(e,d);if(d.parentNode!=b){Sortable.options(b).onChange(e)}Sortable.options(d.parentNode).onChange(e)}}else{Sortable.mark(d,"after");var c=d.nextSibling||null;if(c!=e){var b=e.parentNode;e.style.visibility="hidden";d.parentNode.insertBefore(e,c);if(d.parentNode!=b){Sortable.options(b).onChange(e)}Sortable.options(d.parentNode).onChange(e)}}}},onEmptyHover:function(e,j,k){var l=e.parentNode;var a=Sortable.options(j);if(!Element.isParent(j,e)){var g;var c=Sortable.findElements(j,{tag:a.tag,only:a.only});var b=null;if(c){var d=Element.offsetSize(j,a.overlap)*(1-k);for(g=0;g<c.length;g+=1){if(d-Element.offsetSize(c[g],a.overlap)>=0){d-=Element.offsetSize(c[g],a.overlap)}else{if(d-(Element.offsetSize(c[g],a.overlap)/2)>=0){b=g+1<c.length?c[g+1]:null;break}else{b=c[g];break}}}}j.insertBefore(e,b);Sortable.options(l).onChange(e);a.onChange(e)}},unmark:function(){if(Sortable._marker){Sortable._marker.hide()}},mark:function(b,a){var d=Sortable.options(b.parentNode);if(d&&!d.ghosting){return}if(!Sortable._marker){Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"});document.getElementsByTagName("body").item(0).appendChild(Sortable._marker)}var c=Position.cumulativeOffset(b);Sortable._marker.setStyle({left:c[0]+"px",top:c[1]+"px"});if(a=="after"){if(d.overlap=="horizontal"){Sortable._marker.setStyle({left:(c[0]+b.clientWidth)+"px"})}else{Sortable._marker.setStyle({top:(c[1]+b.clientHeight)+"px"})}}Sortable._marker.show()},_tree:function(e,b,g){var d=Sortable.findElements(e,b)||[];for(var c=0;c<d.length;++c){var a=d[c].id.match(b.format);if(!a){continue}var j={id:encodeURIComponent(a?a[1]:null),element:e,parent:g,children:[],position:g.children.length,container:$(d[c]).down(b.treeTag)};if(j.container){this._tree(j.container,b,j)}g.children.push(j)}return g},tree:function(d){d=$(d);var c=this.options(d);var b=Object.extend({tag:c.tag,treeTag:c.treeTag,only:c.only,name:d.id,format:c.format},arguments[1]||{});var a={id:null,parent:null,children:[],container:d,position:0};return Sortable._tree(d,b,a)},_constructIndex:function(b){var a="";do{if(b.id){a="["+b.position+"]"+a}}while((b=b.parent)!=null);return a},sequence:function(b){b=$(b);var a=Object.extend(this.options(b),arguments[1]||{});return $(this.findElements(b,a)||[]).map(function(c){return c.id.match(a.format)?c.id.match(a.format)[1]:""})},setSequence:function(b,c){b=$(b);var a=Object.extend(this.options(b),arguments[2]||{});var d={};this.findElements(b,a).each(function(e){if(e.id.match(a.format)){d[e.id.match(a.format)[1]]=[e,e.parentNode]}e.parentNode.removeChild(e)});c.each(function(e){var g=d[e];if(g){g[1].appendChild(g[0]);delete d[e]}})},serialize:function(c){c=$(c);var b=Object.extend(Sortable.options(c),arguments[1]||{});var a=encodeURIComponent((arguments[1]&&arguments[1].name)?arguments[1].name:c.id);if(b.tree){return Sortable.tree(c,arguments[1]).children.map(function(d){return[a+Sortable._constructIndex(d)+"[id]="+encodeURIComponent(d.id)].concat(d.children.map(arguments.callee))}).flatten().join("&")}else{return Sortable.sequence(c,arguments[1]).map(function(d){return a+"[]="+encodeURIComponent(d)}).join("&")}}};Element.isParent=function(b,a){if(!b.parentNode||b==a){return false}if(b.parentNode==a){return true}return Element.isParent(b.parentNode,a)};Element.findChildren=function(d,b,a,c){if(!d.hasChildNodes()){return null}c=c.toUpperCase();if(b){b=[b].flatten()}var e=[];$A(d.childNodes).each(function(j){if(j.tagName&&j.tagName.toUpperCase()==c&&(!b||(Element.classNames(j).detect(function(k){return b.include(k)})))){e.push(j)}if(a){var g=Element.findChildren(j,b,a,c);if(g){e.push(g)}}});return(e.length>0?e.flatten():[])};Element.offsetSize=function(a,b){return a["offset"+((b=="vertical"||b=="height")?"Height":"Width")]};var olLoaded=0;var pmStart=10000000;var pmUpper=10001000;var pmCount=pmStart+1;var pmt="";var pms=new Array();var olInfo=new Info("4.21",1);var FREPLACE=0;var FBEFORE=1;var FAFTER=2;var FALTERNATE=3;var FCHAIN=4;var olHideForm=0;var olHautoFlag=0;var olVautoFlag=0;var hookPts=new Array(),postParse=new Array(),cmdLine=new Array(),runTime=new Array();registerCommands("donothing,inarray,caparray,sticky,background,noclose,caption,left,right,center,offsetx,offsety,fgcolor,bgcolor,textcolor,capcolor,closecolor,width,border,cellpad,status,autostatus,autostatuscap,height,closetext,snapx,snapy,fixx,fixy,relx,rely,fgbackground,bgbackground,padx,pady,fullhtml,above,below,capicon,textfont,captionfont,closefont,textsize,captionsize,closesize,timeout,function,delay,hauto,vauto,closeclick,wrap,followmouse,mouseoff,closetitle,cssoff,compatmode,cssclass,fgclass,bgclass,textfontclass,captionfontclass,closefontclass");if(typeof ol_fgcolor=="undefined"){var ol_fgcolor="#FFFFFF"}if(typeof ol_bgcolor=="undefined"){var ol_bgcolor="#333399"}if(typeof ol_textcolor=="undefined"){var ol_textcolor="#000000"}if(typeof ol_capcolor=="undefined"){var ol_capcolor="#FFFFFF"}if(typeof ol_closecolor=="undefined"){var ol_closecolor="#9999FF"}if(typeof ol_textfont=="undefined"){var ol_textfont="Verdana,Arial,Helvetica"}if(typeof ol_captionfont=="undefined"){var ol_captionfont="Verdana,Arial,Helvetica"}if(typeof ol_closefont=="undefined"){var ol_closefont="Verdana,Arial,Helvetica"}if(typeof ol_textsize=="undefined"){var ol_textsize="1"}if(typeof ol_captionsize=="undefined"){var ol_captionsize="1"}if(typeof ol_closesize=="undefined"){var ol_closesize="1"}if(typeof ol_width=="undefined"){var ol_width="200"}if(typeof ol_border=="undefined"){var ol_border="1"}if(typeof ol_cellpad=="undefined"){var ol_cellpad=2}if(typeof ol_offsetx=="undefined"){var ol_offsetx=10}if(typeof ol_offsety=="undefined"){var ol_offsety=10}if(typeof ol_text=="undefined"){var ol_text="Default Text"}if(typeof ol_cap=="undefined"){var ol_cap=""}if(typeof ol_sticky=="undefined"){var ol_sticky=0}if(typeof ol_background=="undefined"){var ol_background=""}if(typeof ol_close=="undefined"){var ol_close="Close"}if(typeof ol_hpos=="undefined"){var ol_hpos=RIGHT}if(typeof ol_status=="undefined"){var ol_status=""}if(typeof ol_autostatus=="undefined"){var ol_autostatus=0}if(typeof ol_height=="undefined"){var ol_height=-1}if(typeof ol_snapx=="undefined"){var ol_snapx=0}if(typeof ol_snapy=="undefined"){var ol_snapy=0}if(typeof ol_fixx=="undefined"){var ol_fixx=-1}if(typeof ol_fixy=="undefined"){var ol_fixy=-1}if(typeof ol_relx=="undefined"){var ol_relx=null}if(typeof ol_rely=="undefined"){var ol_rely=null}if(typeof ol_fgbackground=="undefined"){var ol_fgbackground=""}if(typeof ol_bgbackground=="undefined"){var ol_bgbackground=""}if(typeof ol_padxl=="undefined"){var ol_padxl=1}if(typeof ol_padxr=="undefined"){var ol_padxr=1}if(typeof ol_padyt=="undefined"){var ol_padyt=1}if(typeof ol_padyb=="undefined"){var ol_padyb=1}if(typeof ol_fullhtml=="undefined"){var ol_fullhtml=0}if(typeof ol_vpos=="undefined"){var ol_vpos=BELOW}if(typeof ol_aboveheight=="undefined"){var ol_aboveheight=0}if(typeof ol_capicon=="undefined"){var ol_capicon=""}if(typeof ol_frame=="undefined"){var ol_frame=self}if(typeof ol_timeout=="undefined"){var ol_timeout=0}if(typeof ol_function=="undefined"){var ol_function=null}if(typeof ol_delay=="undefined"){var ol_delay=0}if(typeof ol_hauto=="undefined"){var ol_hauto=0}if(typeof ol_vauto=="undefined"){var ol_vauto=0}if(typeof ol_closeclick=="undefined"){var ol_closeclick=0}if(typeof ol_wrap=="undefined"){var ol_wrap=0}if(typeof ol_followmouse=="undefined"){var ol_followmouse=1}if(typeof ol_mouseoff=="undefined"){var ol_mouseoff=0}if(typeof ol_closetitle=="undefined"){var ol_closetitle="Close"}if(typeof ol_compatmode=="undefined"){var ol_compatmode=0}if(typeof ol_css=="undefined"){var ol_css=CSSOFF}if(typeof ol_fgclass=="undefined"){var ol_fgclass=""}if(typeof ol_bgclass=="undefined"){var ol_bgclass=""}if(typeof ol_textfontclass=="undefined"){var ol_textfontclass=""}if(typeof ol_captionfontclass=="undefined"){var ol_captionfontclass=""}if(typeof ol_closefontclass=="undefined"){var ol_closefontclass=""}if(typeof ol_texts=="undefined"){var ol_texts=new Array("Text 0","Text 1")}if(typeof ol_caps=="undefined"){var ol_caps=new Array("Caption 0","Caption 1")}var o3_text="";var o3_cap="";var o3_sticky=0;var o3_background="";var o3_close="Close";var o3_hpos=RIGHT;var o3_offsetx=2;var o3_offsety=2;var o3_fgcolor="";var o3_bgcolor="";var o3_textcolor="";var o3_capcolor="";var o3_closecolor="";var o3_width=100;var o3_border=1;var o3_cellpad=2;var o3_status="";var o3_autostatus=0;var o3_height=-1;var o3_snapx=0;var o3_snapy=0;var o3_fixx=-1;var o3_fixy=-1;var o3_relx=null;var o3_rely=null;var o3_fgbackground="";var o3_bgbackground="";var o3_padxl=0;var o3_padxr=0;var o3_padyt=0;var o3_padyb=0;var o3_fullhtml=0;var o3_vpos=BELOW;var o3_aboveheight=0;var o3_capicon="";var o3_textfont="Verdana,Arial,Helvetica";var o3_captionfont="Verdana,Arial,Helvetica";var o3_closefont="Verdana,Arial,Helvetica";var o3_textsize="1";var o3_captionsize="1";var o3_closesize="1";var o3_frame=self;var o3_timeout=0;var o3_timerid=0;var o3_allowmove=0;var o3_function=null;var o3_delay=0;var o3_delayid=0;var o3_hauto=0;var o3_vauto=0;var o3_closeclick=0;var o3_wrap=0;var o3_followmouse=1;var o3_mouseoff=0;var o3_closetitle="";var o3_compatmode=0;var o3_css=CSSOFF;var o3_fgclass="";var o3_bgclass="";var o3_textfontclass="";var o3_captionfontclass="";var o3_closefontclass="";var o3_x=0;var o3_y=0;var o3_showingsticky=0;var o3_removecounter=0;var over=null;var fnRef,hoveringSwitch=false;var olHideDelay;var isMac=(navigator.userAgent.indexOf("Mac")!=-1);var olOp=(navigator.userAgent.toLowerCase().indexOf("opera")>-1&&document.createTextNode);var olNs4=(navigator.appName=="Netscape"&&parseInt(navigator.appVersion)==4);var olNs6=(document.getElementById)?true:false;var olKq=(olNs6&&/konqueror/i.test(navigator.userAgent));var olIe4=(document.all)?true:false;var olIe5=false;var olIe55=false;var docRoot="document.body";if(olNs4){var oW=window.innerWidth;var oH=window.innerHeight;window.onresize=function(){if(oW!=window.innerWidth||oH!=window.innerHeight){location.reload()}}}if(olIe4){var agent=navigator.userAgent;if(/MSIE/.test(agent)){var versNum=parseFloat(agent.match(/MSIE[ ](\d\.\d+)\.*/i)[1]);if(versNum>=5){olIe5=true;olIe55=(versNum>=5.5&&!olOp)?true:false;if(olNs6){olNs6=false}}}if(olNs6){olIe4=false}}if(document.compatMode&&document.compatMode=="CSS1Compat"){docRoot=((olIe4&&!olOp)?"document.documentElement":docRoot)}if(window.addEventListener){window.addEventListener("load",OLonLoad_handler,false)}else{if(window.attachEvent){window.attachEvent("onload",OLonLoad_handler)}}var capExtent;function overlib(){if(!olLoaded||isExclusive(overlib.arguments)){return true}if(olCheckMouseCapture){olMouseCapture()}if(over){over=(typeof over.id!="string")?o3_frame.document.all.overDiv:over;cClick()}olHideDelay=0;o3_text=ol_text;o3_cap=ol_cap;o3_sticky=ol_sticky;o3_background=ol_background;o3_close=ol_close;o3_hpos=ol_hpos;o3_offsetx=ol_offsetx;o3_offsety=ol_offsety;o3_fgcolor=ol_fgcolor;o3_bgcolor=ol_bgcolor;o3_textcolor=ol_textcolor;o3_capcolor=ol_capcolor;o3_closecolor=ol_closecolor;o3_width=ol_width;o3_border=ol_border;o3_cellpad=ol_cellpad;o3_status=ol_status;o3_autostatus=ol_autostatus;o3_height=ol_height;o3_snapx=ol_snapx;o3_snapy=ol_snapy;o3_fixx=ol_fixx;o3_fixy=ol_fixy;o3_relx=ol_relx;o3_rely=ol_rely;o3_fgbackground=ol_fgbackground;o3_bgbackground=ol_bgbackground;o3_padxl=ol_padxl;o3_padxr=ol_padxr;o3_padyt=ol_padyt;o3_padyb=ol_padyb;o3_fullhtml=ol_fullhtml;o3_vpos=ol_vpos;o3_aboveheight=ol_aboveheight;o3_capicon=ol_capicon;o3_textfont=ol_textfont;o3_captionfont=ol_captionfont;o3_closefont=ol_closefont;o3_textsize=ol_textsize;o3_captionsize=ol_captionsize;o3_closesize=ol_closesize;o3_timeout=ol_timeout;o3_function=ol_function;o3_delay=ol_delay;o3_hauto=ol_hauto;o3_vauto=ol_vauto;o3_closeclick=ol_closeclick;o3_wrap=ol_wrap;o3_followmouse=ol_followmouse;o3_mouseoff=ol_mouseoff;o3_closetitle=ol_closetitle;o3_css=ol_css;o3_compatmode=ol_compatmode;o3_fgclass=ol_fgclass;o3_bgclass=ol_bgclass;o3_textfontclass=ol_textfontclass;o3_captionfontclass=ol_captionfontclass;o3_closefontclass=ol_closefontclass;setRunTimeVariables();fnRef="";o3_frame=ol_frame;if(!(over=createDivContainer())){return false}parseTokens("o3_",overlib.arguments);if(!postParseChecks()){return false}if(o3_delay==0){return runHook("olMain",FREPLACE)}else{o3_delayid=setTimeout("runHook('olMain', FREPLACE)",o3_delay);return false}}function nd(a){if(olLoaded&&!isExclusive()){hideDelay(a);if(o3_removecounter>=1){o3_showingsticky=0}if(o3_showingsticky==0){o3_allowmove=0;if(over!=null&&o3_timerid==0){runHook("hideObject",FREPLACE,over)}}else{o3_removecounter++}}return true}function cClick(){if(olLoaded){runHook("hideObject",FREPLACE,over);o3_showingsticky=0}return false}function overlib_pagedefaults(){parseTokens("ol_",overlib_pagedefaults.arguments)}function olMain(){var b,a;runHook("olMain",FBEFORE);if(o3_background!=""||o3_fullhtml){b=runHook("ol_content_background",FALTERNATE,o3_css,o3_text,o3_background,o3_fullhtml)}else{a=(pms[o3_css-1-pmStart]=="cssoff"||pms[o3_css-1-pmStart]=="cssclass");if(o3_fgbackground!=""){o3_fgbackground='background="'+o3_fgbackground+'"'}if(o3_bgbackground!=""){o3_bgbackground=(a?'background="'+o3_bgbackground+'"':o3_bgbackground)}if(o3_fgcolor!=""){o3_fgcolor=(a?'bgcolor="'+o3_fgcolor+'"':o3_fgcolor)}if(o3_bgcolor!=""){o3_bgcolor=(a?'bgcolor="'+o3_bgcolor+'"':o3_bgcolor)}if(o3_height>0){o3_height=(a?'height="'+o3_height+'"':o3_height)}else{o3_height=""}if(o3_cap==""){b=runHook("ol_content_simple",FALTERNATE,o3_css,o3_text)}else{if(o3_sticky){b=runHook("ol_content_caption",FALTERNATE,o3_css,o3_text,o3_cap,o3_close)}else{b=runHook("ol_content_caption",FALTERNATE,o3_css,o3_text,o3_cap,"")}}}if(o3_sticky){if(o3_timerid>0){clearTimeout(o3_timerid);o3_timerid=0}o3_showingsticky=1;o3_removecounter=0}if(!runHook("createPopup",FREPLACE,b)){return false}if(o3_autostatus>0){o3_status=o3_text;if(o3_autostatus>1){o3_status=o3_cap}}o3_allowmove=0;if(o3_timeout>0){if(o3_timerid>0){clearTimeout(o3_timerid)}o3_timerid=setTimeout("cClick()",o3_timeout)}runHook("disp",FREPLACE,o3_status);runHook("olMain",FAFTER);return(olOp&&event&&event.type=="mouseover"&&!o3_status)?"":(o3_status!="")}function ol_content_simple(c){var b=/,/.test(o3_cellpad);var a='<table width="'+o3_width+'" border="0" cellpadding="'+o3_border+'" cellspacing="0" '+(o3_bgclass?'class="'+o3_bgclass+'"':o3_bgcolor+" "+o3_height)+'><tr><td><table width="100%" border="0" '+((olNs4||!b)?'cellpadding="'+o3_cellpad+'" ':"")+'cellspacing="0" '+(o3_fgclass?'class="'+o3_fgclass+'"':o3_fgcolor+" "+o3_fgbackground+" "+o3_height)+'><tr><td valign="TOP"'+(o3_textfontclass?' class="'+o3_textfontclass+'">':((!olNs4&&b)?' style="'+setCellPadStr(o3_cellpad)+'">':">"))+(o3_textfontclass?"":wrapStr(0,o3_textsize,"text"))+c+(o3_textfontclass?"":wrapStr(1,o3_textsize))+"</td></tr></table></td></tr></table>";set_background("");return a}function ol_content_caption(k,j,g){var e,b,d=/,/.test(o3_cellpad);var c,a;c="";a="onmouseover";if(o3_closeclick==1){a=(o3_closetitle?"title='"+o3_closetitle+"'":"")+" onclick"}if(o3_capicon!=""){e=' hspace = "5" align = "middle" alt = ""';if(typeof o3_dragimg!="undefined"&&o3_dragimg){e=' hspace="5" name="'+o3_dragimg+'" id="'+o3_dragimg+'" align="middle" alt="Drag Enabled" title="Drag Enabled"'}o3_capicon='<img src="'+o3_capicon+'"'+e+" />"}if(g!=""){c="<td "+(!o3_compatmode&&o3_closefontclass?'class="'+o3_closefontclass:'align="RIGHT')+'"><a href="javascript:return '+fnRef+'cClick();"'+((o3_compatmode&&o3_closefontclass)?' class="'+o3_closefontclass+'" ':" ")+a+'="return '+fnRef+'cClick();">'+(o3_closefontclass?"":wrapStr(0,o3_closesize,"close"))+g+(o3_closefontclass?"":wrapStr(1,o3_closesize,"close"))+"</a></td>"}b='<table width="'+o3_width+'" border="0" cellpadding="'+o3_border+'" cellspacing="0" '+(o3_bgclass?'class="'+o3_bgclass+'"':o3_bgcolor+" "+o3_bgbackground+" "+o3_height)+'><tr><td><table width="100%" border="0" cellpadding="2" cellspacing="0"><tr><td'+(o3_captionfontclass?' class="'+o3_captionfontclass+'">':">")+(o3_captionfontclass?"":"<b>"+wrapStr(0,o3_captionsize,"caption"))+o3_capicon+j+(o3_captionfontclass?"":wrapStr(1,o3_captionsize)+"</b>")+"</td>"+c+'</tr></table><table width="100%" border="0" '+((olNs4||!d)?'cellpadding="'+o3_cellpad+'" ':"")+'cellspacing="0" '+(o3_fgclass?'class="'+o3_fgclass+'"':o3_fgcolor+" "+o3_fgbackground+" "+o3_height)+'><tr><td valign="TOP"'+(o3_textfontclass?' class="'+o3_textfontclass+'">':((!olNs4&&d)?' style="'+setCellPadStr(o3_cellpad)+'">':">"))+(o3_textfontclass?"":wrapStr(0,o3_textsize,"text"))+k+(o3_textfontclass?"":wrapStr(1,o3_textsize))+"</td></tr></table></td></tr></table>";set_background("");return b}function ol_content_background(c,b,a){if(a){txt=c}else{txt='<table width="'+o3_width+'" border="0" cellpadding="0" cellspacing="0" height="'+o3_height+'"><tr><td colspan="3" height="'+o3_padyt+'"></td></tr><tr><td width="'+o3_padxl+'"></td><td valign="TOP" width="'+(o3_width-o3_padxl-o3_padxr)+(o3_textfontclass?'" class="'+o3_textfontclass:"")+'">'+(o3_textfontclass?"":wrapStr(0,o3_textsize,"text"))+c+(o3_textfontclass?"":wrapStr(1,o3_textsize))+'</td><td width="'+o3_padxr+'"></td></tr><tr><td colspan="3" height="'+o3_padyb+'"></td></tr></table>'}set_background(b);return txt}function set_background(a){if(a==""){if(olNs4){over.background.src=null}else{if(over.style){over.style.backgroundImage="none"}}}else{if(olNs4){over.background.src=a}else{if(over.style){over.style.width=o3_width+"px";over.style.backgroundImage="url("+a+")"}}}}var olShowId=-1;function disp(a){runHook("disp",FBEFORE);if(o3_allowmove==0){runHook("placeLayer",FREPLACE);(olNs6&&olShowId<0)?olShowId=setTimeout("runHook('showObject', FREPLACE, over)",1):runHook("showObject",FREPLACE,over);o3_allowmove=(o3_sticky||o3_followmouse==0)?0:1}runHook("disp",FAFTER);if(a!=""){self.status=a}}function createPopup(a){runHook("createPopup",FBEFORE);if(o3_wrap){var c,d,b=(olNs4?over:over.style);b.top=b.left=((olIe4&&!olOp)?0:-10000)+(!olNs4?"px":0);layerWrite(a);c=(olNs4?over.clip.width:over.offsetWidth);if(c>(d=windowWidth())){a=a.replace(/\&nbsp;/g," ");o3_width=d;o3_wrap=0}}layerWrite(a);if(o3_wrap){o3_width=(olNs4?over.clip.width:over.offsetWidth)}runHook("createPopup",FAFTER,a);return true}function placeLayer(){var placeX,placeY,widthFix=0;if(o3_frame.innerWidth){widthFix=18}iwidth=windowWidth();winoffset=(olIe4)?eval("o3_frame."+docRoot+".scrollLeft"):o3_frame.pageXOffset;placeX=runHook("horizontalPlacement",FCHAIN,iwidth,winoffset,widthFix);if(o3_frame.innerHeight){iheight=o3_frame.innerHeight}else{if(eval("o3_frame."+docRoot)&&eval("typeof o3_frame."+docRoot+".clientHeight=='number'")&&eval("o3_frame."+docRoot+".clientHeight")){iheight=eval("o3_frame."+docRoot+".clientHeight")}}scrolloffset=(olIe4)?eval("o3_frame."+docRoot+".scrollTop"):o3_frame.pageYOffset;placeY=runHook("verticalPlacement",FCHAIN,iheight,scrolloffset);repositionTo(over,placeX,placeY)}function olMouseMove(e){var e=(e)?e:event;if(e.pageX){o3_x=e.pageX;o3_y=e.pageY}else{if(e.clientX){o3_x=eval("e.clientX+o3_frame."+docRoot+".scrollLeft");o3_y=eval("e.clientY+o3_frame."+docRoot+".scrollTop")}}if(o3_allowmove==1){runHook("placeLayer",FREPLACE)}if(hoveringSwitch&&!olNs4&&runHook("cursorOff",FREPLACE)){(olHideDelay?hideDelay(olHideDelay):cClick());hoveringSwitch=!hoveringSwitch}}function no_overlib(){return ver3fix}function olMouseCapture(){capExtent=document;var fN,str="",l,k,f,wMv,sS,mseHandler=olMouseMove;var re=/function[ ]*(\w*)\(/;wMv=(!olIe4&&window.onmousemove);if(document.onmousemove||wMv){if(wMv){capExtent=window}f=capExtent.onmousemove.toString();fN=f.match(re);if(fN==null){str=f+"(e); "}else{if(fN[1]=="anonymous"||fN[1]=="olMouseMove"||(wMv&&fN[1]=="onmousemove")){if(!olOp&&wMv){l=f.indexOf("{")+1;k=f.lastIndexOf("}");sS=f.substring(l,k);if((l=sS.indexOf("("))!=-1){sS=sS.substring(0,l).replace(/^\s+/,"").replace(/\s+$/,"");if(eval("typeof "+sS+" == 'undefined'")){window.onmousemove=null}else{str=sS+"(e);"}}}if(!str){olCheckMouseCapture=false;return}}else{if(fN[1]){str=fN[1]+"(e); "}else{l=f.indexOf("{")+1;k=f.lastIndexOf("}");str=f.substring(l,k)+"\n"}}}str+="olMouseMove(e); ";mseHandler=new Function("e",str)}capExtent.onmousemove=mseHandler;if(olNs4){capExtent.captureEvents(Event.MOUSEMOVE)}}function parseTokens(pf,ar){var v,i,mode=-1,par=(pf!="ol_");var fnMark=(par&&!ar.length?1:0);for(i=0;i<ar.length;i++){if(mode<0){if(typeof ar[i]=="number"&&ar[i]>pmStart&&ar[i]<pmUpper){fnMark=(par?1:0);i--}else{switch(pf){case"ol_":ol_text=ar[i].toString();break;default:o3_text=ar[i].toString()}}mode=0}else{if(ar[i]>=pmCount||ar[i]==DONOTHING){continue}if(ar[i]==INARRAY){fnMark=0;eval(pf+"text=ol_texts["+ar[++i]+"].toString()");continue}if(ar[i]==CAPARRAY){eval(pf+"cap=ol_caps["+ar[++i]+"].toString()");continue}if(ar[i]==STICKY){if(pf!="ol_"){eval(pf+"sticky=1")}continue}if(ar[i]==BACKGROUND){eval(pf+'background="'+ar[++i]+'"');continue}if(ar[i]==NOCLOSE){if(pf!="ol_"){opt_NOCLOSE()}continue}if(ar[i]==CAPTION){eval(pf+"cap='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==CENTER||ar[i]==LEFT||ar[i]==RIGHT){eval(pf+"hpos="+ar[i]);if(pf!="ol_"){olHautoFlag=1}continue}if(ar[i]==OFFSETX){eval(pf+"offsetx="+ar[++i]);continue}if(ar[i]==OFFSETY){eval(pf+"offsety="+ar[++i]);continue}if(ar[i]==FGCOLOR){eval(pf+'fgcolor="'+ar[++i]+'"');continue}if(ar[i]==BGCOLOR){eval(pf+'bgcolor="'+ar[++i]+'"');continue}if(ar[i]==TEXTCOLOR){eval(pf+'textcolor="'+ar[++i]+'"');continue}if(ar[i]==CAPCOLOR){eval(pf+'capcolor="'+ar[++i]+'"');continue}if(ar[i]==CLOSECOLOR){eval(pf+'closecolor="'+ar[++i]+'"');continue}if(ar[i]==WIDTH){eval(pf+"width="+ar[++i]);continue}if(ar[i]==BORDER){eval(pf+"border="+ar[++i]);continue}if(ar[i]==CELLPAD){i=opt_MULTIPLEARGS(++i,ar,(pf+"cellpad"));continue}if(ar[i]==STATUS){eval(pf+"status='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==AUTOSTATUS){eval(pf+"autostatus=("+pf+"autostatus == 1) ? 0 : 1");continue}if(ar[i]==AUTOSTATUSCAP){eval(pf+"autostatus=("+pf+"autostatus == 2) ? 0 : 2");continue}if(ar[i]==HEIGHT){eval(pf+"height="+pf+"aboveheight="+ar[++i]);continue}if(ar[i]==CLOSETEXT){eval(pf+"close='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==SNAPX){eval(pf+"snapx="+ar[++i]);continue}if(ar[i]==SNAPY){eval(pf+"snapy="+ar[++i]);continue}if(ar[i]==FIXX){eval(pf+"fixx="+ar[++i]);continue}if(ar[i]==FIXY){eval(pf+"fixy="+ar[++i]);continue}if(ar[i]==RELX){eval(pf+"relx="+ar[++i]);continue}if(ar[i]==RELY){eval(pf+"rely="+ar[++i]);continue}if(ar[i]==FGBACKGROUND){eval(pf+'fgbackground="'+ar[++i]+'"');continue}if(ar[i]==BGBACKGROUND){eval(pf+'bgbackground="'+ar[++i]+'"');continue}if(ar[i]==PADX){eval(pf+"padxl="+ar[++i]);eval(pf+"padxr="+ar[++i]);continue}if(ar[i]==PADY){eval(pf+"padyt="+ar[++i]);eval(pf+"padyb="+ar[++i]);continue}if(ar[i]==FULLHTML){if(pf!="ol_"){eval(pf+"fullhtml=1")}continue}if(ar[i]==BELOW||ar[i]==ABOVE){eval(pf+"vpos="+ar[i]);if(pf!="ol_"){olVautoFlag=1}continue}if(ar[i]==CAPICON){eval(pf+'capicon="'+ar[++i]+'"');continue}if(ar[i]==TEXTFONT){eval(pf+"textfont='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==CAPTIONFONT){eval(pf+"captionfont='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==CLOSEFONT){eval(pf+"closefont='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==TEXTSIZE){eval(pf+'textsize="'+ar[++i]+'"');continue}if(ar[i]==CAPTIONSIZE){eval(pf+'captionsize="'+ar[++i]+'"');continue}if(ar[i]==CLOSESIZE){eval(pf+'closesize="'+ar[++i]+'"');continue}if(ar[i]==TIMEOUT){eval(pf+"timeout="+ar[++i]);continue}if(ar[i]==FUNCTION){if(pf=="ol_"){if(typeof ar[i+1]!="number"){v=ar[++i];ol_function=(typeof v=="function"?v:null)}}else{fnMark=0;v=null;if(typeof ar[i+1]!="number"){v=ar[++i]}opt_FUNCTION(v)}continue}if(ar[i]==DELAY){eval(pf+"delay="+ar[++i]);continue}if(ar[i]==HAUTO){eval(pf+"hauto=("+pf+"hauto == 0) ? 1 : 0");continue}if(ar[i]==VAUTO){eval(pf+"vauto=("+pf+"vauto == 0) ? 1 : 0");continue}if(ar[i]==CLOSECLICK){eval(pf+"closeclick=("+pf+"closeclick == 0) ? 1 : 0");continue}if(ar[i]==WRAP){eval(pf+"wrap=("+pf+"wrap == 0) ? 1 : 0");continue}if(ar[i]==FOLLOWMOUSE){eval(pf+"followmouse=("+pf+"followmouse == 1) ? 0 : 1");continue}if(ar[i]==MOUSEOFF){eval(pf+"mouseoff=("+pf+"mouseoff==0) ? 1 : 0");v=ar[i+1];if(pf!="ol_"&&eval(pf+"mouseoff")&&typeof v=="number"&&(v<pmStart||v>pmUpper)){olHideDelay=ar[++i]}continue}if(ar[i]==CLOSETITLE){eval(pf+"closetitle='"+escSglQuote(ar[++i])+"'");continue}if(ar[i]==CSSOFF||ar[i]==CSSCLASS){eval(pf+"css="+ar[i]);continue}if(ar[i]==COMPATMODE){eval(pf+"compatmode=("+pf+"compatmode==0) ? 1 : 0");continue}if(ar[i]==FGCLASS){eval(pf+'fgclass="'+ar[++i]+'"');continue}if(ar[i]==BGCLASS){eval(pf+'bgclass="'+ar[++i]+'"');continue}if(ar[i]==TEXTFONTCLASS){eval(pf+'textfontclass="'+ar[++i]+'"');continue}if(ar[i]==CAPTIONFONTCLASS){eval(pf+'captionfontclass="'+ar[++i]+'"');continue}if(ar[i]==CLOSEFONTCLASS){eval(pf+'closefontclass="'+ar[++i]+'"');continue}i=parseCmdLine(pf,i,ar)}}if(fnMark&&o3_function){o3_text=o3_function()}if((pf=="o3_")&&o3_wrap){o3_width=0;var tReg=/<.*\n*>/ig;if(!tReg.test(o3_text)){o3_text=o3_text.replace(/[ ]+/g,"&nbsp;")}if(!tReg.test(o3_cap)){o3_cap=o3_cap.replace(/[ ]+/g,"&nbsp;")}}if((pf=="o3_")&&o3_sticky){if(!o3_close&&(o3_frame!=ol_frame)){o3_close=ol_close}if(o3_mouseoff&&(o3_frame==ol_frame)){opt_NOCLOSE(" ")}}}function layerWrite(a){a+="\n";if(olNs4){var b=o3_frame.document.layers.overDiv.document;b.write(a);b.close()}else{if(typeof over.innerHTML!="undefined"){if(olIe5&&isMac){over.innerHTML=""}over.innerHTML=a}else{range=o3_frame.document.createRange();range.setStartAfter(over);domfrag=range.createContextualFragment(a);while(over.hasChildNodes()){over.removeChild(over.lastChild)}over.appendChild(domfrag)}}}function showObject(b){runHook("showObject",FBEFORE);var a=(olNs4?b:b.style);a.visibility="visible";runHook("showObject",FAFTER)}function hideObject(b){runHook("hideObject",FBEFORE);var a=(olNs4?b:b.style);if(olNs6&&olShowId>0){clearTimeout(olShowId);olShowId=0}a.visibility="hidden";a.top=a.left=((olIe4&&!olOp)?0:-10000)+(!olNs4?"px":0);if(o3_timerid>0){clearTimeout(o3_timerid)}if(o3_delayid>0){clearTimeout(o3_delayid)}o3_timerid=0;o3_delayid=0;self.status="";if(b.onmouseout||b.onmouseover){if(olNs4){b.releaseEvents(Event.MOUSEOUT||Event.MOUSEOVER)}b.onmouseout=b.onmouseover=null}runHook("hideObject",FAFTER)}function repositionTo(c,d,a){var b=(olNs4?c:c.style);b.left=d+(!olNs4?"px":0);b.top=a+(!olNs4?"px":0)}function cursorOff(){var d=parseInt(over.style.left);var c=parseInt(over.style.top);var b=d+(over.offsetWidth>=parseInt(o3_width)?over.offsetWidth:parseInt(o3_width));var a=c+(over.offsetHeight>=o3_aboveheight?over.offsetHeight:o3_aboveheight);if(o3_x<d||o3_x>b||o3_y<c||o3_y>a){return true}return false}function opt_FUNCTION(callme){o3_text=(callme?(typeof callme=="string"?(/.+\(.*\)/.test(callme)?eval(callme):callme):callme()):(o3_function?o3_function():"No Function"));return 0}function opt_NOCLOSE(a){if(!a){o3_close=""}if(olNs4){over.captureEvents(Event.MOUSEOUT||Event.MOUSEOVER);over.onmouseover=function(){if(o3_timerid>0){clearTimeout(o3_timerid);o3_timerid=0}};over.onmouseout=function(b){if(olHideDelay){hideDelay(olHideDelay)}else{cClick(b)}}}else{over.onmouseover=function(){hoveringSwitch=true;if(o3_timerid>0){clearTimeout(o3_timerid);o3_timerid=0}}}return 0}function opt_MULTIPLEARGS(i,args,parameter){var k=i,re,pV,str="";for(k=i;k<args.length;k++){if(typeof args[k]=="number"&&args[k]>pmStart){break}str+=args[k]+","}if(str){str=str.substring(0,--str.length)}k--;pV=(olNs4&&/cellpad/i.test(parameter))?str.split(",")[0]:str;eval(parameter+'="'+pV+'"');return k}function nbspCleanup(){if(o3_wrap){o3_text=o3_text.replace(/\&nbsp;/g," ");o3_cap=o3_cap.replace(/\&nbsp;/g," ")}}function escSglQuote(a){return a.toString().replace(/'/g,"\\'")}function OLonLoad_handler(e){var re=/\w+\(.*\)[;\s]+/g,olre=/overlib\(|nd\(|cClick\(/,fn,l,i;if(!olLoaded){olLoaded=1}if(window.removeEventListener&&e.eventPhase==3){window.removeEventListener("load",OLonLoad_handler,false)}else{if(window.detachEvent){window.detachEvent("onload",OLonLoad_handler);var fN=document.body.getAttribute("onload");if(fN){fN=fN.toString().match(re);if(fN&&fN.length){for(i=0;i<fN.length;i++){if(/anonymous/.test(fN[i])){continue}while((l=fN[i].search(/\)[;\s]+/))!=-1){fn=fN[i].substring(0,l+1);fN[i]=fN[i].substring(l+2);if(olre.test(fn)){eval(fn)}}}}}}}}function wrapStr(endWrap,fontSizeStr,whichString){var fontStr,fontColor,isClose=((whichString=="close")?1:0),hasDims=/[%\-a-z]+$/.test(fontSizeStr);fontSizeStr=(olNs4)?(!hasDims?fontSizeStr:"1"):fontSizeStr;if(endWrap){return(hasDims&&!olNs4)?(isClose?"</span>":"</div>"):"</font>"}else{fontStr="o3_"+whichString+"font";fontColor="o3_"+((whichString=="caption")?"cap":whichString)+"color";return(hasDims&&!olNs4)?(isClose?'<span style="font-family: '+quoteMultiNameFonts(eval(fontStr))+"; color: "+eval(fontColor)+"; font-size: "+fontSizeStr+';">':'<div style="font-family: '+quoteMultiNameFonts(eval(fontStr))+"; color: "+eval(fontColor)+"; font-size: "+fontSizeStr+';">'):'<font face="'+eval(fontStr)+'" color="'+eval(fontColor)+'" size="'+(parseInt(fontSizeStr)>7?"7":fontSizeStr)+'">'}}function quoteMultiNameFonts(d){var a,b=d.split(",");for(var c=0;c<b.length;c++){a=b[c];a=a.replace(/^\s+/,"").replace(/\s+$/,"");if(/\s/.test(a)&&!/['"]/.test(a)){a="'"+a+"'";b[c]=a}}return b.join()}function isExclusive(a){return false}function setCellPadStr(l){var e="",b=0,d=new Array(),k,a,g,c;e+="padding: ";d=l.replace(/\s+/g,"").split(",");switch(d.length){case 2:k=a=d[b];g=c=d[++b];break;case 3:k=d[b];g=c=d[++b];a=d[++b];break;case 4:k=d[b];c=d[++b];a=d[++b];g=d[++b];break}e+=((d.length==1)?d[0]+"px;":k+"px "+c+"px "+a+"px "+g+"px;");return e}function hideDelay(a){if(a&&!o3_delay){if(o3_timerid>0){clearTimeout(o3_timerid)}o3_timerid=setTimeout("cClick()",(o3_timeout=a))}}function horizontalPlacement(j,k,d){var g,b=j,c=k;var a=parseInt(o3_width);if(o3_fixx>-1||o3_relx!=null){g=(o3_relx!=null?(o3_relx<0?c+o3_relx+b-a-d:c+o3_relx):o3_fixx)}else{if(o3_hauto==1){if((o3_x-c)>(b/2)){o3_hpos=LEFT}else{o3_hpos=RIGHT}}if(o3_hpos==CENTER){g=o3_x+o3_offsetx-(a/2);if(g<c){g=c}}if(o3_hpos==RIGHT){g=o3_x+o3_offsetx;if((g+a)>(c+b-d)){g=b+c-a-d;if(g<0){g=0}}}if(o3_hpos==LEFT){g=o3_x-o3_offsetx-a;if(g<c){g=c}}if(o3_snapx>1){var e=g%o3_snapx;if(o3_hpos==LEFT){g=g-(o3_snapx+e)}else{g=g+(o3_snapx-e)}if(g<c){g=c}}}return g}function verticalPlacement(b,a){var g,j=b,c=a;var e=(o3_aboveheight?parseInt(o3_aboveheight):(olNs4?over.clip.height:over.offsetHeight));if(o3_fixy>-1||o3_rely!=null){g=(o3_rely!=null?(o3_rely<0?c+o3_rely+j-e:c+o3_rely):o3_fixy)}else{if(o3_vauto==1){if((o3_y-c)>(j/2)&&o3_vpos==BELOW&&(o3_y+e+o3_offsety-(c+j)>0)){o3_vpos=ABOVE}else{if(o3_vpos==ABOVE&&(o3_y-(e+o3_offsety)-c<0)){o3_vpos=BELOW}}}if(o3_vpos==ABOVE){if(o3_aboveheight==0){o3_aboveheight=e}g=o3_y-(o3_aboveheight+o3_offsety);if(g<c){g=c}}else{g=o3_y+o3_offsety}if(o3_snapy>1){var d=g%o3_snapy;if(o3_aboveheight>0&&o3_vpos==ABOVE){g=g-(o3_snapy+d)}else{g=g+(o3_snapy-d)}if(g<c){g=c}}}return g}function checkPositionFlags(){if(olHautoFlag){olHautoFlag=o3_hauto=0}if(olVautoFlag){olVautoFlag=o3_vauto=0}return true}function windowWidth(){var w;if(o3_frame.innerWidth){w=o3_frame.innerWidth}else{if(eval("o3_frame."+docRoot)&&eval("typeof o3_frame."+docRoot+".clientWidth=='number'")&&eval("o3_frame."+docRoot+".clientWidth")){w=eval("o3_frame."+docRoot+".clientWidth")}}return w}function createDivContainer(g,d,c){g=(g||"overDiv"),d=(d||o3_frame),c=(c||1000);var e,b=layerReference(g);if(b==null){if(olNs4){b=d.document.layers[g]=new Layer(window.innerWidth,d);e=b}else{var a=(olIe4?d.document.all.tags("BODY")[0]:d.document.getElementsByTagName("BODY")[0]);if(olIe4&&!document.getElementById){a.insertAdjacentHTML("beforeEnd",'<div id="'+g+'"></div>');b=layerReference(g)}else{b=d.document.createElement("DIV");b.id=g;a.appendChild(b)}e=b.style}e.position="absolute";e.visibility="hidden";e.zIndex=c;if(olIe4&&!olOp){e.left=e.top="0px"}else{e.left=e.top=-10000+(!olNs4?"px":0)}}return b}function layerReference(a){return(olNs4?o3_frame.document.layers[a]:(document.all?o3_frame.document.all[a]:o3_frame.document.getElementById(a)))}function isFunction(c){var b=true;if(typeof c=="object"){for(var a=0;a<c.length;a++){if(typeof c[a]=="function"){continue}b=false;break}}else{if(typeof c!="function"){b=false}}return b}function argToString(j,b,g){var e=b,a="",d=j;g=(g?g:"ar");if(d.length>e){for(var c=e;c<d.length;c++){a+=g+"["+c+"], "}a=a.substring(0,a.length-2)}return a}function reOrder(b,k,a){var c=new Array(),e,g,d;if(!a||typeof a=="undefined"||typeof a=="number"){return b}if(typeof a=="function"){if(typeof k=="object"){c=c.concat(k)}else{c[c.length++]=k}for(g=0;g<b.length;g++){e=false;if(typeof k=="function"&&b[g]==k){continue}else{for(d=0;d<k.length;d++){if(b[g]==k[d]){e=true;break}}}if(!e){c[c.length++]=b[g]}}c[c.length++]=a}else{if(typeof a=="object"){if(typeof k=="object"){c=c.concat(k)}else{c[c.length++]=k}for(d=0;d<b.length;d++){e=false;if(typeof k=="function"&&b[d]==k){continue}else{for(g=0;g<k.length;g++){if(b[d]==k[g]){e=true;break}}}if(!e){c[c.length++]=b[d]}}for(g=0;g<c.length;g++){b[g]=c[g]}c.length=0;for(d=0;d<b.length;d++){e=false;for(g=0;g<a.length;g++){if(b[d]==a[g]){e=true;break}}if(!e){c[c.length++]=b[d]}}c=c.concat(a)}}b=c;return b}function setRunTimeVariables(){if(typeof runTime!="undefined"&&runTime.length){for(var a=0;a<runTime.length;a++){runTime[a]()}}}function parseCmdLine(a,e,d){if(typeof cmdLine!="undefined"&&cmdLine.length){for(var b=0;b<cmdLine.length;b++){var c=cmdLine[b](a,e,d);if(c>-1){e=c;break}}}return e}function postParseChecks(a,c){if(typeof postParse!="undefined"&&postParse.length){for(var b=0;b<postParse.length;b++){if(postParse[b](a,c)){continue}return false}}return true}function registerCommands(cmdStr){if(typeof cmdStr!="string"){return}var pM=cmdStr.split(",");pms=pms.concat(pM);for(var i=0;i<pM.length;i++){eval(pM[i].toUpperCase()+"="+pmCount++)}}function registerNoParameterCommands(a){if(!a&&typeof a!="string"){return}pmt=(!pmt)?a:pmt+","+a}function registerHook(g,e,d,b){var a,c=typeof b;if(g=="plgIn"||g=="postParse"){return}if(typeof hookPts[g]=="undefined"){hookPts[g]=new FunctionReference()}a=hookPts[g];if(d!=null){if(d==FREPLACE){a.ovload=e;if(g.indexOf("ol_content_")>-1){a.alt[pms[CSSOFF-1-pmStart]]=e}}else{if(d==FBEFORE||d==FAFTER){var a=(d==1?a.before:a.after);if(typeof e=="object"){a=a.concat(e)}else{a[a.length++]=e}if(b){a=reOrder(a,e,b)}}else{if(d==FALTERNATE){if(c=="number"){a.alt[pms[b-1-pmStart]]=e}}else{if(d==FCHAIN){a=a.chain;if(typeof e=="object"){a=a.concat(e)}else{a[a.length++]=e}}}}}return}}function registerRunTimeFunction(a){if(isFunction(a)){if(typeof a=="object"){runTime=runTime.concat(a)}else{runTime[runTime.length++]=a}}}function registerCmdLineFunction(a){if(isFunction(a)){if(typeof a=="object"){cmdLine=cmdLine.concat(a)}else{cmdLine[cmdLine.length++]=a}}}function registerPostParseFunction(a){if(isFunction(a)){if(typeof a=="object"){postParse=postParse.concat(a)}else{postParse[postParse.length++]=a}}}function runHook(fnHookTo,hookType){var l=hookPts[fnHookTo],k,rtnVal=null,optPm,arS,ar=runHook.arguments;if(hookType==FREPLACE){arS=argToString(ar,2);if(typeof l=="undefined"||!(l=l.ovload)){rtnVal=eval(fnHookTo+"("+arS+")")}else{rtnVal=eval("l("+arS+")")}}else{if(hookType==FBEFORE||hookType==FAFTER){if(typeof l!="undefined"){l=(hookType==1?l.before:l.after);if(l.length){arS=argToString(ar,2);for(var k=0;k<l.length;k++){eval("l[k]("+arS+")")}}}}else{if(hookType==FALTERNATE){optPm=ar[2];arS=argToString(ar,3);if(typeof l=="undefined"||(l=l.alt[pms[optPm-1-pmStart]])=="undefined"){rtnVal=eval(fnHookTo+"("+arS+")")}else{rtnVal=eval("l("+arS+")")}}else{if(hookType==FCHAIN){arS=argToString(ar,2);l=l.chain;for(k=l.length;k>0;k--){if((rtnVal=eval("l[k-1]("+arS+")"))!=void (0)){break}}}}}}return rtnVal}function FunctionReference(){this.ovload=null;this.before=new Array();this.after=new Array();this.alt=new Array();this.chain=new Array()}function Info(a,b){this.version=a;this.prerelease=b;this.simpleversion=Math.round(this.version*100);this.major=parseInt(this.simpleversion/100);this.minor=parseInt(this.simpleversion/10)-this.major*10;this.revision=parseInt(this.simpleversion)-this.major*100-this.minor*10;this.meets=meets}function meets(a){return(!a)?false:this.simpleversion>=Math.round(100*parseFloat(a))}registerHook("ol_content_simple",ol_content_simple,FALTERNATE,CSSOFF);registerHook("ol_content_caption",ol_content_caption,FALTERNATE,CSSOFF);registerHook("ol_content_background",ol_content_background,FALTERNATE,CSSOFF);registerHook("ol_content_simple",ol_content_simple,FALTERNATE,CSSCLASS);registerHook("ol_content_caption",ol_content_caption,FALTERNATE,CSSCLASS);registerHook("ol_content_background",ol_content_background,FALTERNATE,CSSCLASS);registerPostParseFunction(checkPositionFlags);registerHook("hideObject",nbspCleanup,FAFTER);registerHook("horizontalPlacement",horizontalPlacement,FCHAIN);registerHook("verticalPlacement",verticalPlacement,FCHAIN);if(olNs4||(olIe5&&isMac)||olKq){olLoaded=1}registerNoParameterCommands("sticky,autostatus,autostatuscap,fullhtml,hauto,vauto,closeclick,wrap,followmouse,mouseoff,compatmode");var olCheckMouseCapture=true;if((olNs4||olNs6||olIe4)){olMouseCapture()}else{overlib=no_overlib;nd=no_overlib;ver3fix=true}if(Function.prototype.bind==null){Function.prototype.bind=function(b){var a=this;return function(){return a.apply(b,arguments)}}}if(typeof(Wicket)=="undefined"){Wicket={}}Wicket.Browser={isKHTML:function(){return/Konqueror|KHTML/.test(navigator.userAgent)&&!/Apple/.test(navigator.userAgent)},isSafari:function(){return/KHTML/.test(navigator.userAgent)&&/Apple/.test(navigator.userAgent)},isOpera:function(){return typeof(window.opera)!="undefined"},isIE:function(){return typeof(document.all)!="undefined"&&typeof(window.opera)=="undefined"},isIEQuirks:function(){return Wicket.Browser.isIE()&&document.documentElement.clientHeight==0},isIE7:function(){var b=navigator.userAgent.indexOf("MSIE");var a=parseFloat(navigator.userAgent.substring(b+5));return Wicket.Browser.isIE()&&a>=7},isGecko:function(){return/Gecko/.test(navigator.userAgent)&&!Wicket.Browser.isSafari()}};Wicket.Event={add:function(a,c,b){if(a==window&&c=="domready"){Wicket.Event.addDomReadyEvent(b)}else{if(a.addEventListener){a.addEventListener((c=="mousewheel"&&window.gecko)?"DOMMouseScroll":c,b,false)}else{b=b.bind(a);a.attachEvent("on"+c,b)}}return a},domReadyHandlers:new Array(),fireDomReadyHandlers:function(){var a=Wicket.Event.domReadyHandlers;while(a.length>0){var b=a.shift();b()}Wicket.Event.domReadyHandlers=null},addDomReadyEvent:function(b){if(window.loaded){b()}else{if(!window.events||!window.events.domready){Wicket.Event.domReadyHandlers.push(b);var a=function(){if(window.loaded){return}window.loaded=true;if(Wicket.Event.domReadyTimer){clearTimeout(Wicket.Event.domReadyTimer);Wicket.Event.domReadyTimer=null}Wicket.Event.fireDomReadyHandlers()}.bind(this);if(document.readyState&&(Wicket.Browser.isKHTML()||Wicket.Browser.isSafari())){Wicket.Event.domReadyTimer=window.setTimeout(function(){if(document.readyState=="loaded"||document.readyState=="complete"){a()}},10)}else{if(document.readyState&&Wicket.Browser.isIE()){if(document.getElementById("ie_ready")==null){var c=(window.location.protocol=="https:")?"//:":"javascript:void(0)";document.write('<script id="ie_ready" defer src="'+c+'"><\/script>');document.getElementById("ie_ready").onreadystatechange=function(){if(this.readyState=="complete"){a()}}}}else{Wicket.Event.add(document,"DOMContentLoaded",a)}}}else{window.addEventListener("domready",b,false)}}}};if(Function.prototype.bind==null){Function.prototype.bind=function(b){var a=this;return function(){return a.apply(b,arguments)}}}if(typeof(Wicket)=="undefined"){Wicket={}}Wicket.$=function(a){if(arguments.length>1){var c=[];for(var b=0;b<arguments.length;b++){c.push(Wicket.$(arguments[b]))}return c}else{if(typeof a=="string"){return document.getElementById(a)}else{return a}}};Wicket.$$=function(a){if(typeof(a)=="string"){a=Wicket.$(a)}if(a==null||typeof(a)=="undefined"||a.tagName==null||typeof(a.tagName)=="undefined"){return true}var b=a.getAttribute("id");if(typeof(b)=="undefined"||b==null||b==""){return a.ownerDocument==document}else{return document.getElementById(b)==a}};Wicket.isPortlet=function(){return Wicket.portlet==true};Wicket.emptyFunction=function(){};Wicket.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};if(typeof DOMParser=="undefined"&&Wicket.Browser.isSafari()){DOMParser=function(){};DOMParser.prototype.parseFromString=function(a,b){alert("You are using an old version of Safari.\nTo be able to use this page you need at least version 2.0.1.")}}Wicket.Log={enabled:function(){return wicketAjaxDebugEnabled()},info:function(a){if(Wicket.Log.enabled()){WicketAjaxDebug.logInfo(a)}},error:function(a){if(Wicket.Log.enabled()){WicketAjaxDebug.logError(a)}},log:function(a){if(Wicket.Log.enabled()){WicketAjaxDebug.log(a)}}},Wicket.FunctionsExecuter=Wicket.Class.create();Wicket.FunctionsExecuter.prototype={initialize:function(a){this.functions=a;this.current=0;this.depth=0},processNext:function(){if(this.current<this.functions.length){var a=this.functions[this.current];var b=function(){a(this.notify.bind(this))}.bind(this);this.current++;if(this.depth>50||Wicket.Browser.isKHTML()||Wicket.Browser.isSafari()){this.depth=0;window.setTimeout(b,1)}else{this.depth++;b()}}},start:function(){this.processNext()},notify:function(){this.processNext()}};Wicket.replaceOuterHtmlIE=function(element,text){if(element.tagName=="SCRIPT"){var tempDiv=document.createElement("div");tempDiv.innerHTML="<table>"+text+"</table>";var script=tempDiv.childNodes[0].childNodes[0].innerHTML;element.outerHtml=text;eval(script);return}var parent=element.parentNode;var tn=element.tagName;var tempDiv=document.createElement("div");var tempParent;var scripts=new Array();if(tn!="TBODY"&&tn!="TR"&&tn!="TD"&&tn!="THEAD"){tempDiv.innerHTML='<table style="display:none">'+text+"</table>";var s=tempDiv.getElementsByTagName("script");for(var i=0;i<s.length;++i){scripts.push(s[i])}tempDiv.innerHTML='<div style="display:none">'+text+"</div>";tempParent=tempDiv.childNodes[0]}else{tempDiv.innerHTML='<div style="display:none">'+text+"</div>";var s=tempDiv.getElementsByTagName("script");for(var i=0;i<s.length;++i){scripts.push(s[i])}tempDiv.innerHTML='<table style="display: none">'+text+"</table>";tempParent=tempDiv.getElementsByTagName(tn).item(0).parentNode}while(tempParent.childNodes.length>0){var tempElement=tempParent.childNodes[0];parent.insertBefore(tempElement,element)}parent.removeChild(element);for(i=0;i<scripts.length;++i){Wicket.Head.addJavascripts(scripts[i])}};Wicket.replaceOuterHtmlSafari=function(element,text){if(element.tagName=="SCRIPT"){var tempDiv=document.createElement("div");tempDiv.innerHTML=text;var script=tempDiv.childNodes[0].innerHTML;if(typeof(script)!="string"){script=tempDiv.childNodes[0].text}element.outerHTML=text;eval(script);return}var parent=element.parentNode;var next=element.nextSibling;var index=0;while(parent.childNodes[index]!=element){++index}element.outerHTML=text;element=parent.childNodes[index];while(element!=next){Wicket.Head.addJavascripts(element);element=element.nextSibling}};Wicket.replaceOuterHtml=function(c,d){if(Wicket.Browser.isIE()){Wicket.replaceOuterHtmlIE(c,d)}else{if(Wicket.Browser.isSafari()||Wicket.Browser.isOpera()){Wicket.replaceOuterHtmlSafari(c,d)}else{var a=c.ownerDocument.createRange();a.selectNode(c);var b=a.createContextualFragment(d);c.parentNode.replaceChild(b,c)}}};Wicket.decode=function(a,b){if(a=="wicket1"){return Wicket.decode1(b)}};Wicket.decode1=function(a){return Wicket.replaceAll(a,"]^","]")};Wicket.replaceAll=function(b,d,c){var a=b.indexOf(d);while(a>-1){b=b.replace(d,c);a=b.indexOf(d)}return b};Wicket.Form={};Wicket.Form.encode=function(a){if(encodeURIComponent){return encodeURIComponent(a)}else{return escape(a)}};Wicket.Form.serializeSelect=function(b){if(b.multiple==false){return Wicket.Form.encode(b.name)+"="+Wicket.Form.encode(b.value)+"&"}var a="";for(var c=0;c<b.options.length;++c){var d=b.options[c];if(d.selected){a+=Wicket.Form.encode(b.name)+"="+Wicket.Form.encode(d.value)+"&"}}return a};Wicket.Form.serializeInput=function(a){var b=a.type.toLowerCase();if((b=="checkbox"||b=="radio")&&a.checked){return Wicket.Form.encode(a.name)+"="+Wicket.Form.encode(a.value)+"&"}else{if(b=="text"||b=="password"||b=="hidden"||b=="textarea"){return Wicket.Form.encode(a.name)+"="+Wicket.Form.encode(a.value)+"&"}else{return""}}};Wicket.Form.excludeFromAjaxSerialization={};Wicket.Form.serializeElement=function(b){if(Wicket.Form.excludeFromAjaxSerialization&&b.id&&Wicket.Form.excludeFromAjaxSerialization[b.id]=="true"){return""}var a=b.tagName.toLowerCase();if(a=="select"){return Wicket.Form.serializeSelect(b)}else{if(a=="input"||a=="textarea"){return Wicket.Form.serializeInput(b)}else{return""}}};Wicket.Form.doSerialize=function(c){var a="";for(var b=0;b<c.elements.length;++b){var d=c.elements[b];if(d.name&&d.name!=""&&!d.disabled){a+=Wicket.Form.serializeElement(d)}}return a};Wicket.Form.serialize=function(c,b){if(c.tagName.toLowerCase()=="form"){return Wicket.Form.doSerialize(c)}else{var e=c;if(b!=true){do{c=c.parentNode}while(c.tagName.toLowerCase()!="form"&&c.tagName.toLowerCase()!="body")}if(c.tagName.toLowerCase()=="form"){return Wicket.Form.doSerialize(c)}else{var d=document.createElement("form");parent=e.parentNode;parent.replaceChild(d,e);d.appendChild(e);var a=Wicket.Form.doSerialize(d);parent.replaceChild(e,d);return a}}};Wicket.DOM={};Wicket.DOM.serializeNodeChildren=function(d){if(d==null){return""}var a="";for(var c=0;c<d.childNodes.length;c++){var b=d.childNodes[c];switch(b.nodeType){case 1:case 5:a+=Wicket.DOM.serializeNode(b);break;case 8:a+="<!--"+b.nodeValue+"-->";break;case 4:a+="<![CDATA["+b.nodeValue+"]]>";break;case 3:case 2:a+=b.nodeValue;break;default:break}}return a};Wicket.DOM.serializeNode=function(c){if(c==null){return""}var a="";a+="<"+c.nodeName;if(c.attributes&&c.attributes.length>0){for(var b=0;b<c.attributes.length;b++){a+=" "+c.attributes[b].name+'="'+c.attributes[b].value+'"'}}a+=">";a+=Wicket.DOM.serializeNodeChildren(c);a+="</"+c.nodeName+">";return a};Wicket.DOM.containsElement=function(a){var b=a.getAttribute("id");if(b!=null){return Wicket.$(b)!=null}else{return false}};Wicket.Channel=Wicket.Class.create();Wicket.Channel.prototype={initialize:function(a){var b=a.match(/^([^|]+)\|(d|s)$/);if(b==null){this.type="s"}else{this.type=b[2]}this.callbacks=new Array();this.busy=false},schedule:function(a){if(this.busy==false){this.busy=true;return a()}else{Wicket.Log.info("Channel busy - postponing...");if(this.type=="s"){this.callbacks.push(a)}else{this.callbacks[0]=a}return null}},done:function(){var a=null;if(this.callbacks.length>0){a=this.callbacks.shift()}if(a!=null&&typeof(a)!="undefined"){Wicket.Log.info("Calling posponed function...");window.setTimeout(a,1)}else{this.busy=false}}};Wicket.ChannelManager=Wicket.Class.create();Wicket.ChannelManager.prototype={initialize:function(){this.channels=new Array()},schedule:function(a,d){var b=this.channels[a];if(b==null){b=new Wicket.Channel(a);this.channels[a]=b}return b.schedule(d)},done:function(a){var b=this.channels[a];if(b!=null){b.done()}}};Wicket.channelManager=new Wicket.ChannelManager();Wicket.Ajax={createTransport:function(){var a=null;if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLHTTP")}else{if(window.XMLHttpRequest){a=new XMLHttpRequest()}}if(a==null){Wicket.Log.error("Could not locate ajax transport. Your browser does not support the required XMLHttpRequest object or wicket could not gain access to it.")}return a},transports:[],getTransport:function(){var b=Wicket.Ajax.transports;for(var a=0;a<b.length;++a){if(b[a].readyState==0){return b[a]}}b.push(Wicket.Ajax.createTransport());return b[b.length-1]},preCallHandlers:[],postCallHandlers:[],failureHandlers:[],registerPreCallHandler:function(b){var a=Wicket.Ajax.preCallHandlers;a.push(b)},registerPostCallHandler:function(b){var a=Wicket.Ajax.postCallHandlers;a.push(b)},registerFailureHandler:function(b){var a=Wicket.Ajax.failureHandlers;a.push(b)},invokePreCallHandlers:function(){var b=Wicket.Ajax.preCallHandlers;if(b.length>0){Wicket.Log.info("Invoking pre-call handler(s)...")}for(var a=0;a<b.length;++a){b[a]()}},invokePostCallHandlers:function(){var b=Wicket.Ajax.postCallHandlers;if(b.length>0){Wicket.Log.info("Invoking post-call handler(s)...")}for(var a=0;a<b.length;++a){b[a]()}},invokeFailureHandlers:function(){var b=Wicket.Ajax.failureHandlers;if(b.length>0){Wicket.Log.info("Invoking failure handler(s)...")}for(var a=0;a<b.length;++a){b[a]()}}};Wicket.Ajax.Request=Wicket.Class.create();Wicket.Ajax.Request.prototype={initialize:function(b,a,g,e,c,d){this.url=b;this.loadedCallback=a;this.parseResponse=g!=null?g:true;this.randomURL=e!=null?e:true;this.failureHandler=c!=null?c:function(){};this.async=true;this.channel=d;this.precondition=function(){return true};this.suppressDone=false;this.instance=Math.random();this.debugContent=true},done:function(){Wicket.channelManager.done(this.channel)},createUrl:function(){if(this.randomURL==false){return this.url}else{return this.url+(this.url.indexOf("?")>-1?"&":"?")+"random="+Math.random()}},log:function(c,a){var b=Wicket.Log.info;b("");b("Initiating Ajax "+c+" request on "+a)},failure:function(){this.failureHandler();Wicket.Ajax.invokePostCallHandlers();Wicket.Ajax.invokeFailureHandlers()},get:function(){if(Wicket.isPortlet()){var a=this.url.indexOf("?");if(a==-1){a=this.url.indexOf("&")}if(a>-1){var c=this.url.substring(a+1);if(c&&c.length>0){this.url=this.url.substring(0,a);if(c.charAt(c.length-1)!="&"){c+="&"}return this.post(c)}}}if(this.channel!=null){var b=Wicket.channelManager.schedule(this.channel,this.doGet.bind(this));return b!=null?b:true}else{return this.doGet()}},doGet:function(){if(this.precondition()){this.transport=Wicket.Ajax.getTransport();var a=this.createUrl();this.log("GET",a);Wicket.Ajax.invokePreCallHandlers();var b=this.transport;if(b!=null){b.open("GET",a,this.async);b.onreadystatechange=this.stateChangeCallback.bind(this);b.setRequestHeader("Wicket-Ajax","true");b.send(null);return true}else{this.failure();return false}}else{this.done();return true}},post:function(a){if(this.channel!=null){var b=Wicket.channelManager.schedule(this.channel,function(){this.doPost(a)}.bind(this));return b!=null?b:true}else{return this.doPost(a)}},doPost:function(a){if(this.precondition()){this.transport=Wicket.Ajax.getTransport();var b=this.createUrl();this.log("POST",b);Wicket.Ajax.invokePreCallHandlers();var c=this.transport;if(c!=null){if(typeof(a)=="function"){a=a()}c.open("POST",b,this.async);c.onreadystatechange=this.stateChangeCallback.bind(this);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.setRequestHeader("Wicket-Ajax","true");c.send(a);return true}else{this.failure();return false}}else{this.done();return true}},stateChangeCallback:function(){var n=this.transport;if(n!=null&&n.readyState==4){try{status=n.status}catch(j){Wicket.Log.error("Exception evaluating AJAX status: "+j);status="unavailable"}if(status==200||status==""){var l=n.responseText;var a;try{a=n.getResponseHeader("Ajax-Location")}catch(k){}if(typeof(a)!="undefined"&&a!=null&&a!=""){n.onreadystatechange=Wicket.emptyFunction;if(a.charAt(0)==("/")||a.match("^http://")=="http://"||a.match("^https://")=="https://"){window.location=a}else{var c=0;while(a.substring(0,3)=="../"){c++;a=a.substring(3)}var d=window.location.pathname;while(c>-1){c--;i=d.lastIndexOf("/");if(i>-1){d=d.substring(0,i)}}d+="/"+a;window.location=d}}else{var g=Wicket.Log.info;g("Received ajax response ("+l.length+" characters)");if(this.debugContent!=false){g("\n"+l)}if(this.parseResponse==true){var m;if(typeof(window.XMLHttpRequest)!="undefined"&&typeof(DOMParser)!="undefined"){var b=new DOMParser();m=b.parseFromString(l,"text/xml")}else{if(window.ActiveXObject){m=n.responseXML}}this.loadedCallback(m)}else{this.loadedCallback(l)}if(this.suppressDone==false){this.done()}}}else{var g=Wicket.Log.error;g("Received Ajax response with code: "+status);if(status==500){g("500 error had text: "+n.responseText)}this.done();this.failure()}n.onreadystatechange=Wicket.emptyFunction;n.abort();this.transport=null}}};Wicket.Ajax.Call=Wicket.Class.create();Wicket.Ajax.Call.prototype={initialize:function(b,a,d,e){this.successHandler=a!=null?a:function(){};this.failureHandler=d!=null?d:function(){};var g=e!=null?e:"0|s";this.request=new Wicket.Ajax.Request(b,this.loadedCallback.bind(this),true,true,d,g);this.request.suppressDone=true},failure:function(a){if(a!=null){Wicket.Log.error("Error while parsing response: "+a)}this.request.done();this.failureHandler();Wicket.Ajax.invokePostCallHandlers();Wicket.Ajax.invokeFailureHandlers()},call:function(){return this.request.get()},post:function(a){return this.request.post(a)},submitForm:function(c,b){var a=function(){var d=Wicket.Form.serialize(c);if(b!=null){d+=Wicket.Form.encode(b)+"=1"}return d};return this.request.post(a)},submitFormById:function(c,a){var b=Wicket.$(c);if(b==null||typeof(b)=="undefined"){Wicket.Log.error("Trying to submit form with id '"+c+"' that is not in document.")}return this.submitForm(b,a)},loadedCallback:function(k){try{var b=k.getElementsByTagName("ajax-response")[0];if(b==null||b.tagName!="ajax-response"){this.failure("Could not find root <ajax-response> element");return}var c=new Array();if(Wicket.Browser.isKHTML()){c.push=function(e){e(function(){})}}for(var d=0;d<b.childNodes.length;++d){var g=b.childNodes[d];if(g.tagName=="component"){this.processComponent(c,g)}else{if(g.tagName=="evaluate"){this.processEvaluation(c,g)}else{if(g.tagName=="header-contribution"){this.processHeaderContribution(c,g)}}}}this.success(c);if(Wicket.Browser.isKHTML()==false){Wicket.Log.info("Response parsed. Now invoking steps...");var a=new Wicket.FunctionsExecuter(c);a.start()}}catch(j){this.failure(j.message)}},success:function(a){a.push(function(b){Wicket.Log.info("Response processed successfully.");Wicket.Ajax.invokePostCallHandlers();Wicket.Focus.attachFocusEvent();this.request.done();this.successHandler();setTimeout("Wicket.Focus.requestFocus();",0);b()}.bind(this))},processComponent:function(a,b){a.push(function(e){var d=b.getAttribute("id");var j="";if(b.hasChildNodes()){j=b.firstChild.nodeValue}var g=b.getAttribute("encoding");if(g!=null&&g!=""){j=Wicket.decode(g,j)}var c=Wicket.$(d);if(c==null||typeof(c)=="undefined"){Wicket.Log.error("Component with id [["+d+"]] a was not found while trying to perform markup update. Make sure you called component.setOutputMarkupId(true) on the component whose markup you are trying to update.")}else{Wicket.replaceOuterHtml(c,j)}e()})},processEvaluation:function(steps,node){steps.push(function(notify){var text=node.firstChild.nodeValue;var encoding=node.getAttribute("encoding");if(encoding!=null){text=Wicket.decode(encoding,text)}var res=text.match(new RegExp("^([a-z|A-Z_][a-z|A-Z|0-9_]*)\\|((.|\\n)*)$"));if(res!=null){text="var f = function("+res[1]+") {"+res[2]+"};";try{eval(text);f(notify)}catch(exception){Wicket.Log.error("Exception evaluating javascript: "+exception)}}else{try{eval(text)}catch(exception){Wicket.Log.error("Exception evaluating javascript: "+exception)}notify()}})},processHeaderContribution:function(a,b){var d=new Wicket.Head.Contributor();d.processContribution(a,b)}};Wicket.Head={};Wicket.Head.Contributor=Wicket.Class.create();Wicket.Head.Contributor.prototype={initialize:function(){},parse:function(b){var d=b.firstChild.nodeValue;var c=b.getAttribute("encoding");if(c!=null&&c!=""){d=Wicket.decode(c,d)}if(Wicket.Browser.isKHTML()){d=d.replace(/<script/g,"<SCRIPT");d=d.replace(/<\/script>/g,"</SCRIPT>")}var a;if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLDOM");a.loadXML(d)}else{var e=new DOMParser();a=e.parseFromString(d,"text/xml")}return a},processContribution:function(k,l){var m=this.parse(l);var c=m.documentElement;for(var g=0;g<c.childNodes.length;g++){var d=c.childNodes[g];if(d.tagName!=null){var b=d.tagName.toLowerCase();if(b=="wicket:link"){for(var e=0;e<d.childNodes.length;++e){var a=d.childNodes[e];if(a.nodeType==1){d=a;b=d.tagName.toLowerCase();break}}}if(b=="link"){this.processLink(k,d)}else{if(b=="script"){this.processScript(k,d)}else{if(b=="style"){this.processStyle(k,d)}}}}}},processLink:function(a,b){a.push(function(d){if(Wicket.Head.containsElement(b,"href")){d();return}var c=Wicket.Head.createElement("link");c.id=b.getAttribute("id");c.rel=b.getAttribute("rel");c.href=b.getAttribute("href");c.type=b.getAttribute("type");Wicket.Head.addElement(c);d()})},processStyle:function(a,b){a.push(function(c){if(Wicket.DOM.containsElement(b)){c();return}var e=Wicket.DOM.serializeNodeChildren(b);var d=Wicket.Head.createElement("style");d.id=b.getAttribute("id");if(Wicket.Browser.isIE()){document.createStyleSheet().cssText=e}else{var g=document.createTextNode(e);d.appendChild(g)}Wicket.Head.addElement(d);c()})},processScript:function(a,b){a.push(function(c){if(Wicket.DOM.containsElement(b)||Wicket.Head.containsElement(b,"src")){c();return}var g=b.getAttribute("src");if(g!=null&&g!=""){var d=function(j){Wicket.Head.addJavascript(j,null,g);Wicket.Ajax.invokePostCallHandlers();c()};window.setTimeout(function(){var j=new Wicket.Ajax.Request(g,d,false,false);j.debugContent=false;if(Wicket.Browser.isKHTML()){j.async=false}j.get()},1)}else{var e=Wicket.DOM.serializeNodeChildren(b);Wicket.Head.addJavascript(e,b.getAttribute("id"));c()}})}};Wicket.Head.createElement=function(a){return document.createElement(a)};Wicket.Head.addElement=function(b){var a=document.getElementsByTagName("head");if(a[0]){a[0].appendChild(b)}};Wicket.Head.containsElement=function(g,c){var a=g.getAttribute(c);if(a==null||a==""||typeof(a)=="undefined"){return false}var e=document.getElementsByTagName("head")[0];var b=e.getElementsByTagName(g.tagName);for(var d=0;d<b.length;++d){var j=b[d];if(j.tagName.toLowerCase()==g.tagName.toLowerCase()&&(j.getAttribute(c)==a||j.getAttribute(c+"_")==a)){return true}}return false};Wicket.Head.addJavascript=function(b,e,d){var a=Wicket.Head.createElement("script");a.id=e;a.setAttribute("src_",d);if(null==a.canHaveChildren||a.canHaveChildren){var c=document.createTextNode(b);a.appendChild(c)}else{a.text=b}Wicket.Head.addElement(a)};Wicket.Head.addJavascripts=function(c){function d(g){var l=g.getAttribute("src");if(l!=null&&l.length>0){var k=document.createElement("script");k.setAttribute("type","text/javascript");k.setAttribute("src",l);Wicket.Head.addElement(k)}else{var j=Wicket.DOM.serializeNodeChildren(g);if(j==null||j==""){j=g.text}Wicket.Head.addJavascript(j)}}if(typeof(c)!="undefined"&&typeof(c.tagName)!="undefined"&&c.tagName.toLowerCase()=="script"){d(c)}else{if(c.childNodes.length>0){var a=c.getElementsByTagName("script");for(var b=0;b<a.length;++b){d(a[b])}}}};Wicket.ThrottlerEntry=Wicket.Class.create();Wicket.ThrottlerEntry.prototype={initialize:function(a,b){this.func=a;this.timestamp=new Date().getTime();this.timeout=b},getTimestamp:function(){return this.timestamp},getFunc:function(){return this.func},setFunc:function(a){this.func=a},getTimeout:function(){return this.timeout},setTimeout:function(a){this.timeout=a}};Wicket.Throttler=Wicket.Class.create();Wicket.Throttler.prototype={initialize:function(){this.entries=new Array()},throttle:function(g,a,e,d){var c=this.entries[g];var b=this;if(c==undefined){c=new Wicket.ThrottlerEntry(e,window.setTimeout(function(){b.execute(g)},a));this.entries[g]=c}else{c.setFunc(e);if(d!=undefined&&d==true){window.clearTimeout(c.getTimeout());c.setTimeout(window.setTimeout(function(){b.execute(g)},a))}}},execute:function(d){var c=this.entries[d];if(c!=undefined){var b=c.getFunc();var a=b()}this.entries[d]=undefined}};Wicket.throttler=new Wicket.Throttler();Wicket.stopEvent=function(a){a=Wicket.fixEvent(a);a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}};Wicket.fixEvent=function(a){if(typeof a=="undefined"){a=window.event}return a};Wicket.Drag={init:function(d,c,a,b){if(typeof(c)=="undefined"){c=Wicket.emptyFunction}if(typeof(a)=="undefined"){a=Wicket.emptyFunction}if(typeof(b)=="undefined"){b=Wicket.emptyFunction}d.onmousedown=function(g){g=Wicket.fixEvent(g);if(typeof(g.ignore)=="undefined"){Wicket.stopEvent(g);c(d);d.onDrag=b;d.onDragEnd=a;d.lastMouseX=g.clientX;d.lastMouseY=g.clientY;d.old_onmousemove=document.onmousemove;d.old_onmouseup=document.onmouseup;d.old_onselectstart=document.onselectstart;d.old_onmouseout=document.onmouseout;document.onselectstart=function(){return false};document.onmousemove=Wicket.Drag.mouseMove;document.onmouseup=Wicket.Drag.mouseUp;document.onmouseout=Wicket.Drag.mouseOut;Wicket.Drag.current=d;return false}}},clean:function(a){a.onmousedown=null},mouseMove:function(d){d=Wicket.fixEvent(d);var g=Wicket.Drag.current;if(d.clientX<0||d.clientY<0){return}if(g!=null){var b=d.clientX-g.lastMouseX;var a=d.clientY-g.lastMouseY;var c=g.onDrag(g,b,a);if(c==null){c=[0,0]}g.lastMouseX=d.clientX+c[0];g.lastMouseY=d.clientY+c[1]}return false},mouseUp:function(a){a=Wicket.fixEvent(a);var b=Wicket.Drag.current;if(b!=null&&typeof(b)!="undefined"){b.onDragEnd(b);b.onDrag=null;b.onDragEnd=null;b.lastMouseX=null;b.lastMouseY=null;document.onmousemove=b.old_onmousemove;document.onmouseup=b.old_onmouseup;document.onselectstart=b.old_onselectstart;document.onmouseout=b.old_onmouseout;b.old_mousemove=null;b.old_mouseup=null;b.old_onselectstart=null;b.old_onmouseout=null;Wicket.Drag.current=null}},mouseOut:function(a){if(false&&Wicket.Browser.isGecko()){a=Wicket.fixEvent(a);if(a.target.tagName=="HTML"){Wicket.Drag.mouseUp(a)}}}};Wicket.ChangeHandler=function(j){var p=8;var q=9;var l=13;var d=27;var a=37;var k=38;var o=39;var m=40;var c=16;var n=17;var b=18;var g=Wicket.$(j);g.setAttribute("autocomplete","off");if(Wicket.Browser.isIE()||Wicket.Browser.isKHTML()||Wicket.Browser.isSafari()){var e=g.onchange;g.onkeyup=function(r){switch(wicketKeyCode(Wicket.fixEvent(r))){case l:case k:case m:case d:case q:case o:case a:case c:case b:case n:return Wicket.stopEvent(r);break;default:if(typeof e=="function"){e()}}return null};g.onpaste=function(r){if(typeof e=="function"){setTimeout(function(){e()},10)}return null};g.oncut=function(r){if(typeof e=="function"){setTimeout(function(){e()},10)}return null}}else{g.addEventListener("input",g.onchange,true)}g.onchange=function(r){Wicket.stopEvent(r)}};var wicketThrottler=Wicket.throttler;function wicketAjaxGet(b,a,c,g,e){var d=new Wicket.Ajax.Call(b,a,c,e);if(typeof(g)!="undefined"&&g!=null){d.request.precondition=g}return d.call()}function wicketAjaxPost(c,a,b,d,j,g){var e=new Wicket.Ajax.Call(c,b,d,g);if(typeof(j)!="undefined"&&j!=null){e.request.precondition=j}return e.post(a)}function wicketSubmitForm(j,b,d,a,c,k,g){var e=new Wicket.Ajax.Call(b,a,c,g);if(typeof(k)!="undefined"&&k!=null){e.request.precondition=k}return e.submitForm(j,d)}function wicketSubmitFormById(k,b,d,a,c,j,g){var e=new Wicket.Ajax.Call(b,a,c,g);if(typeof(j)!="undefined"&&j!=null){e.request.precondition=j}return e.submitFormById(k,d)}wicketSerialize=Wicket.Form.serializeElement;wicketSerializeForm=Wicket.Form.serialize;wicketEncode=Wicket.Form.encode;wicketDecode=Wicket.decode;wicketAjaxGetTransport=Wicket.Ajax.getTransport;Wicket.Ajax.registerPreCallHandler(function(){if(typeof(window.wicketGlobalPreCallHandler)!="undefined"){var a=wicketGlobalPreCallHandler;if(a!=null){a()}}});Wicket.Ajax.registerPostCallHandler(function(){if(typeof(window.wicketGlobalPostCallHandler)!="undefined"){var a=wicketGlobalPostCallHandler;if(a!=null){a()}}});Wicket.Ajax.registerFailureHandler(function(){if(typeof(window.wicketGlobalFailureHandler)!="undefined"){var a=wicketGlobalFailureHandler;if(a!=null){a()}}});Wicket.Focus={lastFocusId:"",setFocus:function(a){a=Wicket.fixEvent(a);var b=a.target?a.target:a.srcElement;if(b){lastFocusId=b.id;Wicket.Log.info("focus set on "+lastFocusId)}},setFocusOnId:function(a){lastFocusId=a;Wicket.Log.info("focus set on "+lastFocusId+" from serverside")},getFocusedElement:function(){if(typeof(lastFocusId)!="undefined"&&lastFocusId!=""&&lastFocusId!=null){Wicket.Log.info("returned focused element: "+Wicket.$(lastFocusId));return Wicket.$(lastFocusId)}return},requestFocus:function(){if(typeof(lastFocusId)!="undefined"&&lastFocusId!=""&&lastFocusId!=null){var a=Wicket.$(lastFocusId);if(a!=null&&typeof(a)!="undefined"){Wicket.Log.info("Calling focus on "+lastFocusId);try{a.focus()}catch(b){}}else{lastFocusId="";Wicket.Log.info("Couldn't set focus on "+lastFocusId+" not on the page anymore")}}else{Wicket.Log.info("last focus id was not set")}},setFocusOnElements:function(b){for(var a=0;a<b.length;a++){if(typeof(b[a].focusSet)=="undefined"){Wicket.Event.add(b[a],"focus",Wicket.Focus.setFocus);b[a].focusSet=true}}},attachFocusEvent:function(){Wicket.Focus.setFocusOnElements(document.getElementsByTagName("input"));Wicket.Focus.setFocusOnElements(document.getElementsByTagName("select"));Wicket.Focus.setFocusOnElements(document.getElementsByTagName("textarea"));Wicket.Focus.setFocusOnElements(document.getElementsByTagName("button"));Wicket.Focus.setFocusOnElements(document.getElementsByTagName("a"))}};Wicket.Event.addDomReadyEvent(Wicket.Focus.attachFocusEvent);function wicketAjaxDebugEnabled(){if(typeof(wicketAjaxDebugEnable)=="undefined"){return false}else{return wicketAjaxDebugEnable==true}}function wicketKeyCode(a){if(typeof(a.keyCode)=="undefined"){return a.which}else{return a.keyCode}}function wicketGet(a){return Wicket.$(a)}function wicketShow(b){var a=wicketGet(b);if(a!=null){a.style.display=""}}function wicketHide(b){var a=wicketGet(b);if(a!=null){a.style.display="none"}}var WicketAjaxDebug={showResponseText:false,scrollLock:false,debugWindowId:"wicketAjaxDebugWindow",debugWindowScrollLockLinkId:"wicketAjaxDebugScrollLock",debugWindowDragHandleId:"wicketAjaxDebugWindowDragHandle",debugWindowResizeHandleId:"wicketAjaxDebugWindowResizeHandle",debugWindowLogId:"wicketAjaxDebugWindowLogId",getDebugWindow:function(){WicketAjaxDebug.init();wicketGet(WicketAjaxDebug.debugWindowId)},showDebugWindow:function(){WicketAjaxDebug.init();wicketShow(WicketAjaxDebug.debugWindowId)},hideDebugWindow:function(){WicketAjaxDebug.init();wicketHide(WicketAjaxDebug.debugWindowId)},log:function(e,a){WicketAjaxDebug.init();var b=wicketGet(WicketAjaxDebug.debugWindowLogId);var g=document.createElement("div");e=""+e;e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/\n/g,"<br/>");e=e.replace(/ /g,"&nbsp;");e=e.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");if(typeof(a)!="undefined"){e="<b>"+a+"</b>"+e}g.innerHTML=e;g.setAttribute("style","font-size: 82%; margin: 0px; padding:0px");b.appendChild(g);if(WicketAjaxDebug.scrollLock==false){b.scrollTop=b.scrollHeight}},logError:function(a){WicketAjaxDebug.init();WicketAjaxDebug.log(a,"ERROR: ")},logInfo:function(a){WicketAjaxDebug.init();WicketAjaxDebug.log(a,"INFO: ")},clearLog:function(){WicketAjaxDebug.init();var a=wicketGet(WicketAjaxDebug.debugWindowLogId);a.innerHTML=""},init:function(){if(wicketAjaxDebugEnabled()){var b=WicketAjaxDebug;var d=b.debugWindowId;var e=b.debugWindowDragHandleId;var a=b.debugWindowResizeHandleId;var g=document.getElementById(d)==null;if(g){var c="<div style='width: 450px; display: none; position: absolute; left: 200px; top: 300px; z-index: 1000;' id='"+d+"'>	<div style='border: 1px solid black; padding: 1px; background-color: #eee'>		<div style='overflow: auto; width: 100%'>			<div style='float: right; padding: 0.2em; padding-right: 1em; color: black;'>               <a href='javascript:WicketAjaxDebug.switchScrollLock()' id='"+WicketAjaxDebug.debugWindowScrollLockLinkId+"' style='color:blue' onfocus='this.blur();'>scroll lock</a> |				<a href='javascript:WicketAjaxDebug.clearLog()' style='color:blue'>clear</a> | 				<a href='javascript:WicketAjaxDebug.hideDebugWindow()' style='color:blue'>close</a>			</div>			<div id='"+e+"' style='padding: 0.2em; background-color: gray; color: white; padding-left: 1em; margin-right: 14em; cursor: move;'>				Wicket Ajax Debug Window (drag me here)			</div>			<div id='"+WicketAjaxDebug.debugWindowLogId+"' style='width: 100%; height: 200px; background-color: white; color: black; overflow: auto; white-space: nowrap'>			</div>           <div style='height: 10px; margin:0px; padding:0px;overflow:hidden;'>              <div style='height: 10px; width: 10px; background-color: gray; margin:0px; padding: 0px;overflow:hidden; float:right; cursor: nw-resize' id='"+WicketAjaxDebug.debugWindowResizeHandleId+"'>              </div>           </div>		</div>	</div></div>";if(Wicket.Browser.isIE()&&(Wicket.Browser.isIEQuirks()||!Wicket.Browser.isIE7())){c+="<a id='wicketDebugLink' style='position:absolute; right: 10px; bottom: 10px; z-index:100; padding-top: 0.3em; padding-bottom: 0.3em; line-height: normal ; _padding-top: 0em; width: 12em; border: 1px solid black; background-color: white; text-align: center; opacity: 0.7; filter: alpha(opacity=70); color: blue;                                   left: expression(-10 - wicketDebugLink.offsetWidth + eval(document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) +(document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth));                                  top: expression(-10 - wicketDebugLink.offsetHeight + eval(document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + (document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight));'"}else{c+="<a id='wicketDebugLink' style='position:fixed; right: 10px; bottom: 10px; z-index:100; padding-top: 0.3em; padding-bottom: 0.3em; line-height: normal ; _padding-top: 0em; width: 12em; border: 1px solid black; background-color: white; text-align: center; opacity: 0.7;  color: blue;'"}c+="  href='javascript:WicketAjaxDebug.showDebugWindow()'>WICKET AJAX DEBUG</a>";WicketAjaxDebug.addElement(c);Wicket.$(WicketAjaxDebug.debugWindowScrollLockLinkId).focusSet=true;Wicket.Drag.init(wicketGet(e),function(){},function(){},WicketAjaxDebug.onDrag);Wicket.Drag.init(wicketGet(a),function(){},function(){},WicketAjaxDebug.onResize)}}},switchScrollLock:function(){WicketAjaxDebug.scrollLock=!WicketAjaxDebug.scrollLock;var a=Wicket.$(WicketAjaxDebug.debugWindowScrollLockLinkId);if(WicketAjaxDebug.scrollLock){a.style.color="red"}else{a.style.color="blue"}},onResize:function(e,c,b){var k=wicketGet(WicketAjaxDebug.debugWindowId);var j=wicketGet(WicketAjaxDebug.debugWindowLogId);var g=parseInt(k.style.width,10)+c;var a=parseInt(j.style.height,10)+b;var d=[0,0];if(g<300){d[0]=300-g;g=300}if(a<100){d[1]=100-a;a=100}k.style.width=g+"px";j.style.height=a+"px";return d},onDrag:function(g,d,b){var c=wicketGet(WicketAjaxDebug.debugWindowId);var a=parseInt(c.style.left,10)+d;var j=parseInt(c.style.top,10)+b;var e=[0,0];if(a<0){e[0]=-d;a=0}if(j<0){e[1]=-b;j=0}c.style.left=a+"px";c.style.top=j+"px";return e},addElement:function(b){var a=document.createElement("div");a.innerHTML=b;document.body.appendChild(a)},addEvent:function(d,c,a){if(d.addEventListener){d.addEventListener(c,a,false);return true}else{if(d.attachEvent){var b=d.attachEvent("on"+c,a);return b}else{return false}}}};WicketAjaxDebug.addEvent(window,"load",WicketAjaxDebug.init);if(typeof(Class)=="undefined"){var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}}}if(typeof(Wicket)=="undefined"){Wicket={}}if(typeof(Object.extend)=="undefined"){Object.extend=function(a,b){for(property in b){a[property]=b[property]}return a}}Wicket.Iframe={findPosX:function(a){if(a.offsetParent){var b=0;while(a.offsetParent){b+=a.offsetLeft;a=a.offsetParent}return b}else{if(a.x){return a.x}else{return 0}}},findPosY:function(a){if(a.offsetParent){var b=0;while(a.offsetParent){b+=a.offsetTop;a=a.offsetParent}return b}else{if(a.y){return a.y}else{return 0}}},forwardEvents:function(d,b,c){try{var a=b.contentWindow.document;a.old_onmousemove=a.onmousemove;a.onmousemove=function(j){if(j==null){j=b.contentWindow.event}var l=new Object();var k=0;var g=0;if(Wicket.Browser.isIE()||Wicket.Browser.isGecko){k=Wicket.Window.getScrollX();g=Wicket.Window.getScrollY()}l.clientX=j.clientX+Wicket.Iframe.findPosX(b)-k;l.clientY=j.clientY+Wicket.Iframe.findPosY(b)-g;d.onmousemove(l)};a.old_onmouseup=a.old_onmousemove;a.onmouseup=function(j){if(j==null){j=b.contentWindow.event}var l=new Object();var k=0;var g=0;if(Wicket.Browser.isIE()||Wicket.Browser.isGecko()){k=Wicket.Window.getScrollX();g=Wicket.Window.getScrollY()}l.clientX=j.clientX+Wicket.Iframe.findPosX(b)-k;l.clientY=j.clientY+Wicket.Iframe.findPosY(b)-g;d.onmouseup(l)};c.push(b);Wicket.Iframe.documentFix(a,c)}catch(e){}},revertForward:function(b){var a=b.contentWindow.document;a.onmousemove=a.old_onmousemove;a.onmouseup=a.old_onmouseup;a.old_onmousemove=null;a.old_onmouseup=null},documentFix:function(e,c){var d=e.getElementsByTagName("iframe");for(var a=0;a<d.length;++a){var b=d[a];if(b.tagName!=null){Wicket.Iframe.forwardEvents(e,b,c)}}},documentRevert:function(c){for(var a=0;a<c.length;++a){var b=c[a];Wicket.Iframe.revertForward(b)}}};Wicket.Window=Class.create();Wicket.Window.unloadConfirmation=false;Wicket.Window.create=function(a){var b;if(typeof(a.src)!="undefined"&&Wicket.Browser.isKHTML()==false){try{b=window.parent.Wicket.Window}catch(c){}}if(typeof(b)=="undefined"){b=Wicket.Window}return new b(a)};Wicket.Window.get=function(){var a=null;if(typeof(Wicket.Window.current)!="undefined"){a=Wicket.Window.current}else{try{a=window.parent.Wicket.Window.current}catch(b){}}return a};Wicket.Window.close=function(){var a;try{a=window.parent.Wicket.Window}catch(b){}if(typeof(a)!="undefined"&&typeof(a.current)!="undefined"){window.parent.setTimeout(function(){a.current.close()},0)}};Wicket.Window.prototype={initialize:function(a){this.settings=Object.extend({minWidth:200,minHeight:150,className:"w_blue",width:600,height:300,resizable:true,widthUnit:"px",heightUnit:"px",src:null,element:null,iframeName:null,cookieId:null,title:null,onCloseButton:function(){this.caption.getElementsByTagName("a")[0].focus();this.caption.getElementsByTagName("a")[0].blur();this.close();return false}.bind(this),onClose:function(){},mask:"semi-transparent"},a||{})},isIframe:function(){return this.settings.src!=null},createDOM:function(){var e=this.newId();var q=this.newId();var r=this.newId();var l=this.newId();var n=this.newId();var b=this.newId();var k=this.newId();var d=this.newId();var g=this.newId();var c=this.newId();var a=this.newId();var m=this.newId();var o=this.newId();var t=Wicket.Window.getMarkup(e,q,r,l,n,b,k,d,g,c,a,m,o,this.isIframe());var j=document.createElement("div");document.body.appendChild(j);Wicket.replaceOuterHtml(j,t);var p=function(u){return document.getElementById(u)};this.window=p(e);this.classElement=p(q);this.caption=p(r);this.content=p(l);this.top=p(n);this.topLeft=p(b);this.topRight=p(k);this.left=p(d);this.right=p(g);this.bottomLeft=p(c);this.bottomRight=p(a);this.bottom=p(m);this.captionText=p(o);if(Wicket.Browser.isIE()){if(Wicket.Browser.isIE7()==false||Wicket.Browser.isIEQuirks()){this.topLeft.style.marginRight="-3px";this.topRight.style.marginLeft="-3px";this.bottomLeft.style.marginRight="-3px";this.bottomRight.style.marginLeft="-3px"}}if(Wicket.Browser.isIE()||Wicket.Browser.isGecko()){this.window.style.position="absolute"}if(this.settings.resizable==false){this.top.style.cursor=this.topLeft.style.cursor=this.topRight.style.cursor=this.bottom.style.cursor=this.bottomLeft.style.cursor=this.bottomRight.style.cursor=this.left.style.cursor=this.right.style.cursor="default"}},newId:function(){return"_wicket_window_"+Wicket.Window.idCounter++},bind:function(a,b){Wicket.Drag.init(a,this.onBegin.bind(this),this.onEnd.bind(this),b.bind(this))},unbind:function(a){Wicket.Drag.clean(a)},bindInit:function(){this.bind(this.caption,this.onMove);if(this.settings.resizable){this.bind(this.bottomRight,this.onResizeBottomRight);this.bind(this.bottomLeft,this.onResizeBottomLeft);this.bind(this.bottom,this.onResizeBottom);this.bind(this.left,this.onResizeLeft);this.bind(this.right,this.onResizeRight);this.bind(this.topLeft,this.onResizeTopLeft);this.bind(this.topRight,this.onResizeTopRight);this.bind(this.top,this.onResizeTop)}else{this.bind(this.bottomRight,this.onMove);this.bind(this.bottomLeft,this.onMove);this.bind(this.bottom,this.onMove);this.bind(this.left,this.onMove);this.bind(this.right,this.onMove);this.bind(this.topLeft,this.onMove);this.bind(this.topRight,this.onMove);this.bind(this.top,this.onMove)}this.caption.getElementsByTagName("a")[0].onclick=this.settings.onCloseButton.bind(this)},bindClean:function(){this.unbind(this.caption);this.unbind(this.bottomRight);this.unbind(this.bottomLeft);this.unbind(this.bottom);this.unbind(this.left);this.unbind(this.right);this.unbind(this.topLeft);this.unbind(this.topRight);this.unbind(this.top);this.caption.getElementsByTagName("a")[0].onclick=null},getContentDocument:function(){if(this.isIframe()==true){return this.content.contentWindow.document}else{return document}},center:function(){var c=0;var e=0;if(Wicket.Browser.isIE()||Wicket.Browser.isGecko()){e=Wicket.Window.getScrollX();c=Wicket.Window.getScrollY()}var g=Wicket.Window.getViewportWidth();var a=Wicket.Window.getViewportHeight();var b=this.window.offsetWidth;var d=this.window.offsetHeight;var k=(g/2)-(b/2)+e;var j=55+c;this.window.style.left=k+"px";this.window.style.top=j+"px"},cookieKey:"wicket-modal-window-positions",cookieExp:31,findPositionString:function(b){var e=Wicket.Cookie.get(this.cookieKey);var a=e!=null?e.split("|"):new Array();for(var d=0;d<a.length;++d){if(a[d].indexOf(this.settings.cookieId+"::")==0){var c=a[d];if(b){a.splice(d,1);Wicket.Cookie.set(this.cookieKey,a.join("|"),this.cookieExp)}return c}}return null},savePosition:function(){if(typeof(this.settings.cookieId)!="undefined"&&this.settings.cookieId!=null){this.findPositionString(true);if(a==null||a.length==0){a=""}else{a=a+"|"}var a=this.settings.cookieId;a+="::";a+=this.window.style.left+",";a+=this.window.style.top+",";a+=this.window.style.width+",";a+=this.content.style.height;var b=Wicket.Cookie.get(this.cookieKey);if(b!=null){a+="|"+b}Wicket.Cookie.set(this.cookieKey,a,this.cookieExp)}},loadPosition:function(){if(typeof(this.settings.cookieId)!="undefined"&&this.settings.cookieId!=null){var b=this.findPositionString(false);if(b!=null){var c=b.split("::");var a=c[1].split(",");if(a.length==4){this.window.style.left=a[0];this.window.style.top=a[1];this.window.style.width=a[2];this.content.style.height=a[3]}}}},createMask:function(){if(this.settings.mask=="transparent"){this.mask=new Wicket.Window.Mask(true)}else{if(this.settings.mask=="semi-transparent"){this.mask=new Wicket.Window.Mask(false)}}if(typeof(this.mask)!="undefined"){this.mask.show()}},destroyMask:function(){this.mask.hide();this.mask=null},load:function(){if(this.settings.title==null){this.update=window.setInterval(this.updateTitle.bind(this),100)}this.content.src=this.settings.src;if(Wicket.Browser.isOpera()||Wicket.Browser.isSafari()){this.content.onload=function(){this.content.contentWindow.name=this.settings.iframeName}}else{this.content.contentWindow.name=this.settings.iframeName}},show:function(){this.createDOM();this.classElement.className=this.settings.className;if(this.isIframe()){this.load()}else{if(this.settings.element==null){throw"Either src or element must be set."}this.oldParent=this.settings.element.parentNode;this.settings.element.parentNode.removeChild(this.settings.element);this.content.appendChild(this.settings.element);this.content.style.overflow="auto"}this.bindInit();if(this.settings.title!=null){this.captionText.innerHTML=this.settings.title}this.window.style.width=this.settings.width+(this.settings.resizable?"px":this.settings.widthUnit);if(this.settings.height!=null){this.content.style.height=this.settings.height+(this.settings.resizable?"px":this.settings.heightUnit)}this.center();this.loadPosition();var a=function(){if(typeof(this.oldWindow)!="undefined"){this.oldWindow.window.style.zIndex=Wicket.Window.Mask.zIndex-1}this.window.style.visibility="visible"}.bind(this);if(Wicket.Window.current!=null){this.oldWindow=Wicket.Window.current}Wicket.Window.current=this;if(Wicket.Browser.isGecko()&&this.isIframe()){window.setTimeout(function(){a()},0)}else{a()}if(this.content.focus){this.content.focus();this.content.blur()}this.old_onunload=window.onunload;window.onunload=function(){this.close(true);if(this.old_onunload!=null){return this.old_onunload()}}.bind(this);this.old_onbeforeunload=window.onbeforeunload;if(Wicket.Window.unloadConfirmation==true){window.onbeforeunload=function(){return"Reloading this page will cause the modal window to disappear."}}this.createMask()},canClose:function(){return true},canCloseInternal:function(){try{if(this.isIframe()==true){var a=this.content.contentWindow.Wicket.Window.current;if(typeof(a)!="undefined"&&a!=null){alert("You can't close this modal window. Close the top-level modal window first.");return false}}}catch(b){}return true},close:function(a){if(a!=true&&(!this.canClose()||!this.canCloseInternal())){return}if(typeof(this.update)!="undefined"){window.clearInterval(this.update)}this.bindClean();this.window.style.display="none";if(typeof(this.oldParent!="undefined")){try{this.content.removeChild(this.settings.element);this.oldParent.appendChild(this.settings.element);this.oldParent=null}catch(c){}}this.window.parentNode.removeChild(this.window);this.window=this.classElement=this.caption=this.bottomLeft=this.bottomRight=this.bottom=this.left=this.right=this.topLeft=this.topRight=this.top=this.captionText=null;window.onunload=this.old_onunload;this.old_onunload=null;window.onbeforeunload=this.old_onbeforeunload;this.old_onbeforeunload=null;this.destroyMask();if(a!=true){this.settings.onClose()}if(this.oldWindow!=null){Wicket.Window.current=this.oldWindow;Wicket.Window.current.window.style.zIndex=Wicket.Window.Mask.zIndex+1;this.oldWindow=null}else{Wicket.Window.current=null}if(Wicket.Browser.isIE()){var b=document.createElement("input");document.body.insertBefore(b,document.body.firstChild);b.focus();document.body.removeChild(b)}},destroy:function(){this.settings=null},updateTitle:function(){try{if(this.content.contentWindow.document.title!=null){if(this.captionText.innerHTML!=this.content.contentWindow.document.title){this.captionText.innerHTML=this.content.contentWindow.document.title;if(Wicket.Browser.isKHTML()){this.captionText.style.display="none";window.setTimeout(function(){this.captionText.style.display="block"}.bind(this),0)}}}}catch(a){Wicket.Log.info(a)}},onBegin:function(a){if(this.isIframe()&&(Wicket.Browser.isGecko()||Wicket.Browser.isIE())){this.revertList=new Array();Wicket.Iframe.documentFix(document,this.revertList)}},onEnd:function(a){if(typeof(this.revertList)!="undefined"&&this.revertList!=null){Wicket.Iframe.documentRevert(this.revertList);this.revertList=null;if(Wicket.Browser.isKHTML()||this.content.style.visibility=="hidden"){this.content.style.visibility="hidden";window.setTimeout(function(){this.content.style.visibility="visible"}.bind(this),0)}this.revertList=null}this.savePosition()},onMove:function(e,d,b){var c=this.window;var a=parseInt(c.style.left,10)+d;var g=parseInt(c.style.top,10)+b;if(a<0){a=0}if(g<0){g=0}c.style.left=a+"px";c.style.top=g+"px"},resizing:function(){},clipSize:function(b,a){this.res=[0,0];if(this.width<this.settings.minWidth){this.left-=this.settings.minWidth-this.width;this.res[0]=this.settings.minWidth-this.width;this.width=this.settings.minWidth}if(this.height<this.settings.minHeight){this.top-=this.settings.minHeight-this.height;this.res[1]=this.settings.minHeight-this.height;this.height=this.settings.minHeight}if(b==true){this.res[0]=-this.res[0]}if(a==true){this.res[1]=-this.res[1]}},onResizeBottomRight:function(d,c,a){var b=this.window;var e=this.content;this.width=parseInt(b.style.width,10)+c;this.height=parseInt(e.style.height,10)+a;this.clipSize();b.style.width=this.width+"px";e.style.height=this.height+"px";this.resizing();return this.res},onResizeBottomLeft:function(d,c,a){var b=this.window;var e=this.content;this.width=parseInt(b.style.width,10)-c;this.height=parseInt(e.style.height,10)+a;this.left=parseInt(b.style.left,10)+c;this.clipSize(true);b.style.width=this.width+"px";b.style.left=this.left+"px";e.style.height=this.height+"px";return this.res},onResizeBottom:function(c,b,a){var d=this.content;this.height=parseInt(d.style.height,10)+a;this.clipSize();d.style.height=this.height+"px";this.resizing();return this.res},onResizeLeft:function(d,c,a){var b=this.window;this.width=parseInt(b.style.width,10)-c;this.left=parseInt(b.style.left,10)+c;this.clipSize(true);b.style.width=this.width+"px";b.style.left=this.left+"px";this.resizing();return this.res},onResizeRight:function(d,c,a){var b=this.window;this.width=parseInt(b.style.width,10)+c;this.clipSize();b.style.width=this.width+"px";this.resizing();return this.res},onResizeTopLeft:function(d,c,a){var b=this.window;var e=this.content;this.width=parseInt(b.style.width,10)-c;this.height=parseInt(e.style.height,10)-a;this.left=parseInt(b.style.left,10)+c;this.top=parseInt(b.style.top,10)+a;this.clipSize(true,true);b.style.width=this.width+"px";b.style.left=this.left+"px";e.style.height=this.height+"px";b.style.top=this.top+"px";this.resizing();return this.res},onResizeTopRight:function(d,c,a){var b=this.window;var e=this.content;this.width=parseInt(b.style.width,10)+c;this.height=parseInt(e.style.height,10)-a;this.top=parseInt(b.style.top,10)+a;this.clipSize(false,true);b.style.width=this.width+"px";e.style.height=this.height+"px";b.style.top=this.top+"px";this.resizing();return this.res},onResizeTop:function(d,c,a){var e=this.content;var b=this.window;this.height=parseInt(e.style.height,10)-a;this.top=parseInt(b.style.top,10)+a;this.clipSize(false,true);e.style.height=this.height+"px";b.style.top=this.top+"px";this.resizing();return this.res}};Wicket.Window.idCounter=0;Wicket.Window.getMarkup=function(g,p,q,n,m,c,k,e,j,d,b,l,o,a){var r='<div class="wicket-modal" id="'+g+'" style="top: 10px; left: 10px; width: 100px;"><div id="'+p+'"><div class="w_top_1"><div class="w_topLeft" id="'+c+'"></div><div class="w_topRight" id="'+k+'"></div><div class="w_top" id=\''+m+"'></div></div><div class=\"w_left\" id='"+e+'\'><div class="w_right_1"><div class="w_right" id=\''+j+'\'><div class="w_content_1" onmousedown="if (Wicket.Browser.isSafari()) { event.ignore = true; }  else { Wicket.stopEvent(event); } "><div class="w_caption"  id="'+q+'"><a class="w_close" href="#"></a><span id="'+o+'" class="w_captionText"></span></div><div class="w_content_2"><div class="w_content_3"><div class="w_content">';if(a){r+="<iframe src='://0' frameborder=\"0\" id='"+n+'\' allowtransparency="false" style="height: 200px"></iframe>'}else{r+="<div id='"+n+"'></div>"}r+='</div></div></div></div></div></div></div><div class="w_bottom_1" id="'+l+'"><div class="w_bottomRight"  id="'+b+'"></div><div class="w_bottomLeft" id="'+d+'"></div><div class="w_bottom" id="'+l+'"></div></div></div></div>';return r};Wicket.Window.Mask=Class.create();Wicket.Window.Mask.zIndex=20000;Wicket.Window.Mask.prototype={initialize:function(a){this.transparent=a},show:function(){if(typeof(Wicket.Window.Mask.element)=="undefined"||Wicket.Window.Mask.element==null){var c=document.createElement("div");document.body.appendChild(c);if(this.transparent){c.className="wicket-mask-transparent"}else{c.className="wicket-mask-dark"}c.style.zIndex=Wicket.Window.Mask.zIndex;if(this.transparent==false){if(Wicket.Browser.isKHTML()==false){c.style.backgroundImage="none"}else{c.style.backgroundColor="transparent"}}if(Wicket.Browser.isIE()||Wicket.Browser.isGecko()){c.style.position="absolute"}this.element=c;this.old_onscroll=window.onscroll;this.old_onresize=window.onresize;window.onscroll=this.onScrollResize.bind(this);window.onresize=this.onScrollResize.bind(this);this.onScrollResize(true);Wicket.Window.Mask.element=c}else{this.dontHide=true}var b=document;var a=Wicket.Window.current.oldWindow;if(typeof(a)!="undefined"){b=a.getContentDocument()}this.document=b;this.hideSelectBoxes();this.disableTabs();this.disableFocus()},hide:function(){if(typeof(Wicket.Window.Mask.element)!="undefined"&&typeof(this.dontHide)=="undefined"){document.body.removeChild(this.element);this.element=null;window.onscroll=this.old_onscroll;window.onresize=this.old_onresize;Wicket.Window.Mask.element=null}this.showSelectBoxes();this.restoreTabs();this.enableFocus();this.document=null},onScrollResize:function(d){if(this.element.style.position=="absolute"){var b=Wicket.Window.getViewportWidth();var e=Wicket.Window.getViewportHeight();var a=0;var c=0;c=Wicket.Window.getScrollX();a=Wicket.Window.getScrollY();this.element.style.top=a+"px";this.element.style.left=c+"px";if(document.all){this.element.style.width=b}this.element.style.height=e}},isParent:function(a,b){if(a.parentNode==b){return true}if(typeof(a.parentNode)=="undefined"||a.parentNode==document.body){return false}return this.isParent(a.parentNode,b)},hideSelectBoxes:function(){if(Wicket.Browser.isIE()&&Wicket.Browser.isIE7()==false){var d=Wicket.Window.current;this.boxes=new Array();var c=this.document.getElementsByTagName("select");for(var b=0;b<c.length;b++){var a=c[b];if(d.isIframe()==false&&this.isParent(a,d.content)){continue}if(a.style.visibility!="hidden"){a.style.visibility="hidden";this.boxes.push(a)}}}},showSelectBoxes:function(){if(typeof(this.boxes)!="undefined"){for(var b=0;b<this.boxes.length;++b){var a=this.boxes[b];a.style.visibility="visible"}this.boxes=null}},disableFocusElement:function(b,c){if(typeof(Wicket.Window.current)!="undefined"&&Wicket.Window.current!=null&&Wicket.Window.current.window!=b){c.push([b,b.onfocus]);b.onfocus=function(){b.blur()};for(var a=0;a<b.childNodes.length;++a){this.disableFocusElement(b.childNodes[a],c)}}},disableFocus:function(){if(Wicket.Browser.isIE()==false){this.focusRevertList=new Array();var a=this.document.getElementsByTagName("body")[0];for(var b=0;b<a.childNodes.length;++b){this.disableFocusElement(a.childNodes[b],this.focusRevertList)}}},enableFocus:function(){if(typeof(this.focusRevertList)!="undefined"){for(var a=0;a<this.focusRevertList.length;++a){var b=this.focusRevertList[a];b[0].onfocus=b[1]}}this.focusRevertList=null},disableTabs:function(){this.tabbableTags=new Array("A","BUTTON","TEXTAREA","INPUT","IFRAME");if(false&&Wicket.Browser.isIE()){var e=Wicket.Window.current;var c=0;this.tabIndexes=new Array();for(var b=0;b<this.tabbableTags.length;b++){var d=this.document.getElementsByTagName(this.tabbableTags[b]);for(var a=0;a<d.length;a++){if(e.isIframe()==true||this.isParent(d[a],e.content)==false){this.tabIndexes[c]=d[a].tabIndex;d[a].tabIndex="-1"}c++}}}},restoreTabs:function(){if(typeof(this.tabIndexes)!="undefined"){var c=0;for(var b=0;b<this.tabbableTags.length;b++){var d=this.document.getElementsByTagName(this.tabbableTags[b]);for(var a=0;a<d.length;a++){d[a].tabIndex=this.tabIndexes[c];d[a].tabEnabled=true;c++}}this.tabIndexes=null}}};Wicket.Window.getViewportHeight=function(){if(window.innerHeight!=window.undefined){return window.innerHeight}if(document.compatMode=="CSS1Compat"){return document.documentElement.clientHeight}if(document.body){return document.body.clientHeight}return window.undefined};Wicket.Window.getViewportWidth=function(){if(window.innerWidth!=window.undefined){return window.innerWidth}if(document.compatMode=="CSS1Compat"){return document.documentElement.clientWidth}if(document.body){return document.body.clientWidth}return window.undefined};Wicket.Window.getScrollX=function(){var a=(document.compatMode&&document.compatMode!="BackCompat")?document.documentElement:document.body;return document.all?a.scrollLeft:pageXOffset};Wicket.Window.getScrollY=function(){var a=(document.compatMode&&document.compatMode!="BackCompat")?document.documentElement:document.body;return document.all?a.scrollTop:pageYOffset};Wicket.Cookie={get:function(a){if(document.cookie.length>0){start=document.cookie.indexOf(a+"=");if(start!=-1){start=start+a.length+1;end=document.cookie.indexOf(";",start);if(end==-1){end=document.cookie.length}return unescape(document.cookie.substring(start,end))}}else{return null}},set:function(b,c,a){var d=new Date();d.setDate(d.getDate()+a);document.cookie=b+"="+escape(c)+((a==null)?"":";expires="+d)}};var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;function ControlVersion(){var a;var b;var c;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=b.GetVariable("$version")}catch(c){}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a="WIN 6,0,21,0";b.AllowScriptAccess="always";a=b.GetVariable("$version")}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a=b.GetVariable("$version")}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a="WIN 3,0,18,0"}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");a="WIN 2,0,0,11"}catch(c){a=-1}}return a}function GetSwfVer(){var j=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var g=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var a=navigator.plugins["Shockwave Flash"+g].description;var e=a.split(" ");var c=e[2].split(".");var k=c[0];var b=c[1];var d=e[3];if(d==""){d=e[4]}if(d[0]=="d"){d=d.substring(1)}else{if(d[0]=="r"){d=d.substring(1);if(d.indexOf("d")>0){d=d.substring(0,d.indexOf("d"))}}}var j=k+"."+b+"."+d}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){j=4}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){j=3}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){j=2}else{if(isIE&&isWin&&!isOpera){j=ControlVersion()}}}}}return j}function DetectFlashVer(g,d,c){versionStr=GetSwfVer();if(versionStr==-1){return false}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",")}else{versionArray=versionStr.split(".")}var e=versionArray[0];var a=versionArray[1];var b=versionArray[2];if(e>parseFloat(g)){return true}else{if(e==parseFloat(g)){if(a>parseFloat(d)){return true}else{if(a==parseFloat(d)){if(b>=parseFloat(c)){return true}}}}}return false}}}function AC_AddExtension(b,a){if(b.indexOf("?")!=-1){return b.replace(/\?/,a+"?")}else{return b+a}}function AC_Generateobj(e,d,a){var c="";if(isIE&&isWin&&!isOpera){c+="<object ";for(var b in e){c+=b+'="'+e[b]+'" '}for(var b in d){c+='><param name="'+b+'" value="'+d[b]+'" /> '}c+="></object>"}else{c+="<embed ";for(var b in a){c+=b+'="'+a[b]+'" '}c+="> </embed>"}document.write(c)}function AC_FL_RunContent(){var a=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(a.objAttrs,a.params,a.embedAttrs)}function AC_GetArgs(b,e,j,d,k){var a=new Object();a.embedAttrs=new Object();a.params=new Object();a.objAttrs=new Object();for(var c=0;c<b.length;c=c+2){var g=b[c].toLowerCase();switch(g){case"classid":break;case"pluginspage":a.embedAttrs[b[c]]=b[c+1];break;case"src":case"movie":b[c+1]=AC_AddExtension(b[c+1],e);a.embedAttrs.src=b[c+1];a.params[j]=b[c+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":a.objAttrs[b[c]]=b[c+1];break;case"id":case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":a.embedAttrs[b[c]]=a.objAttrs[b[c]]=b[c+1];break;default:a.embedAttrs[b[c]]=a.params[b[c]]=b[c+1]}}a.objAttrs.classid=d;if(k){a.embedAttrs.type=k}return a}var Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(a){a=a.toUpperCase();var j=this.NODEMAP[a]||"div";var b=document.createElement(j);try{b.innerHTML="<"+a+"></"+a+">"}catch(g){}var d=b.firstChild||null;if(d&&(d.tagName.toUpperCase()!=a)){d=d.getElementsByTagName(a)[0]}if(!d){d=document.createElement(a)}if(!d){return}if(arguments[1]){if(this._isStringOrNumber(arguments[1])||(arguments[1] instanceof Array)||arguments[1].tagName){this._children(d,arguments[1])}else{var c=this._attributes(arguments[1]);if(c.length){try{b.innerHTML="<"+a+" "+c+"></"+a+">"}catch(g){}d=b.firstChild||null;if(!d){d=document.createElement(a);for(attr in arguments[1]){d[attr=="class"?"className":attr]=arguments[1][attr]}}if(d.tagName.toUpperCase()!=a){d=b.getElementsByTagName(a)[0]}}}}if(arguments[2]){this._children(d,arguments[2])}return d},_text:function(a){return document.createTextNode(a)},ATTR_MAP:{className:"class",htmlFor:"for"},_attributes:function(a){var b=[];for(attribute in a){b.push((attribute in this.ATTR_MAP?this.ATTR_MAP[attribute]:attribute)+'="'+a[attribute].toString().escapeHTML().gsub(/"/,"&quot;")+'"')}return b.join(" ")},_children:function(b,a){if(a.tagName){b.appendChild(a);return}if(typeof a=="object"){a.flatten().each(function(c){if(typeof c=="object"){b.appendChild(c)}else{if(Builder._isStringOrNumber(c)){b.appendChild(Builder._text(c))}}})}else{if(Builder._isStringOrNumber(a)){b.appendChild(Builder._text(a))}}},_isStringOrNumber:function(a){return(typeof a=="string"||typeof a=="number")},build:function(b){var a=this.node("div");$(a).update(b.strip());return a.down()},dump:function(b){if(typeof b!="object"&&typeof b!="function"){b=window}var a=("A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR").split(/\s+/);a.each(function(c){b[c]=function(){return Builder.node.apply(Builder,[c].concat($A(arguments)))}})}};if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(o,b,p,e,l,m,j,g,d,n){if(!document.getElementById){return}this.DETECT_KEY=n?n:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(o){this.setAttribute("swf",o)}if(b){this.setAttribute("id",b)}if(p){this.setAttribute("width",p)}if(e){this.setAttribute("height",e)}if(l){this.setAttribute("version",new deconcept.PlayerVersion(l.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(m){this.addParam("bgcolor",m)}var a=j?j:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var k=(g)?g:window.location;this.setAttribute("xiRedirectUrl",k);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d)}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b]}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var g=this.getParams();for(var e in g){b+=[e]+'="'+g[e]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var g=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){g=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);g=new deconcept.PlayerVersion([c,0,0])}catch(d){b=null}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");g=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always"}catch(d){if(g.major==6){return g}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(b!=null){g=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","))}}}return g};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;if(typeof scriptCallbacks!="undefined"&&scriptCallbacks.constructor==Array&&typeof scriptCallbacks.PAJ!="undefined"&&scriptCallbacks.PAJ.constructor==Array){while(scriptCallbacks.PAJ.length>0){var callback=scriptCallbacks.PAJ.pop();callback()}}if(typeof scriptLoaded=="undefined"||scriptLoaded.constructor!=Array){scriptLoaded=new Array()}scriptLoaded.PAJ=true;